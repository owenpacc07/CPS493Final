{"version":3,"file":"oruga.mjs","sources":["../src/utils/helpers.ts","../src/utils/programmatic.ts","../src/utils/plugins.ts","../src/utils/ssr.ts","../src/utils/config.ts","../src/utils/icons.ts","../src/composables/unrefElement.ts","../src/composables/defineClasses.ts","../src/composables/useEventListener.ts","../src/composables/useMatchMedia.ts","../src/components/field/fieldInjection.ts","../src/composables/useInputHandler.ts","../src/composables/useDebounce.ts","../src/composables/useSequentialId.ts","../src/composables/useParentProvider.ts","../src/composables/useClickOutside.ts","../src/composables/useScrollingParent.ts","../src/composables/useOptions.ts","../src/composables/usePreventScrolling.ts","../src/composables/useConfig.ts","../src/composables/useTrapFocus.ts","../src/components/icon/Icon.vue","../src/components/input/Input.vue","../src/components/dropdown/DropdownItem.vue","../src/components/utils/PositionWrapper.vue","../src/composables/useScrollHelper.ts","../src/composables/useInfiniteScroll.ts","../src/components/dropdown/Dropdown.vue","../src/components/autocomplete/Autocomplete.vue","../src/components/autocomplete/index.ts","../src/components/button/Button.vue","../src/components/button/index.ts","../src/components/carousel/Carousel.vue","../src/components/carousel/CarouselItem.vue","../src/components/carousel/index.ts","../src/components/checkbox/Checkbox.vue","../src/components/checkbox/index.ts","../src/components/collapse/Collapse.vue","../src/components/collapse/index.ts","../src/components/select/Select.vue","../src/components/utils/PickerWrapper.vue","../src/components/datepicker/utils.ts","../src/components/datepicker/useDatepickerMixins.ts","../src/components/datepicker/DatepickerTableRow.vue","../src/components/datepicker/DatepickerTable.vue","../src/components/datepicker/DatepickerMonth.vue","../src/components/datepicker/Datepicker.vue","../src/components/datepicker/index.ts","../src/components/timepicker/useTimepickerMixins.ts","../src/components/timepicker/Timepicker.vue","../src/components/datetimepicker/useDatetimepickerMixin.ts","../src/components/datetimepicker/Datetimepicker.vue","../src/components/datetimepicker/index.ts","../src/components/dropdown/index.ts","../src/components/field/Field.vue","../src/components/field/index.ts","../src/components/icon/index.ts","../src/components/input/index.ts","../src/components/loading/Loading.vue","../src/components/programmatic/InstanceRegistry.ts","../src/components/programmatic/ProgrammaticComponent.ts","../src/components/programmatic/useProgrammatic.ts","../src/components/programmatic/index.ts","../src/components/loading/useLoadingProgrammatic.ts","../src/components/loading/index.ts","../src/components/menu/MenuItem.vue","../src/components/menu/Menu.vue","../src/components/menu/index.ts","../src/components/modal/Modal.vue","../src/components/modal/useModalProgrammatic.ts","../src/components/modal/index.ts","../src/components/notification/Notification.vue","../src/components/notification/NotificationNotice.vue","../src/components/notification/useNotificationProgrammatic.ts","../src/components/notification/index.ts","../src/components/pagination/PaginationButton.vue","../src/components/pagination/Pagination.vue","../src/components/pagination/index.ts","../src/components/radio/Radio.vue","../src/components/radio/index.ts","../src/components/select/index.ts","../src/components/skeleton/Skeleton.vue","../src/components/skeleton/index.ts","../src/components/sidebar/Sidebar.vue","../src/components/sidebar/useSidebarProgrammatic.ts","../src/components/sidebar/index.ts","../src/components/tooltip/Tooltip.vue","../src/components/slider/SliderThumb.vue","../src/components/slider/SliderTick.vue","../src/components/slider/Slider.vue","../src/components/slider/index.ts","../src/components/steps/StepItem.vue","../src/components/steps/Steps.vue","../src/components/steps/index.ts","../src/components/switch/Switch.vue","../src/components/switch/index.ts","../src/components/utils/SlotComponent.ts","../src/components/table/TableMobileSort.vue","../src/components/table/TableColumn.vue","../src/components/table/TablePagination.vue","../src/components/table/Table.vue","../src/components/table/index.ts","../src/components/tabs/TabItem.vue","../src/components/tabs/Tabs.vue","../src/components/tabs/index.ts","../src/components/taginput/Taginput.vue","../src/components/taginput/index.ts","../src/components/timepicker/index.ts","../src/components/tooltip/index.ts","../src/components/upload/Upload.vue","../src/components/upload/index.ts","../src/index.ts"],"sourcesContent":["import { Comment, Fragment, Text } from \"vue\";\nimport type { DeepType } from \"@/types\";\n\n/**\n * +/- function to native math sign\n */\nfunction signPoly(value: number): number {\n    if (value < 0) return -1;\n    return value > 0 ? 1 : 0;\n}\nexport const sign = Math.sign || signPoly;\n\n/**\n * Native modulo bug with negative numbers\n * @param n\n * @param mod\n * @returns {number}\n */\nexport const mod = (n: number, mod: number): number => ((n % mod) + mod) % mod;\n\n/** add a prefix `0` to a 1 digit number */\nexport const pad = (value: number): string => (value < 10 ? \"0\" : \"\") + value;\n\n/**\n * Asserts a value is beetween min and max\n * @param val\n * @param min\n * @param max\n * @returns {number}\n */\nexport function bound(val: number, min: number, max: number): number {\n    return Math.max(min, Math.min(max, val));\n}\n\n/**\n * checks if the value is of type object\n */\nexport const isObject = (value: unknown): value is object =>\n    !!value && typeof value === \"object\" && !Array.isArray(value);\n\n/**\n * checks if the value is of type date\n */\nexport const isDate = (value: unknown): value is Date =>\n    !!value && value instanceof Date && !isNaN(value.getTime());\n\n/**\n * checks if the value is not null or undefined\n */\nexport const isDefined = <T>(value: T | undefined | null): value is T =>\n    value !== null && typeof value !== \"undefined\";\n\n/**\n * Determines if the value of a prop that is either present (true) or not\n * present (undefined). For example, the prop disabled should disable\n * by just existing, but what if it is set to the string \"false\" â€” then it\n * should not be disabled.\n *\n * @param value - Value to check for undefined.\n * @returns boolean\n */\nexport const isTrueish = (value: unknown): boolean =>\n    isDefined(value) && value !== \"false\" && value !== false;\n\nexport const blankIfUndefined = (value: string | null | undefined): string =>\n    isDefined(value) ? value : \"\";\n\nexport const defaultIfUndefined = <T>(\n    value: T | undefined,\n    defaultValue: T,\n): T => (isDefined(value) ? value : defaultValue);\n\nexport const toCssDimension = (\n    width: string | number | undefined,\n    dimension: string = \"px\",\n): string | undefined =>\n    !isDefined(width)\n        ? undefined\n        : isNaN(width as number)\n          ? String(width)\n          : String(width) + dimension;\n\n/**\n * Sort an array by key without mutating original data.\n * Call the user sort function if it was passed.\n */\nexport function sortBy<T>(\n    array: T[],\n    key: string,\n    fn?: (a: T, b: T, asc: boolean) => number,\n    isAsc: boolean = false,\n    mutate: boolean = false,\n): T[] {\n    // Sorting without mutating original data\n    if (fn && typeof fn === \"function\") {\n        return (mutate ? array : [...array]).sort((a, b) => fn(a, b, isAsc));\n    } else {\n        return (mutate ? array : [...array]).sort((a, b) => {\n            // Get nested values from objects\n            let newA: any = isObject(a) ? getValueByPath(a, key) : a;\n            let newB: any = isObject(b) ? getValueByPath(b, key) : b;\n\n            // sort boolean type\n            if (typeof newA === \"boolean\" && typeof newB === \"boolean\") {\n                return isAsc ? (newA > newB ? 1 : -1) : newA > newB ? -1 : 1;\n            }\n\n            if (!newA && newA !== 0) return 1;\n            if (!newB && newB !== 0) return -1;\n            if (newA === newB) return 0;\n\n            newA = typeof newA === \"string\" ? newA.toUpperCase() : newA;\n            newB = typeof newB === \"string\" ? newB.toUpperCase() : newB;\n\n            return isAsc ? (newA > newB ? 1 : -1) : newA > newB ? -1 : 1;\n        });\n    }\n}\n\n/**\n * Deeply check if two values are equal\n */\nexport function isEqual(valueA: unknown, valueB: unknown): boolean {\n    // Check if only one value is empty.\n    if ((!valueA && !!valueB) || (!!valueA && !valueB)) return false;\n\n    // If both objects are identical, return true.\n    if (valueA === valueB) return true;\n\n    // Check if both values are objecs.\n    if (isObject(valueA) && isObject(valueB)) {\n        // Get the keys of both objects.\n        const keys1 = Object.keys(valueA);\n        const keys2 = Object.keys(valueB);\n\n        // Check if the number of keys is the same.\n        if (keys1.length !== keys2.length) return false;\n\n        // Iterate through the keys and compare their values recursively.\n        for (const key of keys1) {\n            const val1 = valueA[key];\n            const val2 = valueB[key];\n            const areObjects = isObject(val1) && isObject(val2);\n            if (\n                (areObjects && !isEqual(val1, val2)) ||\n                (!areObjects && val1 !== val2)\n            )\n                return false;\n        }\n        // If all checks pass, the objects are deep equal.\n        return true;\n    }\n\n    // Check if both values are arrays.\n    if (Array.isArray(valueA) && Array.isArray(valueB)) {\n        // Check if the number of keys is the same.\n        if (valueA.length !== valueB.length) return false;\n        // Check if each value of the array is the same.\n        if (!valueA.every((val, index) => val === valueB[index])) return false;\n        // If all checks pass, the arrays are deep equal.\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * @deprecated not used\n * Returns true if it is a DOM element\n * @source https://stackoverflow.com/questions/384286/how-do-you-check-if-a-javascript-object-is-a-dom-object\n */\nexport function isElement(el: any): el is Element {\n    return typeof HTMLElement === \"object\"\n        ? el instanceof HTMLElement //DOM2\n        : el &&\n              typeof el === \"object\" &&\n              el !== null &&\n              el.nodeType === 1 &&\n              typeof el.nodeName === \"string\";\n}\n\n/**\n * Return display text for an option.\n * If option is an object, get the property from path based on given field, or else just the property.\n * Apply a formatter function to the property if given.\n * Return the display label.\n *\n * @param obj Object to get the label for\n * @param field  Property path of the object to use as display text\n * @param formatter Function to format the property to a string\n */\nexport function getPropertyValue<O, K extends keyof O | string>(\n    obj: O,\n    field?: K,\n    formatter?: (value: DeepType<O, K>, option: O) => string,\n): string {\n    if (!obj) return \"\";\n\n    const property = (\n        field ? getValueByPath<O, K>(obj, field) : obj\n    ) as DeepType<O, K>;\n\n    const label =\n        typeof formatter === \"function\" ? formatter(property, obj) : property;\n\n    return String(label || \"\");\n}\n\n/**\n * Merge function to replace Object.assign with deep merging possibility\n */\nexport function merge(target: any, source: any, deep = false): any {\n    if (!isObject(target) || !isObject(source)) return source;\n    if (!deep) return Object.assign(target, source);\n    else return mergeDeep(target, source);\n}\n\n/**\n * Performs a deep merge of `source` into `target`.\n * Mutates `target` only but not its objects and arrays.\n *\n * @author inspired by [jhildenbiddle](https://stackoverflow.com/a/48218209).\n */\nexport function mergeDeep(target: any, source: any): any {\n    if (!isObject(target) || !isObject(source)) return source;\n\n    Object.getOwnPropertyNames(source).forEach((key) => {\n        const targetValue = target[key];\n        const sourceValue = source[key];\n\n        if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\n            target[key] = targetValue.concat(sourceValue);\n        } else if (isObject(targetValue) && isObject(sourceValue)) {\n            target[key] = mergeDeep(\n                Object.assign({}, targetValue),\n                sourceValue,\n            );\n        } else {\n            target[key] = sourceValue;\n        }\n    });\n\n    return target;\n}\n\n/**\n * Get a value of an object property/path even if it's nested\n */\nexport function getValueByPath<O, K extends keyof O | string>(\n    obj: O,\n    path: K,\n    defaultValue?: DeepType<O, K>,\n): DeepType<O, K> | undefined {\n    if (!obj || typeof obj !== \"object\" || typeof path !== \"string\")\n        return defaultValue;\n\n    const value: any = path\n        .split(\".\")\n        .reduce((o, i) => (typeof o !== \"undefined\" ? o[i] : undefined), obj);\n\n    return typeof value !== \"undefined\" ? value : defaultValue;\n}\n\n/**\n * Set a value of an object property/path even if it's nested\n */\nexport function setValueByPath(\n    obj: Record<string, any>,\n    path: string,\n    value: any,\n): void {\n    const p = path.split(\".\");\n    if (p.length === 1) {\n        obj[path] = value;\n        return;\n    }\n    const field = p[0];\n    if (typeof obj[field] === \"undefined\") obj[field] = {};\n    return setValueByPath(obj[field], p.slice(1).join(\".\"), value);\n}\n\nexport function removeElement(el: Element): void {\n    if (typeof el.remove !== \"undefined\") {\n        el.remove();\n    } else if (typeof el.parentNode !== \"undefined\" && el.parentNode !== null) {\n        el.parentNode.removeChild(el);\n    }\n}\n\n/**\n * Escape regex characters\n * http://stackoverflow.com/a/6969486\n */\nexport function escapeRegExpChars(value: string): string {\n    if (!value) return value;\n\n    return value.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n}\n\n/**\n * Remove accents/diacritics in a string\n * https://stackoverflow.com/a/37511463\n */\nexport function removeDiacriticsFromString(value: string): string {\n    if (!value) return value;\n    return value.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n}\n\n/** checks if a vue vnode is empty */\nexport function isVNodeEmpty(vnode): boolean {\n    if (!vnode) return true;\n    if (vnode.type === Comment) return true;\n    if (vnode.type === Text && !vnode.children.trim()) return true;\n    if (vnode.type === Fragment && isVNodeEmpty(vnode.children)) return true;\n    return false;\n}\n\n/**\n * Mobile detection\n * https://www.abeautifulsite.net/detecting-mobile-devices-with-javascript\n */\nexport const isMobileAgent = {\n    Android: (): boolean =>\n        typeof window !== \"undefined\" &&\n        !!window.navigator.userAgent.match(/Android/i),\n    BlackBerry: (): boolean =>\n        typeof window !== \"undefined\" &&\n        !!window.navigator.userAgent.match(/BlackBerry/i),\n    iOS: (): boolean =>\n        typeof window !== \"undefined\" &&\n        !!window.navigator.userAgent.match(/iPhone|iPad|iPod/i),\n    Opera: (): boolean =>\n        typeof window !== \"undefined\" &&\n        !!window.navigator.userAgent.match(/Opera Mini/i),\n    Windows: (): boolean =>\n        typeof window !== \"undefined\" &&\n        !!window.navigator.userAgent.match(/IEMobile/i),\n    any: (): boolean =>\n        isMobileAgent.Android() ||\n        isMobileAgent.BlackBerry() ||\n        isMobileAgent.iOS() ||\n        isMobileAgent.Opera() ||\n        isMobileAgent.Windows(),\n};\n","import { ref } from \"vue\";\n\nexport interface OrugaProgrammatic {\n    [key: string]: Record<string, any>;\n}\n\n/** Oruga object for programmatic components */\nconst oruga = ref<OrugaProgrammatic>({} as OrugaProgrammatic);\n\n/** Add components to the oruga object */\nexport function addProgrammatic(property: string, component: object): void {\n    oruga.value[property] = component;\n}\n\n/** Composable for internal and external usage of programmatic components*/\nexport function useOruga(): OrugaProgrammatic {\n    return oruga.value;\n}\n","import type { App, Component, Plugin, defineComponent } from \"vue\";\nimport { useOruga, addProgrammatic } from \"./programmatic\";\n\nexport let VueInstance: App | undefined;\n\n/** set the global vue instance */\nexport const setVueInstance = (Vue: App): void => {\n    VueInstance = Vue;\n};\n\n/** register a plugin to the vue app instance */\nexport const registerPlugin = (app: App, plugin: Plugin): void => {\n    app.use(plugin);\n};\n\n/** register a component to the vue app instance */\nexport const registerComponent = (\n    app: App,\n    component: ReturnType<typeof defineComponent>, // type Component isn't correct since vue 3.5 any more\n): void => {\n    app.component(component.name, component);\n};\n\n/** register a global programmatic component to the oruga object */\nexport const registerComponentProgrammatic = (\n    app: App,\n    property: string,\n    component: Component,\n): void => {\n    // set global vue instance\n    setVueInstance(app);\n    // use composable for unified access to programmatic oruga object\n    const oruga = useOruga();\n    // add component (manipulates the programmatic oruga object)\n    addProgrammatic(property, component);\n\n    // add provide and $oruga (only needed once)\n    if (!(app._context.provides && app._context.provides.oruga))\n        app.provide(\"oruga\", oruga);\n    if (!app.config.globalProperties.$oruga)\n        app.config.globalProperties.$oruga = oruga;\n};\n","// Polyfills for SSR\n\nexport const isClient = typeof window !== \"undefined\";\nexport const isSSR = typeof window === \"undefined\";\n\nexport const HTMLElement = isSSR ? Object : window.HTMLElement;\nexport const HTMLInputElement = isSSR ? Object : window.HTMLInputElement;\nexport const File = isSSR ? Object : window.File;\n","import { ref, toRaw, type App } from \"vue\";\nimport { getValueByPath, merge, setValueByPath } from \"./helpers\";\nimport { setVueInstance } from \"./plugins\";\nimport { isClient } from \"./ssr\";\nimport type { DeepType, OrugaOptions } from \"@/types\";\n\ndeclare module \"../index\" {\n    interface OrugaProgrammatic {\n        config: typeof ConfigProgrammatic;\n    }\n}\n\nconst globalOptions = ref<OrugaOptions>({\n    iconPack: \"mdi\",\n    useHtml5Validation: true,\n    statusIcon: true,\n    transformClasses: undefined,\n    teleportTarget: () => (isClient ? document.body : \"body\"),\n});\n\nexport const setOptions = (options: OrugaOptions): void => {\n    globalOptions.value = options;\n};\n\nexport const getOptions = (): OrugaOptions => {\n    return Object.assign({}, toRaw(globalOptions.value));\n};\n\nexport const getOption = <K extends keyof OrugaOptions | string>(\n    path: K,\n    defaultValue?: DeepType<OrugaOptions, K>,\n): DeepType<OrugaOptions, K> | undefined => {\n    return getValueByPath(globalOptions.value, path, defaultValue);\n};\n\n/** less type strict version of getOption for component props defaults */\nexport const getDefault = <T>(path: string, defaultValue?: T): T => {\n    return getValueByPath(globalOptions.value, path, defaultValue) as T & {};\n};\n\nexport const setOption = <T>(path: string, value: T): void => {\n    setValueByPath(globalOptions.value, path, value);\n};\n\nexport const ConfigProgrammatic = {\n    getOption,\n    getOptions,\n    setOption,\n    setOptions(options: OrugaOptions): void {\n        setOptions(merge(getOptions(), options, true));\n    },\n};\n\nexport const OrugaConfig = {\n    install(app: App, options?: OrugaOptions): void {\n        // set global vue instance\n        setVueInstance(app);\n        // set options\n        setOptions(merge(getOptions(), options, true));\n    },\n};\n","import { getOption } from \"./config\";\nimport { merge } from \"./helpers\";\n\nexport type IconConfig = {\n    sizes?: { default: string; [key: string]: string };\n    iconPrefix?: string;\n    internalIcons?: Record<string, string>;\n};\n\nconst mdiIcons = {\n    sizes: {\n        default: \"mdi-24px\",\n        small: \"\",\n        medium: \"mdi-36px\",\n        large: \"mdi-48px\",\n    },\n    iconPrefix: \"mdi-\",\n};\n\nconst faIcons = () => {\n    const iconComponent = getOption(\"iconComponent\");\n    const faIconPrefix = iconComponent ? \"\" : \"fa-\";\n    return {\n        sizes: {\n            default: \"\",\n            small: \"sm\",\n            medium: \"lg\",\n            large: \"xl\",\n        },\n        iconPrefix: faIconPrefix,\n        internalIcons: {\n            check: \"check\",\n            information: \"info-circle\",\n            alert: \"exclamation-triangle\",\n            \"alert-circle\": \"exclamation-circle\",\n            \"arrow-up\": \"arrow-up\",\n            \"chevron-right\": \"angle-right\",\n            \"chevron-left\": \"angle-left\",\n            \"chevron-down\": \"angle-down\",\n            \"chevron-up\": \"angle-up\",\n            eye: \"eye\",\n            \"eye-off\": \"eye-slash\",\n            \"caret-down\": \"caret-down\",\n            \"caret-up\": \"caret-up\",\n            \"close-circle\": \"times-circle\",\n            close: \"times\",\n            loading: \"circle-notch\",\n            \"emoticon-sad\": \"frown\",\n        },\n    };\n};\n\nconst getIcons = (): Record<string, IconConfig> => {\n    let icons: Record<string, IconConfig> = {\n        mdi: mdiIcons,\n        fa: faIcons(),\n        fas: faIcons(),\n        far: faIcons(),\n        fad: faIcons(),\n        fab: faIcons(),\n        fal: faIcons(),\n    };\n\n    const customIconPacks = getOption(\"customIconPacks\");\n    if (customIconPacks) icons = merge(icons, customIconPacks, true);\n\n    return icons;\n};\n\nexport default getIcons;\n","import {\n    toValue,\n    type ComponentPublicInstance,\n    type MaybeRefOrGetter,\n    type MaybeRef,\n    type Component,\n} from \"vue\";\n\nexport type MaybeElement =\n    | Element\n    | Document\n    | Window\n    | HTMLElement\n    | SVGElement\n    | Component\n    | ComponentPublicInstance\n    | undefined\n    | null;\n\nexport type UnRefElementReturn<T extends MaybeElement = MaybeElement> =\n    T extends ComponentPublicInstance\n        ? Exclude<MaybeElement, ComponentPublicInstance>\n        : T extends Component\n          ? HTMLElement\n          : T | undefined;\n\n/** Get the dom element of a ref of element or Vue component instance */\nexport function unrefElement<T extends MaybeElement>(\n    elRef: MaybeRefOrGetter<T> | MaybeRef<T>,\n): UnRefElementReturn<T> {\n    const plain = toValue(elRef);\n    return (plain as ComponentPublicInstance)?.$el ?? plain;\n}\n\n/** Resolve an HTML element based on query selector or an explizit dom element */\nexport function resolveElement(\n    target: MaybeRefOrGetter<HTMLElement | string>,\n): HTMLElement | null {\n    const targetQuery = toValue(target);\n    // query element if target is a string\n    if (typeof targetQuery === \"string\")\n        return document.querySelector<HTMLElement>(targetQuery);\n    // else unwrap element\n    else return unrefElement(targetQuery);\n}\n","import {\n    ref,\n    watch,\n    isRef,\n    toValue,\n    getCurrentInstance,\n    effectScope,\n    onScopeDispose,\n    getCurrentScope,\n    type MaybeRefOrGetter,\n    type Ref,\n    type ComponentInternalInstance,\n    type EffectScope,\n} from \"vue\";\n\nimport { getOptions } from \"@/utils/config\";\nimport { isDefined, blankIfUndefined, getValueByPath } from \"@/utils/helpers\";\n\nimport type {\n    ClassBind,\n    ClassDefinition,\n    ComponentClass,\n    ComponentProps,\n    TransformFunction,\n} from \"@/types\";\n\n// named tuple as prop definition\ntype ComputedClass = readonly [\n    className: string,\n    defaultClass: string,\n    suffix?: MaybeRefOrGetter<string | undefined> | null,\n    apply?: MaybeRefOrGetter<boolean> | null,\n];\n\n/** Helper function to get all active classes from a class binding list */\nexport const getActiveClasses = (\n    classes: MaybeRefOrGetter<ClassBind[]>,\n): string[] => {\n    const values = toValue(classes);\n    if (!values) return [];\n    return values.flatMap((bind) =>\n        Object.keys(bind)\n            .filter((key) => key && bind[key])\n            .flatMap((v) => v.split(\" \")),\n    );\n};\n\ntype DefineClassesOptions = {\n    /**\n     * Pass a custom effect scope.\n     * By default a new effect scope is created.\n     * An error will be thrown if no current scope or a custom scope is given.\n     * @default effectScope()\n     */\n    scope?: EffectScope;\n    /**\n     * Pass a custom props object which will be watched on additionaly to the current component instance props.\n     * this will recompute the class bind property when the class property change.\n     * @default vm.proxy?.$props\n     */\n    props?: Record<string, any>;\n};\n\nexport function defineClasses(\n    ...args: [...ComputedClass[], DefineClassesOptions]\n): Ref<ClassBind[]>;\n\nexport function defineClasses(...args: [...ComputedClass[]]): Ref<ClassBind[]>;\n\n/**\n * Calculate dynamic classes based on class definitions\n */\nexport function defineClasses(\n    ...args: ComputedClass[] | [...ComputedClass[], DefineClassesOptions]\n): Ref<ClassBind[]> {\n    // extract last argument if its the option object\n    const options = Array.isArray(args.at(-1))\n        ? undefined\n        : (args.at(-1) as DefineClassesOptions);\n\n    // get class defintion list based on options are given or not\n    const classDefinitions = (\n        Array.isArray(args.at(-1)) ? args : args.slice(0, -1)\n    ) as ComputedClass[];\n\n    // getting a hold of the internal instance of the component in setup()\n    const vm = getCurrentInstance();\n    if (!vm)\n        throw new Error(\n            \"defineClasses must be called within a component setup function.\",\n        );\n    // check if there is no current active effect scope given\n    if (!getCurrentScope() && !options?.scope)\n        throw new Error(\n            \"defineClasses must be called within a current active effect scope.\",\n        );\n\n    // create an effect scope object to capture reactive effects\n    const scope = options?.scope || effectScope();\n\n    // check if there is a current active effect scope\n    if (getCurrentScope())\n        // Registers a dispose callback on the current active effect scope.\n        // The callback will be invoked when the associated effect scope is stopped.\n        onScopeDispose(() => {\n            // stop all effects when appropriate\n            if (scope) scope.stop();\n        });\n\n    // reactive classes container\n    const classes = ref<ClassBind[]>([]);\n\n    classes.value = classDefinitions.map((defintion, index) => {\n        const className = defintion[0];\n        const defaultClass = defintion[1];\n        const suffix = defintion[2];\n        const apply = defintion[3];\n\n        function getClassBind(): ClassBind {\n            // compute class based on definition parameter\n            const computedClass = computeClass(\n                vm!,\n                className,\n                defaultClass,\n                toValue(suffix) || undefined,\n            );\n\n            // if apply is not defined or true\n            const applied = !isDefined(apply) || toValue(apply);\n\n            // return class bind property\n            return { [computedClass]: applied };\n        }\n\n        // run all watcher and computed properties in an active effect scope\n        scope.run(() => {\n            // recompute the class bind property when the class property change\n            watch(\n                [\n                    () => vm.proxy?.$props[className],\n                    () => (options?.props ? options?.props[className] : null),\n                ],\n                () => {\n                    // recompute the class bind property\n                    const classBind = getClassBind();\n                    // update class binding property by class index\n                    classes.value[index] = classBind;\n                },\n            );\n\n            // if suffix is defined, watch suffix changed and recalculate class\n            if (isDefined(suffix) && isRef(suffix)) {\n                watch(suffix, (value, oldValue) => {\n                    // only recompute when value has really changed\n                    if (value === oldValue) return;\n                    // recompute the class bind property\n                    const classBind = getClassBind();\n                    // update class binding property by class index\n                    classes.value[index] = classBind;\n                });\n            }\n\n            // if apply is defined, watch apply changed and update apply state (no need of recalculation here)\n            if (isDefined(apply) && isRef(apply)) {\n                watch(apply, (applied, oldValue) => {\n                    // only change apply when value has really changed\n                    if (applied === oldValue) return;\n                    // get class binding property by class index\n                    const classBind = classes.value[index];\n                    // update the apply class binding state\n                    Object.keys(classBind).forEach(\n                        (key) => (classBind[key] = applied),\n                    );\n                    // update the class binding property by class index\n                    classes.value[index] = classBind;\n                });\n            }\n        });\n\n        // return computed class based on parameter\n        return getClassBind();\n    });\n\n    // return reactive classes\n    return classes;\n}\n\n/**\n * Compute a class by a field name\n */\nfunction computeClass(\n    vm: ComponentInternalInstance,\n    field: string,\n    defaultValue: string,\n    suffix = \"\",\n): string {\n    // get component props\n    const props = getProps(vm);\n\n    const componentKey: string = vm.proxy?.$options.configField;\n    if (!componentKey)\n        throw new Error(\"component must define the 'configField' option.\");\n\n    // get component instance override property\n    const config = props.override === true ? {} : getOptions();\n\n    // --- Classes Definition ---\n\n    // get component config class definition\n    let globalClass: ClassDefinition | undefined =\n        (getValueByPath(\n            config,\n            `${componentKey}.${field}.class`,\n            \"\",\n        ) as ClassDefinition) ||\n        (getValueByPath(\n            config,\n            `${componentKey}.${field}`,\n            \"\",\n        ) as ClassDefinition);\n\n    // get instance class definition\n    let localClass: ComponentClass | undefined = getValueByPath(\n        props,\n        field,\n        \"\",\n    );\n\n    // procsess local instance class\n    if (Array.isArray(localClass)) {\n        localClass = localClass.join(\" \");\n    }\n    if (typeof localClass === \"function\") {\n        const props = getProps(vm);\n        localClass = localClass(suffix, props);\n    } else {\n        localClass = suffixProcessor(localClass as string, suffix);\n    }\n\n    // process global config class\n    if (Array.isArray(globalClass)) {\n        globalClass = globalClass.join(\" \");\n    }\n    if (typeof globalClass === \"function\") {\n        const props = getProps(vm);\n        globalClass = globalClass(suffix, props);\n    } else {\n        globalClass = suffixProcessor(globalClass as string, suffix);\n    }\n\n    // process component instance default value\n    if (defaultValue.includes(\"{*}\")) {\n        defaultValue = defaultValue.replace(\n            /\\{\\*\\}/g,\n            blankIfUndefined(suffix),\n        );\n    } else {\n        defaultValue = defaultValue + blankIfUndefined(suffix);\n    }\n\n    // --- Override Definition ---\n\n    // get instance or global config override property\n    const globalOverride =\n        props.override || getValueByPath(config, \"override\", false);\n    // get component config override property\n    const localOverride = getValueByPath(\n        config,\n        `${componentKey}.override`,\n        globalOverride,\n    );\n    // get component field config override property\n    const overrideClass = getValueByPath(\n        config,\n        `${componentKey}.${field}.override`,\n        localOverride,\n    );\n\n    // --- Define Applied Classes ---\n\n    // if override is false add default value\n    // add global config classes\n    // add instance classes\n    let appliedClasses = (\n        `${!overrideClass ? defaultValue : \"\"} ` +\n        `${blankIfUndefined(globalClass)} ` +\n        `${blankIfUndefined(localClass)}`\n    )\n        .trim()\n        .replace(/\\s\\s+/g, \" \");\n\n    // --- Tranform Classes ---\n\n    // get global config tranform class\n    const globalTransformClasses = getValueByPath(\n        config,\n        \"transformClasses\",\n        undefined,\n    ) as TransformFunction;\n    // get component config tranform class\n    const localTransformClasses = getValueByPath(\n        config,\n        `${componentKey}.transformClasses`,\n        undefined,\n    ) as TransformFunction;\n\n    // apply component local transformclass if available\n    if (localTransformClasses) {\n        appliedClasses = localTransformClasses(appliedClasses);\n    }\n    // else apply global transformclass if available\n    else if (globalTransformClasses) {\n        appliedClasses = globalTransformClasses(appliedClasses);\n    }\n\n    return appliedClasses;\n}\n\nfunction suffixProcessor(input: string, suffix: string): string {\n    return blankIfUndefined(input)\n        .split(\" \")\n        .filter((cls) => cls.length > 0)\n        .map((cls) => cls + blankIfUndefined(suffix))\n        .join(\" \");\n}\n\nconst getProps = (vm: ComponentInternalInstance): ComponentProps => {\n    let props = vm.proxy?.$props || {};\n\n    // get all props which ends with \"Props\", these are compressed parent props\n    // append these parent props as root level prop\n    props = Object.keys(props)\n        .filter((key) => key.endsWith(\"Props\"))\n        .map((key) => props[key])\n        .reduce((a, b) => ({ ...a, ...b }), props);\n\n    return props;\n};\n","import {\n    onMounted,\n    watch,\n    getCurrentScope,\n    onScopeDispose,\n    type MaybeRefOrGetter,\n    type Ref,\n    type Component,\n} from \"vue\";\nimport { isObject } from \"@/utils/helpers\";\nimport { unrefElement } from \"./unrefElement\";\n\nexport type EventTarget = Element | Document | Window | Component;\nexport type EventListenerOptions = AddEventListenerOptions & {\n    /** Register event listener immediate or on mounted hook. */\n    immediate?: boolean;\n    /** Trigger when the listener get registered and removed */\n    trigger?: Ref<boolean>;\n};\n\n/**\n * Register DOM events using addEventListener on mounted, and removeEventListener automatically on unmounted.\n * Adaption of {@link  https://vueuse.org/core/useEventListener}\n *\n * @param element DOM element to add the listener to\n * @param event Event name\n * @param handler Event handler function\n * @param options EventListenerOptions\n * @return stop function\n */\nexport function useEventListener(\n    element: MaybeRefOrGetter<EventTarget>,\n    event: string,\n    handler: (evt?: any) => void,\n    options?: EventListenerOptions,\n): () => void {\n    let cleanup: () => void;\n\n    const register = (): void => {\n        if (!element) return;\n\n        const target = unrefElement(element);\n        // create a clone of options, to avoid it being changed reactively on removal\n        const optionsClone = isObject(options) ? { ...options } : options;\n        // register listener with timeout to prevent animation collision\n        setTimeout(() => {\n            target.addEventListener(event, handler, optionsClone);\n            cleanup = (): void => {\n                target.removeEventListener(event, handler, optionsClone);\n            };\n        });\n    };\n\n    let stopWatch: () => void;\n\n    if (typeof options?.trigger !== \"undefined\") {\n        stopWatch = watch(\n            options.trigger,\n            (value) => {\n                // toggle listener\n                if (value) register();\n                else if (typeof cleanup === \"function\") cleanup();\n            },\n            { flush: \"post\" },\n        );\n    }\n\n    if (options?.immediate) register();\n    else if (getCurrentScope()) {\n        // register listener on mount\n        onMounted(() => {\n            if (\n                typeof options?.trigger === \"undefined\" ||\n                options.trigger.value\n            )\n                register();\n        });\n    }\n\n    const stop = (): void => {\n        // remove listener before unmounting\n        if (typeof stopWatch === \"function\") stopWatch();\n        if (typeof cleanup === \"function\") cleanup();\n    };\n\n    if (getCurrentScope()) onScopeDispose(stop);\n\n    return stop;\n}\n","import { getCurrentInstance, ref, type Ref } from \"vue\";\nimport { getOption } from \"@/utils/config\";\nimport { useEventListener } from \"./useEventListener\";\nimport { isClient } from \"@/utils/ssr\";\n\n/**\n * Checks if the match media is mobile.\n * @param mobileBreakpoint px breakpoint\n */\nexport function useMatchMedia(mobileBreakpoint?: string): {\n    isMobile: Ref<boolean>;\n} {\n    const isMobile = ref(false);\n    const mediaQuery = ref<MediaQueryList>();\n\n    // getting a hold of the internal instance in setup()\n    const vm = getCurrentInstance();\n    if (!vm)\n        throw new Error(\n            \"useMatchMedia must be called within a component setup function.\",\n        );\n    // get component props\n    const props = vm.props;\n\n    const configField = vm.proxy?.$options.configField;\n    if (!configField)\n        throw new Error(\"component must define the 'configField' option.\");\n\n    // get mobileBreakpoint width value\n    let width = props.mobileBreakpoint;\n    if (!width) {\n        const defaultWidth = getOption(\n            `mobileBreakpoint`,\n            mobileBreakpoint || \"1023px\",\n        );\n\n        width = getOption(`${configField}.mobileBreakpoint`, defaultWidth);\n    }\n\n    // define match media query ref\n    mediaQuery.value = isClient\n        ? window.matchMedia(`(max-width: ${width})`)\n        : undefined;\n\n    if (mediaQuery.value) {\n        isMobile.value = mediaQuery.value.matches;\n        useEventListener(mediaQuery.value, \"change\", onMatchMedia);\n    } else {\n        isMobile.value = false;\n    }\n\n    function onMatchMedia(event: any): void {\n        isMobile.value = event.matches;\n    }\n\n    return { isMobile };\n}\n","import {\n    computed,\n    inject,\n    provide,\n    type ComputedRef,\n    type InjectionKey,\n} from \"vue\";\n\nimport { getOption } from \"@/utils/config\";\nimport type { FieldProps } from \"./props\";\n\nexport type FieldData = {\n    $el: Element | null;\n    props: FieldProps;\n    hasInnerField: boolean;\n    variant?: string;\n    message?: string;\n    labelId: string;\n    inputAttrs: object;\n    addInnerField: () => void;\n    setInputId: (value: string) => void;\n    setFocus: (value: boolean) => void;\n    setFilled: (value: boolean) => void;\n    setVariant: (value?: string) => void;\n    setMessage: (value?: string) => void;\n};\n\n/** provide/inject type */\ntype ProvidedField = ComputedRef<FieldData | undefined>;\n\n/** provide/inject key */\nconst $FieldKey: InjectionKey<ProvidedField> = Symbol(\"FielData\");\n\n/**\n * Provide field component data via dependency injection.\n * Provided data is a computed ref to ensure reactivity.\n */\nexport function provideField(data: ProvidedField): void {\n    provide($FieldKey, data);\n}\n\n/** Inject parent field component if used inside one. **/\nexport function injectField(): {\n    parentField: ComputedRef<FieldData | undefined>;\n    statusVariantIcon: ComputedRef<string>;\n    statusVariant: ComputedRef<string | undefined>;\n    statusMessage: ComputedRef<string | undefined>;\n} {\n    const parentField = inject(\n        $FieldKey,\n        computed(() => undefined),\n    );\n\n    /** Get the message prop from parent if it's a Field. */\n    const statusMessage = computed<string | undefined>(() => {\n        if (!parentField?.value?.message) return undefined;\n        return parentField?.value.message;\n    });\n\n    /** Get the type prop from parent if it's a Field. */\n    const statusVariant = computed<string | undefined>(() => {\n        if (!parentField?.value?.variant) return undefined;\n        if (typeof parentField.value.variant === \"string\")\n            return parentField.value.variant;\n        if (Array.isArray(parentField.value.variant)) {\n            for (const key in parentField.value.variant as any) {\n                if (parentField.value.variant[key]) return key;\n            }\n        }\n        return undefined;\n    });\n\n    const statusVariantIconConfig = getOption(\"statusVariantIcon\", {\n        success: \"check\",\n        danger: \"alert-circle\",\n        info: \"information\",\n        warning: \"alert\",\n    });\n\n    /** Icon name based on the variant. */\n    const statusVariantIcon = computed<string>(() => {\n        if (!statusVariant.value || !statusVariantIconConfig) return \"\";\n        return statusVariantIconConfig[statusVariant.value] || \"\";\n    });\n\n    return {\n        parentField,\n        statusVariant,\n        statusVariantIcon,\n        statusMessage,\n    };\n}\n","import {\n    nextTick,\n    ref,\n    computed,\n    triggerRef,\n    watch,\n    watchEffect,\n    type ExtractPropTypes,\n    type MaybeRefOrGetter,\n    type Component,\n} from \"vue\";\nimport { injectField } from \"@/components/field/fieldInjection\";\nimport { unrefElement } from \"./unrefElement\";\nimport { getOption } from \"@/utils/config\";\nimport { isSSR } from \"@/utils/ssr\";\nimport { isDefined } from \"@/utils/helpers\";\n\n// This should cover all types of HTML elements that have properties related to\n// HTML constraint validation, e.g. .form and .validity.\nconst validatableFormElementTypes = isSSR\n    ? []\n    : [\n          HTMLButtonElement,\n          HTMLFieldSetElement,\n          HTMLInputElement,\n          HTMLObjectElement,\n          HTMLOutputElement,\n          HTMLSelectElement,\n          HTMLTextAreaElement,\n      ];\n\nexport type ValidatableFormElement = InstanceType<\n    (typeof validatableFormElementTypes)[number]\n>;\n\nfunction asValidatableFormElement(el: unknown): ValidatableFormElement | null {\n    return validatableFormElementTypes.some((t) => el instanceof t)\n        ? (el as ValidatableFormElement)\n        : null;\n}\n\nconst constraintValidationAttributes = [\n    \"disabled\",\n    \"required\",\n    \"pattern\",\n    \"maxlength\",\n    \"minlength\",\n    \"max\",\n    \"min\",\n    \"step\",\n];\n\n/**\n * Form input handler functionalities\n */\nexport function useInputHandler<T extends ValidatableFormElement>(\n    /** input ref element - can be a html element or a vue component*/\n    inputRef: Readonly<MaybeRefOrGetter<T | Component>>,\n    /** emitted input events */\n    emits: {\n        /** on input focus event */\n        (e: \"focus\", value: Event): void;\n        /** on input blur event */\n        (e: \"blur\", value: Event): void;\n        /** on input invalid event */\n        (e: \"invalid\", value: Event): void;\n    },\n    /** validation configuration props */\n    props: Readonly<\n        ExtractPropTypes<{\n            modelValue?: unknown;\n            useHtml5Validation?: boolean;\n            customValidity?:\n                | string\n                | ((currentValue: any, v: ValidityState) => string);\n        }>\n    >,\n) {\n    // inject parent field component if used inside one\n    const { parentField } = injectField();\n\n    /// Allows access to the native element in cases where it might be missing,\n    /// e.g. because the component hasn't been mounted yet or has been suspended\n    /// by a <KeepAlive>\n    const maybeElement = computed<T | undefined>(() => {\n        const el = unrefElement<Component | HTMLElement>(inputRef);\n        if (!el) return undefined;\n\n        if (el.getAttribute(\"data-oruga-input\"))\n            // if element is the input element\n            return el as T;\n\n        const inputs = el.querySelector(\"[data-oruga-input]\");\n\n        if (!inputs) {\n            console.warn(\n                \"useInputHandler: Underlaying Oruga input component not found\",\n            );\n            return undefined;\n        }\n        // return underlaying the input element\n        return inputs as T;\n    });\n\n    /// Should be used for most accesses to the native element; we generally\n    /// expect it to be present, especially in event handlers.\n    const element = computed(() => {\n        const el = maybeElement.value;\n        if (!el) console.warn(\"useInputHandler: inputRef contains no element\");\n        return el;\n    });\n\n    // --- Input Focus Feature ---\n\n    const isFocused = ref(false);\n\n    /** Focus the underlaying input element. */\n    function setFocus(): void {\n        nextTick(() => {\n            if (element.value) element.value.focus();\n        });\n    }\n\n    /** Click the underlaying input element. */\n    function doClick(): void {\n        nextTick(() => {\n            if (element.value) element.value.click();\n        });\n    }\n\n    /** Unset focused and emit blur event. */\n    function onBlur(event?: Event): void {\n        isFocused.value = false;\n        if (parentField?.value) parentField.value.setFocus(false);\n        emits(\"blur\", event ? event : new Event(\"blur\"));\n        checkHtml5Validity();\n    }\n\n    /** Set focused and emit focus event. */\n    function onFocus(event?: Event): void {\n        isFocused.value = true;\n        if (parentField?.value) parentField.value.setFocus(true);\n        emits(\"focus\", event ? event : new Event(\"focus\"));\n    }\n\n    // --- Validation Feature ---\n\n    const isValid = ref(true);\n\n    function setFieldValidity(variant, message): void {\n        nextTick(() => {\n            if (parentField?.value) {\n                // Set type only if not defined\n                if (!parentField.value.props.variant)\n                    parentField.value.setVariant(variant);\n\n                // Set message only if not defined\n                if (!parentField.value.props.message)\n                    parentField.value.setMessage(message);\n            }\n        });\n    }\n\n    /**\n     * Check HTML5 validation, set isValid property.\n     * If validation fail, send 'danger' type,\n     * and error message to parent if it's a Field.\n     */\n    function checkHtml5Validity(): void {\n        if (!props.useHtml5Validation) return;\n        if (!element.value) return;\n\n        if (element.value.validity.valid) {\n            setFieldValidity(null, null);\n            isValid.value = true;\n        } else {\n            setInvalid();\n            isValid.value = false;\n        }\n    }\n\n    function setInvalid(): void {\n        const variant = \"danger\";\n        const message = element.value?.validationMessage;\n        setFieldValidity(variant, message);\n    }\n\n    function onInvalid(event: Event): void {\n        checkHtml5Validity();\n        const validatable = asValidatableFormElement(event.target);\n\n        if (validatable && parentField?.value && props.useHtml5Validation) {\n            // We provide our own error message on the field, so we should suppress the browser's default tooltip.\n            // We still want to focus the form's first invalid input, though.\n            event.preventDefault();\n\n            let isFirstInvalid = false;\n\n            if (validatable.form != null) {\n                const formElements = validatable.form.elements;\n                for (let i = 0; i < formElements.length; ++i) {\n                    const element = asValidatableFormElement(\n                        formElements.item(i),\n                    );\n                    if (element?.willValidate && !element.validity.valid) {\n                        isFirstInvalid = validatable === element;\n                        break;\n                    }\n                }\n            }\n\n            if (isFirstInvalid) {\n                const fieldElement = parentField.value.$el;\n                const invalidHandler = getOption(\"invalidHandler\");\n                if (!fieldElement) return;\n\n                if (invalidHandler instanceof Function) {\n                    invalidHandler(validatable, fieldElement);\n                } else {\n                    // We'll scroll to put the whole field in view, not just the element that triggered the event,\n                    // which should mean that the message will be visible onscreen.\n                    // scrollIntoViewIfNeeded() is a non-standard method (but a very common extension).\n                    // If we can't use it, we'll just fall back to focusing the field.\n                    const canScrollToField = fieldElement\n                        ? fieldElement.scrollIntoView != undefined\n                        : false;\n                    validatable.focus({ preventScroll: canScrollToField });\n                    if (canScrollToField) {\n                        fieldElement.scrollIntoView({ block: \"nearest\" });\n                    }\n                }\n            }\n        }\n        emits(\"invalid\", event);\n    }\n\n    if (!isSSR) {\n        /**\n         * Provides a way to force the watcher on `updateCustomValidationMessage` to re-run\n         *\n         * There are some cases (e.g. changes to the element's validation attributes) that can\n         * force changes to the element's `validityState`, which isn't a reactive property.\n         * Note that just calling the watcher's internal function directly (outside the watcher)\n         * wouldn't be a complete solution; the watcher would then miss any new reactive dependencies\n         * that show up, e.g. because `props.customValidity` starts taking a branch that the watcher\n         * hasn't seen before.\n         */\n        const forceValidationUpdate = ref(null);\n\n        // Propagate any custom constraint validation message to the underlying DOM element.\n        // Note that using watchEffect will implicitly pick up any reactive dependencies used\n        // inside props.customValidity, which should help the computed message stay up to date.\n        watchEffect((): void => {\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            forceValidationUpdate.value;\n            if (!(props.useHtml5Validation ?? true)) return;\n\n            const element = maybeElement.value;\n            if (!isDefined(element)) return;\n\n            const validity = props.customValidity ?? \"\";\n            if (typeof validity === \"string\") {\n                element.setCustomValidity(validity);\n            } else {\n                // The custom validation message may depend on `element.validity`,\n                // which isn't a reactive property. `element.validity` depends on\n                // the element's current value and the native constraint validation\n                // attributes. We can use `props.modelValue` as a reasonable proxy\n                // for the DOM element's value, and `props.modelValue` _is_ reactive,\n                // so we can read it to help solve that reactivity problem.\n                element.setCustomValidity(\n                    validity(props.modelValue, element.validity),\n                );\n            }\n\n            // Updates the user-visible validation message if necessary\n            if (!isValid.value) checkHtml5Validity();\n        });\n\n        // Clean up validation state if we stop controlling it.\n        watch(\n            [maybeElement, (): boolean => props.useHtml5Validation ?? true],\n            (newItems, oldItems) => {\n                const newElement = newItems[0];\n                const newUseValidation = newItems[1];\n                const oldElement = oldItems[0];\n                const oldUseValidation = oldItems[1];\n                if (newElement !== oldElement) {\n                    // Since we're no longer managing the element, we might\n                    // as well clean up any custom validity we set up.\n                    oldElement?.setCustomValidity(\"\");\n                } else if (oldUseValidation && !newUseValidation) {\n                    newElement?.setCustomValidity(\"\");\n                }\n            },\n        );\n\n        // Respond to attribute changes that could affect validation messages.\n        //\n        // Technically, having the `required` attribute on one element in a radio button\n        // group affects the validity of the entire group.\n        // See https://html.spec.whatwg.org/multipage/input.html#radio-button-group.\n        // We're not checking for that here because it would require more expensive logic.\n        // Because of that, this will only work properly if the `required` attributes of all radio\n        // buttons in the group are synchronized with each other, which is likely anyway.\n        // (We're also expecting the use of radio buttons with our default validation message handling\n        // to be fairly uncommon because the overall visual experience is clunky with such a configuration.)\n        const onAttributeChange = (): void => {\n            triggerRef(forceValidationUpdate);\n        };\n\n        let validationAttributeObserver: MutationObserver | null = null;\n\n        watch(\n            [\n                maybeElement,\n                isValid,\n                (): boolean => props.useHtml5Validation ?? true,\n                ():\n                    | string\n                    | ((s: ValidityState, v: any) => string)\n                    | undefined => props.customValidity,\n            ],\n            (newData, oldData) => {\n                // Not using destructuring assignment because browser support is just a little too weak at the moment\n                const el = newData[0];\n                const valid = newData[1];\n                const useValidation = newData[2];\n                const functionalValidation = newData[3] instanceof Function;\n                const oldEl = oldData[0];\n\n                const needWatcher =\n                    isDefined(el) &&\n                    useValidation &&\n                    // For inputs known to be invalid, changes in constraint validation properties\n                    // may make it so the field is now valid and the message needs to be hidden.\n                    // For browser-implemented constraint validation (e.g. the `required` attribute),\n                    // we just care about the message displayed to the user, which is hidden for valid inputs\n                    // until the next interaction with the control.\n                    (!valid ||\n                        // For inputs with complex custom validation, any changes to validation-related attributes\n                        // may affect the results of `props.customValidity`.\n                        functionalValidation);\n\n                // Clean up previous state.\n                if (\n                    (!needWatcher || el !== oldEl) &&\n                    validationAttributeObserver != null\n                ) {\n                    // Process any pending events.\n                    if (validationAttributeObserver.takeRecords().length > 0)\n                        onAttributeChange();\n                    validationAttributeObserver.disconnect();\n                }\n\n                // Update the watcher.\n                // Note that this branch is also used for the initial setup of the watcher.\n                // We're assuming that `maybeElement` will start out null when the watcher is created, which will\n                // cause the watcher to be triggered (with `oldEl == undefined`) once the component is mounted.\n                if (needWatcher && isDefined(el) && el !== oldEl) {\n                    if (validationAttributeObserver == null) {\n                        validationAttributeObserver = new MutationObserver(\n                            onAttributeChange,\n                        );\n                    }\n                    validationAttributeObserver.observe(el, {\n                        attributeFilter: constraintValidationAttributes,\n                    });\n\n                    // Note that this doesn't react to changes in the list of ancestors.\n                    // Based on testing, Vue seems to rarely, if ever, re-parent DOM nodes;\n                    // it generally prefers to create new ones under the new parent.\n                    // That means this simpler solution is likely good enough for now.\n                    let ancestor: Node | null = el;\n                    while ((ancestor = ancestor.parentNode)) {\n                        // Form controls can be disabled by their ancestor fieldsets.\n                        if (ancestor instanceof HTMLFieldSetElement) {\n                            validationAttributeObserver.observe(ancestor, {\n                                attributeFilter: [\"disabled\"],\n                            });\n                        }\n                    }\n                }\n            },\n        );\n    }\n\n    return {\n        input: element,\n        isFocused,\n        isValid,\n        setFocus,\n        doClick,\n        onFocus,\n        onBlur,\n        onInvalid,\n        checkHtml5Validity,\n    };\n}\n","/**\n * Debounce a function\n * @param func function to debounce\n * @param wait debounce time to wait\n * @param immediate call immediate\n * @returns function to call\n */\nexport function useDebounce<A extends Array<unknown>>(\n    func: (...args: A) => void,\n    wait: number,\n    immediate?: boolean,\n): (...args: A) => void {\n    let timeout: ReturnType<typeof setTimeout> | undefined;\n    return (...args: A) => {\n        const later = (): void => {\n            timeout = undefined;\n            if (!immediate) func.apply(this, args);\n        };\n        const callNow = immediate && !timeout;\n        if (timeout) clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(this, args);\n    };\n}\n","/** create a unique id sequence */\nexport function useSequentialId(start: number = 0): {\n    nextSequence: () => string;\n    sequence: Readonly<number>;\n} {\n    let sequence = start;\n\n    /** increase the unique id sequence */\n    function nextSequence(): string {\n        return String(sequence++);\n    }\n\n    return {\n        nextSequence,\n        sequence,\n    };\n}\n","import {\n    getCurrentInstance,\n    inject,\n    onUnmounted,\n    provide,\n    ref,\n    watch,\n    type Component,\n    type ComputedRef,\n    type MaybeRefOrGetter,\n    type Ref,\n} from \"vue\";\nimport { unrefElement } from \"./unrefElement\";\nimport { useDebounce } from \"./useDebounce\";\nimport { useSequentialId } from \"./useSequentialId\";\n\nexport type ProviderItem<T = unknown> = {\n    index: number;\n    data?: T;\n    identifier: string;\n};\n\ntype PovidedData<P, I = unknown> = {\n    registerItem: (data?: I) => ProviderItem<I>;\n    unregisterItem: (item: ProviderItem) => void;\n    data?: ComputedRef<P>;\n};\n\ntype ProviderParentOptions<T = unknown> = {\n    /**\n     * Root element of the provider component\n     */\n    rootRef?: MaybeRefOrGetter<HTMLElement | Component | null | undefined>;\n    /**\n     * Override the provide/inject key.\n     * Default is the component configField attribute\n     */\n    key?: string;\n    /**\n     * Additional data provided for the child to the item\n     */\n    data?: ComputedRef<T>;\n};\n\n/**\n * Provide functionalities and data to child components\n * @param options parent provider options\n */\nexport function useProviderParent<ItemData = unknown, ParentData = unknown>(\n    options?: ProviderParentOptions<ParentData>,\n): {\n    childItems: Readonly<Ref<ProviderItem<ItemData>[]>>;\n} {\n    // getting a hold of the internal instance in setup()\n    const vm = getCurrentInstance();\n    if (!vm)\n        throw new Error(\n            \"useProviderChild must be called within a component setup function.\",\n        );\n\n    const configField = vm.proxy?.$options.configField;\n    const key = options?.key || configField;\n\n    const childItems = ref<ProviderItem<ItemData>[]>([]);\n\n    if (options?.rootRef) {\n        // debounced sort function\n        const sortHandler = useDebounce((items: typeof childItems.value) => {\n            const parent = unrefElement(options.rootRef);\n            if (!parent) return;\n\n            // create a list of child item ids\n            const ids = items\n                .map((item) => `[data-id=\"${key}-${item.identifier}\"]`)\n                .join(\",\");\n\n            // query all child items in the order of the DOM appearance\n            const children = parent.querySelectorAll(ids);\n\n            // create a list of ids ordered after the elements in DOM\n            const sortedIds = Array.from(children).map((el) =>\n                el.getAttribute(\"data-id\")?.replace(`${key}-`, \"\"),\n            );\n\n            // update the index attribute of the child items\n            items.forEach(\n                (item) =>\n                    (item.index = sortedIds.indexOf(`${item.identifier}`)),\n            );\n\n            // sort items according to their index position\n            items.sort((a, b) => a.index - b.index);\n        }, 500);\n\n        // when child items are added/removed (no deep change - only list update)\n        // sort them according to their DOM position\n        watch(childItems, sortHandler);\n    }\n\n    const { nextSequence } = useSequentialId(1);\n\n    function registerItem(data?: ItemData): ProviderItem<ItemData> {\n        const index = childItems.value.length;\n        const identifier = nextSequence();\n        const item = { index, data, identifier };\n        // add new item to the child list\n        childItems.value = [\n            ...childItems.value,\n            item,\n        ] as ProviderItem<ItemData>[];\n        return item;\n    }\n\n    function unregisterItem(item: ProviderItem): void {\n        childItems.value = childItems.value.filter((i) => i !== item);\n    }\n\n    /** Provide functionality for child components via dependency injection. */\n    provide<PovidedData<ParentData, ItemData>>(\"$o-\" + key, {\n        registerItem,\n        unregisterItem,\n        data: options?.data,\n    });\n\n    return {\n        childItems: childItems as Ref<ProviderItem<ItemData>[]>,\n    };\n}\n\ntype ProviderChildOptions<T = unknown> = {\n    /**\n     * Override the provide/inject key.\n     * Default is the component configField attribute\n     */\n    key?: string;\n    /**\n     * Does the child need the be below the parent?\n     * @default true\n     */\n    needParent?: boolean;\n    /**\n     * Additional data appended to the item\n     */\n    data?: ComputedRef<T>;\n    /**\n     * Register child on parent\n     * @default true\n     */\n    register?: boolean;\n};\n\nexport function useProviderChild<ParentData, ItemData = unknown>(\n    options: Omit<ProviderChildOptions<ItemData>, \"needParent\"> & {\n        needParent: true;\n    },\n): {\n    parent: Readonly<Ref<ParentData>>;\n    item: Readonly<Ref<ProviderItem<ItemData> | undefined>>;\n};\n\nexport function useProviderChild<ParentData, ItemData = unknown>(\n    options: Omit<ProviderChildOptions<ItemData>, \"needParent\"> & {\n        needParent: false;\n    },\n): {\n    parent: Readonly<Ref<ParentData | undefined>>;\n    item: Readonly<Ref<ProviderItem<ItemData> | undefined>>;\n};\n\nexport function useProviderChild<ParentData, ItemData = unknown>(\n    options: Omit<ProviderChildOptions<ItemData>, \"needParent\"> & {\n        register: false;\n    },\n): {\n    parent: Readonly<Ref<ParentData>>;\n    item: Readonly<Ref<undefined>>;\n};\n\nexport function useProviderChild<ParentData, ItemData = unknown>(\n    options: Omit<ProviderChildOptions<ItemData>, \"needParent\" | \"register\"> & {\n        needParent: true;\n        register: true;\n    },\n): {\n    parent: Readonly<Ref<ParentData>>;\n    item: Readonly<Ref<ProviderItem<ItemData>>>;\n};\n\nexport function useProviderChild<ParentData, ItemData = unknown>(\n    options?: Omit<ProviderChildOptions<ItemData>, \"needParent\" | \"register\">,\n): {\n    parent: Readonly<Ref<ParentData>>;\n    item: Readonly<Ref<ProviderItem<ItemData>>>;\n};\n\n/**\n * Inject functionalities and data from parent components\n * @param options additional options\n */\nexport function useProviderChild<ParentData, ItemData = unknown>(\n    options?: ProviderChildOptions<ItemData>,\n): {\n    parent: Readonly<Ref<ParentData | undefined>>;\n    item: Readonly<Ref<ProviderItem<ItemData> | undefined>>;\n} {\n    options = Object.assign({ needParent: true, register: true }, options);\n\n    // getting a hold of the internal instance in setup()\n    const vm = getCurrentInstance();\n    if (!vm)\n        throw new Error(\n            \"useProviderChild must be called within a component setup function.\",\n        );\n\n    const configField = vm.proxy?.$options.configField;\n    const key = options?.key || configField;\n\n    /** Inject parent component functionality if used inside one **/\n    const parent = inject<\n        PovidedData<ParentData, ComputedRef<ItemData>> | undefined\n    >(\"$o-\" + key, undefined);\n\n    if (options.needParent && !parent)\n        throw new Error(\n            `You should wrap ${vm.proxy?.$options.name} in a ${key} component`,\n        );\n\n    const item = ref<ProviderItem<ItemData>>();\n\n    if (parent && options.register)\n        item.value = parent.registerItem(\n            options?.data,\n        ) as ProviderItem<ItemData>;\n\n    onUnmounted(() => {\n        if (parent && item.value) parent.unregisterItem(item.value);\n    });\n\n    const data = parent?.data || ref();\n\n    return { parent: data, item: item };\n}\n","import { type MaybeRefOrGetter } from \"vue\";\nimport {\n    useEventListener,\n    type EventTarget,\n    type EventListenerOptions,\n} from \"./useEventListener\";\nimport { unrefElement } from \"./unrefElement\";\n\n/**\n * Listen for clicks outside of an element.\n * Adaption of {@link https://vueuse.org/core/onClickOutside}\n *\n * @param elements DOM elements to click outside\n * @param handler Event handler function\n * @param options ClickOutsideOptions\n * @return stop function\n */\nexport function useClickOutside(\n    elements:\n        | MaybeRefOrGetter<EventTarget>\n        | string\n        | (MaybeRefOrGetter<EventTarget> | string)[],\n    handler: (evt: PointerEvent) => void,\n    options?: EventListenerOptions,\n): () => void {\n    if (!window) return () => {};\n\n    // set default options\n    const listenerOptions = Object.assign({ ignore: [] }, options);\n\n    // convert elements to ignore list\n    const ignores = Array.isArray(elements) ? elements : [elements];\n\n    /**\n     * White-listed items that not emit event when clicked.\n     * All children from ignore prop.\n     */\n    const shouldIgnore = (event: PointerEvent): boolean => {\n        return ignores.some((target) => {\n            if (typeof target === \"string\") {\n                return Array.from(\n                    window.document.querySelectorAll(target),\n                ).some(\n                    (el) =>\n                        el === event.target ||\n                        event.composedPath().includes(el),\n                );\n            } else {\n                const el = unrefElement(target);\n                return (\n                    el &&\n                    (event.target === el || event.composedPath().includes(el))\n                );\n            }\n        });\n    };\n\n    function listener(event: PointerEvent): void {\n        if (shouldIgnore(event)) return;\n        handler(event);\n    }\n\n    const stop = useEventListener(window, \"click\", listener, listenerOptions);\n\n    return stop;\n}\n","import { isDefined } from \"@/utils/helpers\";\n\n/**\n * Given an element, returns the element who scrolls it.\n */\nexport function getScrollingParent(target: HTMLElement): HTMLElement | null {\n    if (target.style.position === \"fixed\" || !target)\n        return document.documentElement;\n\n    let isScrollingParent = false;\n    let nextParent = target.parentElement;\n\n    while (!isScrollingParent && isDefined(nextParent)) {\n        if (nextParent === document.documentElement) break;\n\n        const { overflow, overflowY } = getComputedStyle(nextParent);\n        const { scrollHeight, clientHeight } = nextParent; // Both rounded by nature\n\n        isScrollingParent =\n            /(auto|scroll)/.test(`${overflow}${overflowY}`) &&\n            scrollHeight > clientHeight;\n\n        /* ...found it, this one is returned */\n        if (isScrollingParent) break;\n\n        /* ...if not check the next one */\n        nextParent = nextParent.parentElement;\n    }\n\n    return nextParent;\n}\n","import { toValue, type MaybeRefOrGetter } from \"vue\";\nimport { isEqual } from \"@/utils/helpers\";\n\n/**\n * Internal OptionsItem representation object with additional state information.\n *\n * @internal\n */\nexport type OptionsItem<V = unknown> = OptionsPropItem<V> & {\n    /** internal definiton if the element should be hidden */\n    hidden?: boolean;\n    /** internal genereated uniqe option key */\n    key?: string;\n};\n\n/**\n * Options should always be formatted as an array of objects with label and value properties.\n *\n * @public\n */\nexport type OptionsPropItem<V = unknown> = {\n    /** displayed option label */\n    label: string;\n    /** the real option value */\n    value: V;\n    /** additional attributes bound to the option element */\n    attrs?: {\n        disabled?: boolean;\n    } & Record<string, any>;\n    [index: string]: any;\n};\n\n/**\n * The types of options that can be passed to the options prop.\n *\n * @public\n */\nexport type OptionsProp<V = string | number | object> =\n    | (string | number)[]\n    | Record<string | number, string>\n    | OptionsPropItem<V>[];\n\n/**\n * Option groups should always be formatted as an array of objects with group and nested options.\n *\n * @internal\n */\nexport type OptionsGroupItem<V = unknown> = {\n    /** displayed option group label */\n    label?: string;\n    /** the real option group value */\n    value?: V;\n    /** list of options */\n    options: OptionsItem<V>[];\n    /** additional attributes bound to the options grouÃ¼ element */\n    attrs?: Record<string, any>;\n    /** internal definiton if the element should be hidden */\n    hidden?: boolean;\n    /** internal genereated uniqe option key */\n    key?: string;\n};\n\n/**\n * Option groups should always be formatted as an array of objects with group and nested options.\n *\n * @public\n */\nexport type OptionsGroupPropItem<V = unknown> = {\n    /** displayed option group label */\n    label?: string;\n    /** the real option group value */\n    value?: V;\n    /** list of options */\n    options: OptionsProp<V>;\n    /** additional attributes bound to the options grouÃ¼ element */\n    attrs?: Record<string, any>;\n};\n\n/**\n * An array of option items with a group support â€” where the `option` of the\n * groups can be any valid OptionsProp type.\n *\n * @public\n */\nexport type OptionsGroupProp<V = string | number | object> =\n    OptionsGroupPropItem<V>[];\n\n/**\n * The types of options that can be passed to the options prop.\n * An array of option items with a group support â€” where the `option` of the\n * groups can be any valid OptionsProp type.\n *\n * @public\n */\nexport type OptionsPropWithGroups<V = unknown> =\n    | OptionsProp<V>\n    | OptionsGroupProp<V>;\n\n/** Normalized external options prop for internal usage */\ntype NormalizedOptions<V, O extends OptionsPropWithGroups<V> | undefined> =\n    O extends OptionsGroupProp<V>\n        ? OptionsGroupItem<V>[]\n        : O extends OptionsProp<V>\n          ? OptionsItem<V>[]\n          : never[];\n\n/**\n * A function to normalize an array of objects, array of strings, or object of\n * key-values to use an array of objects with value and label properties.\n *\n * @param options - An un-normalized {@link OptionsPropWithGroups}.\n *\n * @returns A list of {@link OptionsItem} | {@link OptionsGroupItem}.\n */\nexport function normalizeOptions<\n    V,\n    O extends OptionsPropWithGroups<V> = OptionsPropWithGroups<V>,\n>(options: O | undefined, uuid: () => string): NormalizedOptions<V, O> {\n    if (!options) return [] as NormalizedOptions<V, O>;\n\n    if (Array.isArray(options))\n        return options.map(\n            (option: O[number]): OptionsItem | OptionsGroupItem => {\n                if (typeof option === \"string\" || typeof option === \"number\")\n                    // create options item from primitive\n                    return {\n                        label: String(option),\n                        value: String(option),\n                        key: uuid(),\n                    } as OptionsItem<V>;\n\n                if (typeof option == \"object\") {\n                    if (\"options\" in option) {\n                        // process group options\n                        const options = normalizeOptions(option.options, uuid);\n                        // create options group item\n                        return {\n                            ...option,\n                            options,\n                            key: uuid(),\n                        } as OptionsGroupItem<V>;\n                    } else if (\"value\" in option) {\n                        // create options item\n                        return {\n                            ...option,\n                            key: uuid(),\n                        } as OptionsItem<V>;\n                    }\n                }\n                return option as OptionsItem<V>;\n            },\n        ) as NormalizedOptions<V, O>;\n\n    return Object.keys(options).map(\n        (value: string): OptionsItem<string> => ({\n            // create option from object key/value\n            label: options[value],\n            value,\n            key: uuid(),\n        }),\n    ) as NormalizedOptions<V, O>;\n}\n\n/**\n * A helper to determine if an option is a group or an option.\n * @param option - An option\n *\n * @returns option is OptionsGroupItem\n */\nexport function isGroupOption(\n    option: Partial<OptionsItem | OptionsGroupItem>,\n): option is OptionsGroupItem {\n    return (\n        option && typeof option === \"object\" && Array.isArray(option.options)\n    );\n}\n\nexport function toOptionsGroup<V>(\n    options: OptionsItem<V>[] | OptionsGroupItem<V>[],\n    key: string,\n): OptionsGroupItem<V>[] {\n    if (!Array.isArray(options)) return [];\n\n    const isGroup = options.some((option) => isGroupOption(option));\n\n    // if options are already a list options do nothing\n    if (isGroup) return [...options] as OptionsGroupItem<V>[];\n\n    // create a list with a single group\n    return [{ options, key }] as OptionsGroupItem<V>[];\n}\n\nexport function toOptionsList<V>(\n    options: MaybeRefOrGetter<OptionsGroupItem<V>[]>,\n): OptionsItem<V>[] {\n    if (!Array.isArray(toValue(options))) return [];\n\n    return toValue(options).reduce((list, group) => {\n        list.push(...group.options);\n        return list;\n    }, [] as OptionsItem<V>[]);\n}\n\n/**\n * Applies an filter function for a list of options {@link OptionsItem | OptionsGroupItem}.\n * Options are filtered by setting the hidden attribute.\n * The options reactivity is not triggered by this.\n * @param options - Options to filter\n * @param filter - filter function\n */\nexport function filterOptionsItems<V>(\n    options: MaybeRefOrGetter<OptionsItem<V>[] | OptionsGroupItem<V>[]>,\n    filter: (option: OptionsItem<V>, index: number) => boolean,\n): void {\n    toValue(options).forEach(\n        (option: OptionsItem<V> | OptionsGroupItem<V>, idx: number) => {\n            if (isGroupOption(option)) {\n                filterOptionsItems(option.options, filter);\n                // hide the whole group if every group options is hidden\n                option.hidden = option.options.every((option) => option.hidden);\n            } else {\n                // hide the option if filtered\n                option.hidden = filter(option, idx);\n            }\n        },\n    );\n}\n\n/**\n * Checks if no options are given or every existing options are hidden.\n * @param options - A list of {@link OptionsItem | OptionsGroupItem} to check for a given value\n *\n * @returns boolean\n */\nexport function checkOptionsEmpty(\n    options: MaybeRefOrGetter<OptionsItem[] | OptionsGroupItem[]>,\n): boolean {\n    // check if options are empty\n    if (!Array.isArray(toValue(options))) return true;\n\n    return toValue(options).every((option: OptionsItem | OptionsGroupItem) => {\n        if (isGroupOption(option))\n            // check if every options are hidden\n            return checkOptionsEmpty(option.options);\n        // check if option is hidden\n        else return !isOptionViable(option);\n    });\n}\n\n/**\n * Given an list of {@link OptionsItem | OptionsGroupItem}, find the option item with the given value.\n *\n * @param options - A list of {@link OptionsItem | OptionsGroupItem} to check for a given value\n * @param value - The value to check\n *\n * @returns {@link OptionsItem}\n */\nexport function findOption<V>(\n    options:\n        | MaybeRefOrGetter<OptionsItem<V>[]>\n        | MaybeRefOrGetter<OptionsGroupItem<V>[]>,\n    value: MaybeRefOrGetter<V>,\n): OptionsItem<V> | undefined {\n    if (!Array.isArray(toValue(options))) return undefined;\n\n    for (const option of toValue(options)) {\n        if (typeof option !== \"object\" && option) continue;\n        if (isGroupOption(option)) {\n            // option in group\n            const found = findOption(option.options, value);\n            if (found !== undefined) return found;\n        }\n        // check if option has value\n        else if (isEqual(toValue(value), option.value)) return option;\n    }\n\n    return undefined;\n}\n\n/**\n * Given an options list, find the first value.\n * @param options - An options list (with groups)\n */\nexport function firstViableOption<V>(\n    options:\n        | MaybeRefOrGetter<OptionsItem<V>[]>\n        | MaybeRefOrGetter<OptionsGroupItem<V>[]>,\n): OptionsItem<V> | undefined {\n    if (!Array.isArray(toValue(options))) return undefined;\n\n    for (const option of toValue(options)) {\n        if (typeof option !== \"object\" && option) continue;\n        if (isGroupOption(option)) {\n            // option in group\n            const found = firstViableOption(option.options);\n            if (found !== undefined) return found;\n        }\n        // check if option is viable\n        else if (isOptionViable(option)) return option;\n    }\n\n    return undefined;\n}\n\nexport function isOptionViable(option: MaybeRefOrGetter<OptionsItem>): boolean {\n    return !toValue(option).hidden && !toValue(option).attrs?.disabled;\n}\n","import {\n    computed,\n    onBeforeUnmount,\n    ref,\n    toValue,\n    type MaybeRefOrGetter,\n} from \"vue\";\n\nimport { isClient } from \"@/utils/ssr\";\nimport { defineClasses, getActiveClasses } from \"./defineClasses\";\n\n/**\n * Prevent the background from scrolling if toggled.\n * Adds `clipped` or `keeped` class to the body.\n * True, alias `clip` removes the body scrollbar.\n * False, alias `keep` makes a non scrollable scrollbar to avoid shifting background, but will set body to position fixed, might break some layouts.\n * @param clipScroll clip scrollbar or not\n */\nexport function usePreventScrolling(\n    clipScroll: MaybeRefOrGetter<boolean>,\n): (active: boolean) => void {\n    const scrollClipClasses = defineClasses([\n        \"scrollClipClass\",\n        \"o-scroll-clip\",\n    ]);\n    const scrollKeepClasses = defineClasses([\n        \"scrollKeepClass\",\n        \"o-scroll-keep\",\n    ]);\n\n    const scrollClass = computed(() =>\n        getActiveClasses(\n            toValue(clipScroll)\n                ? scrollClipClasses.value\n                : scrollKeepClasses.value,\n        ),\n    );\n\n    const savedScrollTop = ref<number>();\n\n    // reset scroll\n    onBeforeUnmount(() => toggleScroll(false));\n\n    function toggleScroll(active: boolean): void {\n        if (!isClient) return;\n        if (!scrollClass.value) return;\n\n        savedScrollTop.value = savedScrollTop.value\n            ? savedScrollTop.value\n            : document.documentElement.scrollTop;\n\n        if (active) document.body.classList.add(...scrollClass.value);\n        else document.body.classList.remove(...scrollClass.value);\n\n        if (!toValue(clipScroll)) {\n            if (active) {\n                document.body.style.top = `-${savedScrollTop.value}px`;\n            } else {\n                document.documentElement.scrollTop = savedScrollTop.value;\n                document.body.style.top = \"\";\n                savedScrollTop.value = undefined;\n            }\n        }\n    }\n\n    return toggleScroll;\n}\n","import { toValue } from \"vue\";\nimport { getOption } from \"@/utils/config\";\n\n/** get the root config `teleportTarget` */\nexport function useTeleportDefault(): HTMLElement | string {\n    const option = getOption(\"teleportTarget\", \"body\");\n    return toValue(option) as HTMLElement | string;\n}\n","/*****************************\n * vue v-trap-focus directive\n *****************************/\n\nimport type { DirectiveHook, ObjectDirective } from \"vue\";\n\nfunction findFocusable(element: HTMLElement): NodeListOf<HTMLElement> | null {\n    if (!element) return null;\n    return element.querySelectorAll(`a[href]:not([tabindex=\"-1\"]),\n                                 area[href],\n                                 input:not([disabled]):not([type=\"hidden\"]),\n                                 select:not([disabled]),\n                                 textarea:not([disabled]),\n                                 button:not([disabled]),\n                                 iframe,\n                                 object,\n                                 embed,\n                                 *[tabindex]:not([tabindex=\"-1\"]):not([disabled]),\n                                 *[contenteditable]`);\n}\n\nexport function useTrapFocus(): {\n    /** vue directive - trap focus on the current element */\n    vTrapFocus: ObjectDirective<HTMLElement>;\n} {\n    /** keydown event, which compares event target with trap element */\n    let onKeyDown: ((event: KeyboardEvent) => void) | null = null;\n\n    function applyHandler(el: HTMLElement, value: boolean): void {\n        if (value) {\n            // move focus inside the root element\n            el.focus({ preventScroll: true });\n\n            // set keydown event listener\n            if (typeof onKeyDown === \"function\")\n                el.addEventListener(\"keydown\", onKeyDown);\n        } else {\n            // remove keydown event listener\n            if (typeof onKeyDown === \"function\")\n                el.removeEventListener(\"keydown\", onKeyDown);\n        }\n    }\n\n    const bind: DirectiveHook<HTMLElement> = (el, { value }) => {\n        // create onKeyDown event listener\n        onKeyDown = (event: KeyboardEvent): void => {\n            const target = event.target as HTMLElement;\n            if (!target) return;\n\n            // Need to get focusable each time since it can change between key events\n            // ex. changing month in a datepicker\n            const focusable = findFocusable(el);\n            if (!focusable?.length) return;\n\n            const firstFocusable = focusable[0];\n            const lastFocusable = focusable[focusable.length - 1];\n\n            if (\n                target === firstFocusable &&\n                event.shiftKey &&\n                event.key === \"Tab\"\n            ) {\n                // prevent moving focus outside by setting the focus to last focusable element\n                event.preventDefault();\n                lastFocusable.focus();\n            } else if (\n                target === lastFocusable &&\n                !event.shiftKey &&\n                event.key === \"Tab\"\n            ) {\n                // prevent moving focus outside by setting the focus to first focusable element\n                event.preventDefault();\n                firstFocusable.focus();\n            }\n        };\n\n        applyHandler(el, value);\n    };\n\n    /** cleanup on unbind */\n    const unbind: DirectiveHook = (el) => {\n        // remove handler\n        applyHandler(el, false);\n        onKeyDown = null;\n    };\n\n    const update: DirectiveHook<HTMLElement> = (el, { value }) => {\n        // update handlers based on binding\n        applyHandler(el, value);\n    };\n\n    return {\n        vTrapFocus: {\n            mounted: bind,\n            beforeUnmount: unbind,\n            updated: update,\n        },\n    };\n}\n","<script setup lang=\"ts\">\nimport { computed } from \"vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport getIcons from \"@/utils/icons\";\nimport { defineClasses } from \"@/composables\";\n\nimport type { IconProps } from \"./props\";\n\n/**\n * Icons take an important role of any application.\n * @displayName Icon\n * @style _icon.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OIcon\",\n    configField: \"icon\",\n});\n\nconst props = withDefaults(defineProps<IconProps>(), {\n    override: undefined,\n    icon: undefined,\n    component: () => getDefault(\"iconComponent\"),\n    pack: () => getDefault(\"iconPack\", \"mdi\"),\n    variant: () => getDefault(\"icon.variant\"),\n    size: () => getDefault(\"icon.size\"),\n    customSize: undefined,\n    customClass: undefined,\n    clickable: false,\n    spin: false,\n    rotation: undefined,\n    both: false,\n});\n\nconst rootStyle = computed(() => {\n    const style = {};\n    if (props.rotation) {\n        style[\"transform\"] = `rotate(${props.rotation}deg)`;\n    }\n    return style;\n});\n\nconst iconConfig = computed(() => getIcons()[props.pack]);\n\nconst iconPrefix = computed(() =>\n    iconConfig.value?.iconPrefix ? iconConfig.value.iconPrefix : \"\",\n);\n\nconst customSizeByPack = computed(() => {\n    if (iconConfig.value?.sizes) {\n        if (props.size && iconConfig.value.sizes[props.size] !== undefined) {\n            return iconConfig.value.sizes[props.size];\n        } else if (iconConfig.value.sizes.default) {\n            return iconConfig.value.sizes.default;\n        }\n    }\n    return null;\n});\n\n/**\n * Internal icon name based on the pack.\n * If pack is 'fa', gets the equivalent FA icon name of the MDI,\n * internal icons are always MDI.\n */\nconst computedIcon = computed(\n    () => `${iconPrefix.value}${getEquivalentIconOf(props.icon)}`,\n);\n\nconst computedSize = computed(() => props.customSize || customSizeByPack.value);\n\nconst computedVariant = computed(() => {\n    if (!props.variant) return;\n    let newVariant = \"\";\n    if (typeof props.variant === \"string\") {\n        newVariant = props.variant;\n    } else {\n        newVariant = Object.keys(props.variant).filter(\n            (key) => props.variant[key],\n        )[0];\n    }\n    return newVariant;\n});\n\n/** Equivalent icon name of the MDI. */\nfunction getEquivalentIconOf(value): string {\n    // Only transform the class if the both prop is set to true\n    if (!props.both) return value;\n    if (\n        iconConfig.value?.internalIcons &&\n        iconConfig.value?.internalIcons[value]\n    )\n        return iconConfig.value.internalIcons[value];\n    return value;\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-icon\"],\n    [\n        \"clickableClass\",\n        \"o-icon--clickable\",\n        null,\n        computed(() => props.clickable),\n    ],\n    [\"spinClass\", \"o-icon--spin\", null, computed(() => props.spin)],\n    [\n        \"sizeClass\",\n        \"o-icon--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\n        \"variantClass\",\n        \"o-icon--\",\n        computedVariant,\n        computed(() => !!computedVariant.value),\n    ],\n);\n</script>\n\n<template>\n    <span data-oruga=\"icon\" :class=\"rootClasses\" :style=\"rootStyle\">\n        <!-- custom icon component -->\n        <component\n            :is=\"component\"\n            v-if=\"component\"\n            :icon=\"[pack, computedIcon]\"\n            :size=\"computedSize\"\n            :class=\"[customClass]\" />\n\n        <!-- native css icon -->\n        <i v-else :class=\"[pack, computedIcon, computedSize, customClass]\" />\n    </span>\n</template>\n","<script setup lang=\"ts\" generic=\"IsNumber extends boolean = false\">\nimport {\n    ref,\n    computed,\n    nextTick,\n    watch,\n    onMounted,\n    useAttrs,\n    useId,\n    useTemplateRef,\n    type StyleValue,\n} from \"vue\";\n\nimport OIcon from \"../icon/Icon.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { isDefined, isTrueish } from \"@/utils/helpers\";\nimport { defineClasses, useDebounce, useInputHandler } from \"@/composables\";\n\nimport { injectField } from \"../field/fieldInjection\";\n\nimport type { InputProps } from \"./props\";\n\n/**\n * Get user Input. Use with Field to access all functionalities.\n * @displayName Input\n * @style _input.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OInput\",\n    configField: \"input\",\n    inheritAttrs: false,\n});\n\ntype ModelValue = InputProps<IsNumber>[\"modelValue\"];\n\nconst props = withDefaults(defineProps<InputProps<IsNumber>>(), {\n    override: undefined,\n    modelValue: undefined,\n    // number: false,\n    type: \"text\",\n    size: () => getDefault(\"input.size\"),\n    variant: () => getDefault(\"input.variant\"),\n    placeholder: undefined,\n    expanded: false,\n    rounded: false,\n    disabled: false,\n    passwordReveal: false,\n    maxlength: undefined,\n    counter: () => getDefault(\"input.counter\", false),\n    autosize: false,\n    iconPack: () => getDefault(\"input.iconPack\"),\n    icon: () => getDefault(\"input.icon\"),\n    iconClickable: false,\n    iconRight: () => getDefault(\"input.iconRight\"),\n    iconRightClickable: false,\n    iconRightVariant: undefined,\n    clearable: () => getDefault(\"input.clearable\", false),\n    clearIcon: () => getDefault(\"input.clearIcon\", \"close-circle\"),\n    statusIcon: () => getDefault(\"statusIcon\", true),\n    debounce: () => getDefault(\"autocomplete.debounce\", 400),\n    autocomplete: () => getDefault(\"input.autocomplete\", \"off\"),\n    id: () => useId(),\n    useHtml5Validation: () => getDefault(\"useHtml5Validation\", true),\n    customValidity: \"\",\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {string | number} updated modelValue prop\n     */\n    \"update:model-value\": [value: ModelValue];\n    /**\n     * on input change event\n     * @param value {string} input value\n     * @param event {Event} native event\n     */\n    input: [value: string, event: Event];\n    /**\n     * on input focus event\n     * @param event {Event} native event\n     */\n    focus: [event: Event];\n    /**\n     * on input blur event\n     * @param event {Event} native event\n     */\n    blur: [event: Event];\n    /**\n     * on input invalid event\n     * @param event {Event} native event\n     */\n    invalid: [event: Event];\n    /**\n     * on icon click event\n     * @param event {Event} native event\n     */\n    \"icon-click\": [event: Event];\n    /**\n     * on icon right click event\n     * @param event {Event} native event\n     */\n    \"icon-right-click\": [event: Event];\n}>();\n\n// --- Validation Feature ---\n\nconst inputRef = useTemplateRef<HTMLInputElement>(\"inputElement\");\n\n// use form input functionalities\nconst {\n    checkHtml5Validity,\n    onBlur,\n    onFocus,\n    onInvalid,\n    setFocus,\n    isValid,\n    isFocused,\n} = useInputHandler(inputRef, emits, props);\n\n// inject parent field component if used inside one\nconst { parentField, statusVariant, statusVariantIcon } = injectField();\n\nconst vmodel = defineModel<ModelValue, string, string, ModelValue>({\n    // cast incomming value to string\n    get: (value) => (isDefined(value) ? String(value) : \"\"),\n    // cast outgoing value to number if prop number is true\n    set: (value) =>\n        !isDefined(value)\n            ? value\n            : isTrueish(props.number)\n              ? Number(value)\n              : String(value),\n    default: undefined,\n});\n\n// if `id` is given set as `for` property on o-field wrapper\nif (props.id) parentField?.value?.setInputId(props.id);\n\n/** Get value length */\nconst valueLength = computed(() =>\n    typeof vmodel.value === \"string\" || typeof vmodel.value === \"number\"\n        ? String(vmodel.value).length\n        : 0,\n);\n\nonMounted(() => {\n    /**\n     * When v-model is changed:\n     *  1. Set parent field filled state.\n     *  2. Resize textarea input\n     *  3. Check html5 valdiation\n     */\n    watch(\n        () => vmodel.value,\n        (value) => {\n            if (parentField?.value) parentField.value.setFilled(!!value);\n            if (props.autosize) resize();\n            if (!isValid.value) checkHtml5Validity();\n        },\n        { immediate: true, flush: \"post\" },\n    );\n});\n\nconst height = ref(\"auto\");\n\nfunction resize(): void {\n    height.value = \"auto\";\n    nextTick(() => {\n        if (props.type !== \"textarea\" || !inputRef.value) return;\n        const scrollHeight = inputRef.value.scrollHeight;\n        height.value = scrollHeight + \"px\";\n    });\n}\n\n/** Computed inline styles for autoresize */\nconst computedStyles = computed<StyleValue>(() =>\n    props.type === \"textarea\" && props.autosize\n        ? {\n              resize: \"none\",\n              height: height.value,\n              overflow: \"hidden\",\n          }\n        : {},\n);\n\nlet debouncedInput: ReturnType<typeof useDebounce<Parameters<typeof onInput>>>;\n\nwatch(\n    () => props.debounce,\n    (debounce) => (debouncedInput = useDebounce(onInput, debounce || 0)),\n    { immediate: true },\n);\n\nfunction onInput(event: Event): void {\n    emits(\"input\", vmodel.value, event);\n}\n\nconst placeholderVisible = computed(\n    () => !isDefined(vmodel.value) || vmodel.value === \"\",\n);\n\n// --- Icon Feature ---\n\nconst hasIconRight = computed(() => {\n    return !!(\n        props.passwordReveal ||\n        (props.statusIcon && statusVariantIcon.value) ||\n        (props.clearable && vmodel.value && props.clearIcon) ||\n        props.iconRight\n    );\n});\n\nconst computedIconRight = computed(() => {\n    if (props.passwordReveal) return passwordVisibleIcon.value;\n    else if (props.clearable && vmodel.value && props.clearIcon)\n        return props.clearIcon;\n    else if (props.iconRight) return props.iconRight;\n    return statusVariantIcon.value;\n});\n\nconst computedIconRightVariant = computed(() =>\n    props.passwordReveal || props.iconRight\n        ? props.iconRightVariant || props.variant\n        : statusVariant.value,\n);\n\nfunction iconClick(event: Event): void {\n    emits(\"icon-click\", event);\n    nextTick(() => setFocus());\n}\n\nfunction rightIconClick(event: Event): void {\n    if (props.passwordReveal) togglePasswordVisibility();\n    else if (props.clearable)\n        vmodel.value = (isTrueish(props.number) ? 0 : \"\") as ModelValue;\n    if (props.iconRightClickable) {\n        emits(\"icon-right-click\", event);\n        nextTick(() => setFocus());\n    }\n}\n\n// --- Password Visability Feature ---\n\nconst isPasswordVisible = ref(false);\n\nconst inputType = computed(() => {\n    if (props.passwordReveal)\n        return isPasswordVisible.value ? \"text\" : \"password\";\n    else return props.type;\n});\n\n/** Current password-reveal icon name. */\nconst passwordVisibleIcon = computed(() =>\n    !isPasswordVisible.value ? \"eye\" : \"eye-off\",\n);\n\n/**\n * Toggle the visibility of a password-reveal input\n * by changing the type and focus the input right away.\n */\nfunction togglePasswordVisibility(): void {\n    isPasswordVisible.value = !isPasswordVisible.value;\n    nextTick(() => setFocus());\n}\n\n// --- Computed Component Classes ---\n\nconst attrs = useAttrs();\n\nconst inputBind = computed(() => ({\n    ...parentField?.value?.inputAttrs,\n    ...attrs,\n}));\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-input\"],\n    [\n        \"sizeClass\",\n        \"o-input--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\n        \"variantClass\",\n        \"o-input--\",\n        computed(() => statusVariant.value || props.variant),\n        computed(() => !!statusVariant.value || !!props.variant),\n    ],\n    [\n        \"expandedClass\",\n        \"o-input--expanded\",\n        null,\n        computed(() => props.expanded),\n    ],\n    [\n        \"disabledClass\",\n        \"o-input--disabled\",\n        null,\n        computed(() => props.disabled),\n    ],\n    [\"roundedClass\", \"o-input--rounded\", null, computed(() => props.rounded)],\n    [\"hasIconRightClass\", \"o-input--icon-right\", null, hasIconRight],\n    [\n        \"textareaClass\",\n        \"o-input--textarea\",\n        null,\n        computed(() => props.type === \"textarea\"),\n    ],\n);\n\nconst inputClasses = defineClasses(\n    [\"inputClass\", \"o-input__input\"],\n    [\n        \"iconLeftSpaceClass\",\n        \"o-input__input--iconspace-left\",\n        null,\n        computed(() => !!props.icon),\n    ],\n    [\n        \"iconRightSpaceClass\",\n        \"o-input__input--iconspace-right\",\n        null,\n        hasIconRight,\n    ],\n    [\n        \"placeholderClass\",\n        \"o-input__input--placeholder\",\n        null,\n        placeholderVisible,\n    ],\n);\n\nconst iconLeftClasses = defineClasses([\"iconLeftClass\", \"o-input__icon-left\"]);\n\nconst iconRightClasses = defineClasses([\n    \"iconRightClass\",\n    \"o-input__icon-right\",\n]);\n\nconst counterClasses = defineClasses([\"counterClass\", \"o-input__counter\"]);\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ focus: setFocus, value: vmodel });\n</script>\n\n<template>\n    <div data-oruga=\"input\" :class=\"rootClasses\">\n        <o-icon\n            v-if=\"icon\"\n            :class=\"iconLeftClasses\"\n            :clickable=\"iconClickable\"\n            :icon=\"icon\"\n            :pack=\"iconPack\"\n            :size=\"size\"\n            @click=\"iconClick\" />\n\n        <input\n            v-if=\"type !== 'textarea'\"\n            v-bind=\"inputBind\"\n            :id=\"id\"\n            ref=\"inputElement\"\n            v-model=\"vmodel\"\n            :type=\"inputType\"\n            :data-oruga-input=\"inputType\"\n            :class=\"inputClasses\"\n            :maxlength=\"maxlength\"\n            :autocomplete=\"autocomplete\"\n            :placeholder=\"placeholder\"\n            :disabled=\"disabled\"\n            @blur=\"onBlur\"\n            @focus=\"onFocus\"\n            @invalid=\"onInvalid\"\n            @input=\"debouncedInput\" />\n\n        <textarea\n            v-else\n            v-bind=\"inputBind\"\n            :id=\"id\"\n            ref=\"inputElement\"\n            v-model=\"vmodel\"\n            data-oruga-input=\"textarea\"\n            :class=\"inputClasses\"\n            :maxlength=\"maxlength\"\n            :style=\"computedStyles\"\n            :placeholder=\"placeholder\"\n            :disabled=\"disabled\"\n            @blur=\"onBlur\"\n            @focus=\"onFocus\"\n            @invalid=\"onInvalid\"\n            @input=\"debouncedInput\" />\n\n        <o-icon\n            v-if=\"hasIconRight\"\n            :class=\"iconRightClasses\"\n            :clickable=\"passwordReveal || clearable || iconRightClickable\"\n            :icon=\"computedIconRight\"\n            :pack=\"iconPack\"\n            :size=\"size\"\n            :variant=\"computedIconRightVariant\"\n            both\n            @click=\"rightIconClick\" />\n\n        <small\n            v-if=\"maxlength && counter && isFocused && type !== 'number'\"\n            :class=\"counterClasses\">\n            {{ valueLength }} / {{ maxlength }}\n        </small>\n    </div>\n</template>\n","<script setup lang=\"ts\" generic=\"T\">\nimport { useId, computed, useTemplateRef } from \"vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { isDefined, isEqual } from \"@/utils/helpers\";\nimport { defineClasses, useProviderChild } from \"@/composables\";\n\nimport type { DropdownComponent, DropdownItemComponent } from \"./types\";\nimport type { DropdownItemProps } from \"./props\";\n\n/**\n * An option item used by the dropdown component.\n * @displayName Dropdown Item\n */\ndefineOptions({\n    isOruga: true,\n    name: \"ODropdownItem\",\n    configField: \"dropdown\",\n});\n\nconst props = withDefaults(defineProps<DropdownItemProps<T>>(), {\n    override: undefined,\n    value: undefined,\n    label: undefined,\n    disabled: false,\n    clickable: true,\n    hidden: false,\n    tag: () => getDefault(\"dropdown.itemTag\", \"div\"),\n});\n\nconst emits = defineEmits<{\n    /**\n     * onclick event\n     * @param value {string | number | object} value prop data\n     * @param event {event} Native Event\n     */\n    click: [value: T, event: Event];\n}>();\n\nconst itemValue = props.value ?? useId();\n\nconst rootRef = useTemplateRef<Element>(\"rootElement\");\n\n// provided data is a computed ref to ensure reactivity\nconst providedData = computed<DropdownItemComponent<T>>(() => ({\n    ...props,\n    $el: rootRef.value,\n    value: itemValue,\n    selectItem,\n}));\n\n/** inject functionalities and data from the parent component */\nconst { parent, item } = useProviderChild<\n    DropdownComponent<T>,\n    DropdownItemComponent<T>\n>({ data: providedData });\n\nconst isClickable = computed(\n    () => !parent.value.disabled && !props.disabled && props.clickable,\n);\n\nconst isSelected = computed(() => {\n    if (!isDefined(parent.value.selected)) return false;\n    if (parent.value.multiple && Array.isArray(parent.value.selected))\n        return parent.value.selected.some((selected: T) =>\n            isEqual(itemValue, selected),\n        );\n    return isEqual(itemValue, parent.value.selected);\n});\n\nconst isFocused = computed(\n    () => item.value.identifier === parent.value.focsuedIdentifier,\n);\n\n/** Click listener, select the item. */\nfunction selectItem(event: Event): void {\n    if (!isClickable.value) return;\n    parent.value.selectItem(item.value, event);\n    emits(\"click\", itemValue as T, event);\n}\n\n/** Hover listener, focus the item. */\nfunction focusItem(): void {\n    parent.value.focusItem(item.value);\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"itemClass\", \"o-dropdown__item\"],\n    [\n        \"itemDisabledClass\",\n        \"o-dropdown__item--disabled\",\n        null,\n        computed(() => parent.value.disabled || props.disabled),\n    ],\n    [\"itemSelectedClass\", \"o-dropdown__item--active\", null, isSelected],\n    [\"itemClickableClass\", \"o-dropdown__item--clickable\", null, isClickable],\n    [\"itemFocusedClass\", \"o-dropdown__item--focused\", null, isFocused],\n);\n</script>\n\n<template>\n    <component\n        :is=\"tag\"\n        :id=\"`${parent.menuId}-${item.identifier}`\"\n        ref=\"rootElement\"\n        data-oruga=\"dropdown-item\"\n        :data-id=\"`dropdown-${item.identifier}`\"\n        :class=\"rootClasses\"\n        :role=\"parent.selectable ? 'option' : 'menuitem'\"\n        :aria-selected=\"parent.selectable ? isSelected : undefined\"\n        :aria-disabled=\"disabled\"\n        @click=\"selectItem\"\n        @mouseenter=\"focusItem\"\n        @keydown.enter=\"selectItem\"\n        @keydown.space=\"selectItem\">\n        <!--\n            @slot Override the label, default is label prop \n        -->\n        <slot>{{ label }}</slot>\n    </component>\n</template>\n","<script setup lang=\"ts\">\nimport {\n    watch,\n    computed,\n    nextTick,\n    onBeforeUnmount,\n    ref,\n    type Component,\n    type PropType,\n} from \"vue\";\nimport { isClient } from \"@/utils/ssr\";\nimport {\n    useTeleportDefault,\n    getScrollingParent,\n    unrefElement,\n} from \"@/composables\";\n\ntype Position = \"top\" | \"bottom\" | \"left\" | \"right\";\n\nconst opposites: Record<Position, Position> = {\n    top: \"bottom\",\n    bottom: \"top\",\n    right: \"left\",\n    left: \"right\",\n};\n\ntype Point = { x: number; y: number };\n\ndefineOptions({ inheritAttrs: false });\n\nconst props = defineProps({\n    teleport: {\n        type: [Boolean, String, Object],\n        required: true,\n    },\n    trigger: {\n        type: Object as PropType<HTMLElement | Component>,\n        default: undefined,\n    },\n    /**\n     * Position of the component relative to the trigger\n     * @values auto, top, bottom, left, right, top-right, top-left, bottom-left, bottom-right\n     */\n    position: {\n        type: String,\n        validator: (value: string) =>\n            [\n                \"auto\",\n                \"top\",\n                \"bottom\",\n                \"left\",\n                \"right\",\n                \"top-right\",\n                \"top-left\",\n                \"bottom-left\",\n                \"bottom-right\",\n            ].includes(value),\n        required: true,\n    },\n    /** Used for calculation position auto */\n    defaultPosition: {\n        type: String as PropType<Position>,\n        validator: (value: string) =>\n            [\"top\", \"bottom\", \"left\", \"right\"].includes(value),\n        default: \"top\",\n    },\n    /** disable the position calculation */\n    disabled: { type: Boolean, default: false },\n    /** update positioning on teleport */\n    disablePositioning: { type: Boolean, default: true },\n});\n\nconst emits = defineEmits<{\n    \"update:position\": [value: string];\n}>();\n\nconst _teleport = computed(() =>\n    typeof props.teleport === \"boolean\"\n        ? { to: useTeleportDefault(), disabled: !props.teleport }\n        : { to: props.teleport, disabled: false },\n);\n\nconst contentRef = ref<HTMLElement | Component>();\n\nfunction setContent<T extends typeof contentRef.value>(el: T): typeof el {\n    contentRef.value = el;\n\n    nextTick(() => {\n        // update positioning\n        updatePositioning();\n        // add handler\n        addHandler();\n    });\n    return el;\n}\n\n// --- Dynamic Positioning Handling Feature ---\n\nconst initialPosition = props.position;\n\nconst scrollingParent = ref<HTMLElement | null>();\nlet resizeObserver: ResizeObserver | undefined;\n\nif (isClient && window.ResizeObserver) {\n    resizeObserver = new window.ResizeObserver(updatePositioning);\n}\n\n// on disable state change update event listener\nwatch(\n    () => props.disabled,\n    () => {\n        if (!props.disabled) addHandler();\n        else removeHandler();\n    },\n    { immediate: true, flush: \"post\" },\n);\n\n// update positioning if props change\nwatch(\n    [\n        () => !!props.trigger,\n        () => props.disablePositioning,\n        () => props.disabled,\n    ],\n    () => updatePositioning(),\n    { immediate: true, flush: \"post\" },\n);\n\n// remove any event listener on unmount\nonBeforeUnmount(() => removeHandler());\n\n/** add event listener */\nfunction addHandler(): void {\n    if (isClient && !scrollingParent.value && contentRef.value) {\n        // get parent container\n        scrollingParent.value = getScrollingParent(unrefElement(contentRef)!);\n        // set event listener\n        if (\n            scrollingParent.value &&\n            scrollingParent.value !== document.documentElement\n        ) {\n            scrollingParent.value.addEventListener(\n                \"scroll\",\n                updatePositioning,\n                { passive: true },\n            );\n            if (window.ResizeObserver && resizeObserver)\n                resizeObserver.observe(scrollingParent.value);\n        } else {\n            document.addEventListener(\"scroll\", updatePositioning, {\n                passive: true,\n            });\n            window.addEventListener(\"resize\", updatePositioning);\n        }\n    }\n}\n\n/** remove event listener */\nfunction removeHandler(): void {\n    if (isClient) {\n        if (window.ResizeObserver && resizeObserver)\n            resizeObserver.disconnect();\n        window.removeEventListener(\"resize\", updatePositioning);\n        document.removeEventListener(\"scroll\", updatePositioning);\n        scrollingParent.value = undefined;\n    }\n}\n\n/** Update the best position set teleport positioning */\nfunction updatePositioning(): void {\n    if (props.disabled) return;\n    let position = props.position;\n    // update position if auto position is enabled\n    if (initialPosition === \"auto\") {\n        // calculate best position\n        position = getAutoPosition();\n        if (position != props.position)\n            // two-way bind updated position\n            emits(\"update:position\", position);\n    }\n    // do not set content position if not teleport enabled\n    if (!props.teleport) return;\n\n    const content = unrefElement(contentRef);\n    const trigger = unrefElement(props.trigger);\n\n    // set content position\n    if (content && trigger) {\n        const rect = trigger.getBoundingClientRect();\n        let top = rect.top + window.scrollY;\n        let left = rect.left + window.scrollX;\n        // define vertical positioning\n        if (position.includes(\"bottom\")) {\n            top += trigger.clientHeight;\n        } else if (position.includes(\"top\")) {\n            top -= content.clientHeight;\n        }\n        // define horizontal positioning\n        if (position === \"left\") {\n            left -= content.clientWidth;\n        } else if (position === \"right\") {\n            left += trigger.clientWidth;\n        } else if (position.includes(\"-right\")) {\n            left += trigger.clientWidth - content.clientWidth;\n        }\n\n        // adjust exact vertical positioning\n        if (position === \"top\" || position === \"bottom\") {\n            left += trigger.clientWidth / 2; //- content.clientWidth / 2;\n        }\n        // adjust exact horizontal positioning\n        if (position === \"left\" || position === \"right\") {\n            top += trigger.clientHeight / 2; // - content.clientHeight / 2;\n        }\n\n        // set style properties\n        if (props.disablePositioning) {\n            content.style.position = \"relative\";\n            content.style.top = `${top}px`;\n            content.style.left = `${left}px`;\n        } else {\n            content.style.position = \"\";\n            content.style.top = \"\";\n            content.style.left = \"\";\n        }\n    }\n}\n\n/** calculate best position if auto */\nfunction getAutoPosition(): string {\n    let bestPosition = props.defaultPosition;\n    if (!props.trigger || !contentRef.value) return bestPosition;\n    if (!scrollingParent.value) return bestPosition;\n\n    // get viewport from container\n    const viewRect = new DOMRect(\n        scrollingParent.value.offsetLeft,\n        scrollingParent.value.offsetTop,\n        scrollingParent.value.clientWidth,\n        scrollingParent.value.clientHeight,\n    );\n\n    const contentRect = unrefElement(contentRef)!.getBoundingClientRect();\n    const triggerRect = unrefElement(props.trigger).getBoundingClientRect();\n\n    // detect auto position\n    const triggerAnchors = anchors(triggerRect);\n    const contentAnchors = anchors(contentRect);\n    const contentRectAtAnchor = (pos: Position) => {\n        const triggerAnchor = triggerAnchors[pos];\n        const contentAnchor = contentAnchors[opposites[pos]];\n        // Translates contentRect so contentAnchor is on top of triggerAnchor\n        // NOTE: this doesn't account for the extra offset that the tooltip arrow provides.\n        // That offset should be small, and it's tricky to get it from the CSS.\n        return new DOMRect(\n            contentRect.x + (triggerAnchor.x - contentAnchor.x),\n            contentRect.y + (triggerAnchor.y - contentAnchor.y),\n            contentRect.width,\n            contentRect.height,\n        );\n    };\n\n    const defaultOpposite = opposites[props.defaultPosition];\n    const crossPosition =\n        props.defaultPosition === \"top\" || props.defaultPosition === \"bottom\"\n            ? \"left\"\n            : \"top\";\n    const crossOpposite = opposites[crossPosition];\n    // In descending order of priority\n    const positions: Position[] = [\n        props.defaultPosition,\n        defaultOpposite,\n        crossPosition,\n        crossOpposite,\n    ];\n    let maxOverlap = 0;\n    for (const position of positions) {\n        const overlap = intersectionArea(\n            viewRect,\n            contentRectAtAnchor(position),\n        );\n        if (overlap > maxOverlap) {\n            maxOverlap = overlap;\n            bestPosition = position;\n        }\n    }\n    return bestPosition;\n}\n\n// --- Helper Functions ---\n\nfunction intersectionArea(a: DOMRect, b: DOMRect): number {\n    const left = Math.max(a.left, b.left);\n    const right = Math.min(a.right, b.right);\n    const top = Math.max(a.top, b.top);\n    const bottom = Math.min(a.bottom, b.bottom);\n    return Math.max(right - left, 0) * Math.max(bottom - top, 0);\n}\n\n/**\n * @param rect the bounding rectangle of the trigger element\n * @return the \"anchor points\" (points where the arrow attaches) for each side of the tooltip\n */\nconst anchors = (rect: DOMRect): Record<Position, Point> => ({\n    top: { x: (rect.left + rect.right) * 0.5, y: rect.top },\n    bottom: { x: (rect.left + rect.right) * 0.5, y: rect.bottom },\n    left: { x: rect.left, y: (rect.top + rect.bottom) * 0.5 },\n    right: { x: rect.right, y: (rect.top + rect.bottom) * 0.5 },\n});\n</script>\n\n<template>\n    <Teleport :to=\"_teleport.to\" :disabled=\"_teleport.disabled\">\n        <template v-if=\"_teleport.disabled\">\n            <slot :set-content=\"setContent\" />\n        </template>\n        <template v-else>\n            <div\n                v-bind=\"$attrs\"\n                :style=\"{ position: 'absolute', left: '0px', top: '0px' }\">\n                <slot :set-content=\"setContent\" />\n            </div>\n        </template>\n    </Teleport>\n</template>\n","import type { MaybeRefOrGetter } from \"vue\";\nimport { unrefElement } from \"./unrefElement\";\n\n/** check if element is visible in browser view port */\nexport function isElementInView(\n    elementRef: MaybeRefOrGetter<HTMLElement>,\n): boolean {\n    const element = unrefElement(elementRef);\n    const bounding = element.getBoundingClientRect();\n\n    return (\n        bounding.top >= 0 &&\n        bounding.left >= 0 &&\n        bounding.bottom <=\n            (window.innerHeight || document.documentElement.clientHeight) &&\n        bounding.right <=\n            (window.innerWidth || document.documentElement.clientWidth)\n    );\n}\n\n/** check if an element is currently scrollable */\nexport function isScrollable(\n    elementRef: MaybeRefOrGetter<HTMLElement>,\n): boolean {\n    const element = unrefElement(elementRef);\n    return element && element.clientHeight < element.scrollHeight;\n}\n\n/**\n * ensure a given child element is within the parent's visible scroll area\n * if the child is not visible, scroll the parent\n */\nexport function maintainScrollVisibility(\n    activeElement: MaybeRefOrGetter<HTMLElement>,\n    scrollParent: MaybeRefOrGetter<HTMLElement>,\n): void {\n    const parent = unrefElement(scrollParent);\n    const element = unrefElement(activeElement);\n\n    const { offsetHeight, offsetTop } = element;\n    const { offsetHeight: parentOffsetHeight, scrollTop } = parent;\n\n    const isAbove = offsetTop < scrollTop;\n    const isBelow = offsetTop + offsetHeight > scrollTop + parentOffsetHeight;\n\n    if (isAbove) {\n        parent.scrollTo(0, offsetTop);\n    } else if (isBelow) {\n        parent.scrollTo(0, offsetTop - parentOffsetHeight + offsetHeight);\n    }\n}\n","import { isClient } from \"@/utils/ssr\";\nimport type { MaybeRefOrGetter } from \"vue\";\nimport { useEventListener, type EventTarget } from \"./useEventListener\";\nimport { unrefElement } from \"./unrefElement\";\n\nexport function useInfiniteScroll(\n    elementRef: MaybeRefOrGetter<EventTarget>,\n    onEnd: () => void,\n    onStart: () => void,\n): { checkScroll: () => void } {\n    if (isClient) useEventListener(elementRef, \"scroll\", checkScroll);\n\n    /** Check if the scroll list inside the dropdown reached the top or it's end. */\n    function checkScroll(): void {\n        const element = unrefElement(elementRef);\n        if (!element) return;\n        const trashhold = element.offsetTop;\n        if (element.clientHeight !== element.scrollHeight) {\n            if (\n                Math.ceil(\n                    element.scrollTop + element.clientHeight + trashhold,\n                ) >= element.scrollHeight\n            ) {\n                onEnd();\n            } else if (element.scrollTop <= trashhold) {\n                onStart();\n            }\n        }\n    }\n\n    return { checkScroll };\n}\n","<script setup lang=\"ts\" generic=\"T, IsMultiple extends boolean = false\">\nimport { computed, nextTick, ref, watch, useId, type Component } from \"vue\";\n\nimport ODropdownItem from \"../dropdown/DropdownItem.vue\";\nimport PositionWrapper from \"../utils/PositionWrapper.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { toCssDimension, isMobileAgent, isTrueish, mod } from \"@/utils/helpers\";\nimport { isClient } from \"@/utils/ssr\";\nimport {\n    unrefElement,\n    defineClasses,\n    toOptionsGroup,\n    normalizeOptions,\n    useProviderParent,\n    useMatchMedia,\n    useClickOutside,\n    usePreventScrolling,\n    useSequentialId,\n    useEventListener,\n    type OptionsGroupItem,\n} from \"@/composables\";\n\nimport type {\n    DropdownChildItem,\n    DropdownComponent,\n    DropdownItemComponent,\n} from \"./types\";\nimport type { DropdownProps } from \"./props\";\nimport { injectField } from \"../field/fieldInjection\";\nimport { maintainScrollVisibility } from \"@/composables/useScrollHelper\";\nimport { useInfiniteScroll } from \"@/composables/useInfiniteScroll\";\n\n/**\n * Dropdowns are very versatile, can used as a quick menu or even like a select for discoverable content.\n * @displayName Dropdown\n * @requires ./DropdownItem.vue\n * @style _dropdown.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"ODropdown\",\n    configField: \"dropdown\",\n});\n\ntype ModelValue = DropdownProps<T, IsMultiple>[\"modelValue\"];\n\nconst props = withDefaults(defineProps<DropdownProps<T, IsMultiple>>(), {\n    override: undefined,\n    modelValue: undefined,\n    // multiple: false,\n    options: undefined,\n    active: false,\n    label: undefined,\n    disabled: false,\n    inline: false,\n    selectable: false,\n    keepOpen: () => getDefault(\"dropdown.keepOpen\", false),\n    keepFirst: () => getDefault(\"dropdown.keepFirst\", false),\n    closeOnOutside: () => getDefault(\"dropdown.closeOnOutside\", true),\n    closeOnScroll: () => getDefault(\"dropdown.closeOnScroll\", false),\n    selectOnFocus: () => getDefault(\"dropdown.selectOnFocus\", false),\n    selectOnClose: () => getDefault(\"dropdown.selectOnClose\", false),\n    expanded: false,\n    position: () => getDefault(\"dropdown.position\", \"bottom-left\"),\n    scrollable: false,\n    maxHeight: () => getDefault(\"dropdown.maxHeight\", 200),\n    checkScroll: () => getDefault(\"dropdown.checkScroll\", false),\n    menuId: () => useId(),\n    menuTag: () => getDefault(\"dropdown.menuTag\", \"div\"),\n    triggerTag: () => getDefault(\"dropdown.triggerTag\", \"div\"),\n    triggers: () => getDefault(\"dropdown.triggers\", [\"click\"]),\n    delay: undefined,\n    desktopModal: () => getDefault(\"dropdown.desktopModal\", false),\n    mobileModal: () => getDefault(\"dropdown.mobileModal\", true),\n    mobileBreakpoint: () => getDefault(\"dropdown.mobileBreakpoint\"),\n    animation: () => getDefault(\"dropdown.animation\", \"fade\"),\n    teleport: () => getDefault(\"dropdown.teleport\", false),\n    clipScroll: () => getDefault(\"dropdown.clipScroll\", false),\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {T | T[]} updated modelValue prop\n     */\n    \"update:model-value\": [value: ModelValue];\n    /**\n     * active prop two-way binding\n     * @param value {boolean} updated active prop\n     */\n    \"update:active\": [value: boolean];\n    /**\n     * on select event - fired before update:modelValue\n     * @param value {T} selected value\n     */\n    select: [value: T];\n    /**\n     * @deprecated use update:model-value instead\n     * on change event - fired after update:modelValue\n     * @param value {T | T[]} selected value\n     */\n    change: [value: ModelValue];\n    /**\n     * on open event\n     * @param method {string} open method\n     * @param event {Event} native event\n     */\n    open: [method: string, event: Event];\n    /**\n     * on close event\n     * @param method {string} close method\n     * @param event {Event} native event\n     */\n    close: [method: string, event: Event];\n    /** the list inside the dropdown reached the start */\n    \"scroll-start\": [];\n    /** the list inside the dropdown reached it's end */\n    \"scroll-end\": [];\n}>();\n\nconst triggerRef = ref<HTMLElement>();\nconst menuRef = ref<HTMLElement | Component>();\n\n// provided data is a computed ref to ensure reactivity\nconst provideData = computed<DropdownComponent<T>>(() => ({\n    disabled: props.disabled,\n    multiple: isTrueish(props.multiple),\n    selectable: props.selectable,\n    menuId: props.menuId,\n    selected: vmodel.value,\n    focsuedIdentifier: focusedItem.value?.identifier,\n    selectItem,\n    focusItem,\n}));\n\n/** provide functionalities and data to child item components */\nconst { childItems } = useProviderParent<\n    DropdownItemComponent<T>,\n    DropdownComponent<T>\n>({\n    rootRef: menuRef,\n    data: provideData,\n});\n\n// create a unique id sequence\nconst { nextSequence } = useSequentialId();\n\n/** normalized programamtic options */\nconst groupedOptions = computed<OptionsGroupItem<T>[]>(() => {\n    const normalizedOptions = normalizeOptions<T>(props.options, nextSequence);\n    const groupedOptions = toOptionsGroup<T>(normalizedOptions, nextSequence());\n    return groupedOptions;\n});\n\n/** is any option visible */\nconst isNotEmpty = computed(() => childItems.value.some(isItemViable));\n\n// inject parent field component if used inside one\nconst { parentField } = injectField();\n\n// the selected item value, use v-model to make it two-way binding\nconst vmodel = defineModel<ModelValue>({ default: undefined });\n\n// the active state of the dropdown, use v-model:active to make it two-way binding\nconst isActive = defineModel<boolean>(\"active\", { default: false });\n\n// set field labelId or create a unique label id if a label is given\nconst labelId = props.labelledby ?? parentField.value?.labelId;\n\nconst autoPosition = ref(props.position);\n\n/** update autoPosition on prop change */\nwatch(\n    () => props.position,\n    (v) => (autoPosition.value = v),\n);\n\nconst { isMobile } = useMatchMedia(props.mobileBreakpoint);\n\n// check if client is mobile native\nconst isMobileNative = isClient && isMobileAgent.any();\n\n// check if should be shown as modal\nconst isModal = computed(\n    () =>\n        !props.inline &&\n        ((isMobile.value && props.mobileModal) ||\n            (!isMobile.value && props.desktopModal)),\n);\n\nconst menuStyle = computed(() => ({\n    maxHeight: props.scrollable ? toCssDimension(props.maxHeight) : null,\n    overflow: props.scrollable ? \"auto\" : null,\n}));\n\nconst hoverable = computed(() => props.triggers.includes(\"hover\"));\n\nconst toggleScroll = usePreventScrolling(props.clipScroll);\n\n// set infinite scroll handler\nif (isClient && props.scrollable && props.checkScroll)\n    useInfiniteScroll(\n        menuRef,\n        () => emits(\"scroll-end\"),\n        () => emits(\"scroll-start\"),\n    );\n\n// set click outside handler\nif (isClient && props.closeOnOutside)\n    useClickOutside([menuRef, triggerRef], onClickedOutside, {\n        trigger: isActive,\n        passive: true,\n    });\n\n// set scroll page event\nif (isClient && props.closeOnScroll)\n    useEventListener(window, \"scroll\", onPageScroll, { passive: true });\n\nwatch(\n    isActive,\n    (value) => {\n        // on active set event handler if not open as modal\n        if (value) {\n            // keep first option always pre-focused\n            if (!props.inline && props.keepFirst && !focusedItem.value)\n                moveFocus(1);\n        }\n        if (isModal.value) toggleScroll(value);\n    },\n    { flush: \"post\" },\n);\n\nwatch(\n    childItems,\n    () => {\n        // change pre-focused element when items change and keepFirst\n        if (isActive.value && !props.inline && props.keepFirst) {\n            focusedItem.value = undefined;\n            moveFocus(1);\n        }\n    },\n    { deep: true, flush: \"post\" },\n);\n\n// #region --- Trigger Handler ---\n\n/** Close dropdown if clicked outside. */\nfunction onClickedOutside(event: Event): void {\n    if (!isActive.value || props.inline) return;\n    if (!props.closeOnOutside) return;\n    close(\"outside\", event);\n}\n\n/** Close dropdown if page get scrolled. */\nfunction onPageScroll(event: Event): void {\n    if (!isActive.value || props.inline) return;\n    if (!props.closeOnScroll) return;\n    close(\"scroll\", event);\n}\n\nfunction onTriggerClick(event: Event): void {\n    // check if is mobile native and hoverable together\n    if (isMobileNative && hoverable.value) toggle(\"click\", event);\n    // check normal click conditions\n    if (!props.triggers.includes(\"click\")) return;\n    toggle(\"click\", event);\n}\n\nfunction onTriggerContextMenu(event: MouseEvent): void {\n    if (!props.triggers.includes(\"contextmenu\")) return;\n    event.preventDefault();\n    open(\"contextmenu\", event);\n}\n\nfunction onTriggerFocus(event: Event): void {\n    if (!props.triggers.includes(\"focus\")) return;\n    open(\"focus\", event);\n}\n\nfunction onTriggerHover(event: Event): void {\n    if (isMobileNative) return;\n    if (!props.triggers.includes(\"hover\")) return;\n    open(\"hover\", event);\n}\n\nfunction onTriggerHoverLeave(event: Event): void {\n    if (isMobileNative) return;\n    if (!props.triggers.includes(\"hover\")) return;\n    close(\"outside\", event);\n}\n\n/** Toggle dropdown if it's not disabled. */\nfunction toggle(method: string, event: Event): void {\n    if (props.disabled) return;\n    if (!isActive.value) open(method, event);\n    else close(method, event);\n}\n\nlet timer: ReturnType<typeof setTimeout> | undefined;\n\nfunction open(method: string, event: Event): void {\n    if (props.disabled) return;\n    if (isActive.value) return;\n    if (props.delay) {\n        timer = setTimeout(() => {\n            isActive.value = true;\n            emits(\"open\", method, event);\n            timer = undefined;\n        }, props.delay);\n    } else {\n        // if not active, toggle after clickOutside event\n        // this fixes toggling programmatic\n        nextTick(() => (isActive.value = true));\n        emits(\"open\", method, event);\n    }\n}\n\nfunction close(method: string, event: Event): void {\n    if (!isActive.value) return;\n    emits(\"close\", method, event);\n\n    // select item when dropdown closed\n    if (props.selectOnClose && focusedItem.value?.data?.value)\n        selectItem(focusedItem.value);\n\n    isActive.value = false;\n    focusedItem.value = undefined;\n    if (timer) clearTimeout(timer);\n}\n\n// #endregion --- Trigger Handler ---\n\n// #region --- Select Feature ---\n\n/**\n * Click listener from DropdownItem.\n *   1. Set new selected item.\n *   2. Update v-model.\n *   3. Close the dropdown.\n */\nfunction selectItem(item: DropdownChildItem<T>, event?: Event): void {\n    const value = item.data!.value!;\n    emits(\"select\", value);\n\n    if (props.selectable) {\n        // set selected option\n        if (isTrueish(props.multiple)) {\n            if (vmodel.value && Array.isArray(vmodel.value)) {\n                if (!vmodel.value.includes(value)) {\n                    // add a value\n                    vmodel.value = [...vmodel.value, value] as ModelValue;\n                } else {\n                    // remove a value\n                    vmodel.value = vmodel.value.filter(\n                        (val) => val !== value,\n                    ) as ModelValue;\n                }\n            } else {\n                // init new value array\n                vmodel.value = [value] as ModelValue;\n            }\n            // emit change after vmodel has changed\n            nextTick(() => emits(\"change\", vmodel.value));\n        } else {\n            if (vmodel.value !== value) {\n                // update a single value\n                vmodel.value = value as ModelValue;\n                // emit change after vmodel has changed\n                nextTick(() => emits(\"change\", vmodel.value));\n            }\n        }\n    }\n\n    triggerRef.value?.focus();\n    if (props.keepOpen || !isActive.value || !event) return;\n    close(\"content\", event);\n}\n\n// #endregion --- Select Feature ---\n\n// #region --- Focus Feature ---\n\nconst focusedItem = ref<DropdownChildItem<T>>();\n\n/** Hover listener from DropdownItem. */\nfunction focusItem(value: DropdownChildItem<T>): void {\n    focusedItem.value = value;\n}\n\n/** Set focus on a tab item. */\nfunction moveFocus(delta: 1 | -1): void {\n    if (!isNotEmpty.value) return;\n    const item = getFirstViableItem(focusedItem.value?.index || 0, delta);\n    setFocus(item);\n}\n\n/** Set focus on a dropdown item. */\nfunction setFocus(item: DropdownChildItem<T>): void {\n    if (props.selectOnFocus && item.data?.value)\n        selectItem(item, new Event(\"focus\"));\n\n    const dropdownMenu = unrefElement(menuRef);\n    const element = unrefElement(item.data?.$el);\n    if (!dropdownMenu || !element) return;\n\n    // set item as focused\n    focusedItem.value = item;\n\n    // scroll item into view\n    maintainScrollVisibility(element, dropdownMenu);\n}\n\nfunction onUpPressed(event: Event): void {\n    if (!isActive.value) return open(\"keydown\", event);\n    moveFocus(-1);\n}\n\nfunction onDownPressed(event: Event): void {\n    if (!isActive.value) return open(\"keydown\", event);\n    moveFocus(1);\n}\n\nfunction onEnter(event: Event): void {\n    if (!isActive.value) return;\n    if (focusedItem.value) {\n        setFocus(focusedItem.value);\n        focusedItem.value.data?.selectItem(event);\n    }\n}\n\n/** Go to the first viable item */\nfunction onHomePressed(event: Event): void {\n    open(\"keydown\", event);\n    if (!isNotEmpty.value) return;\n    const item = getFirstViableItem(0, 1);\n    setFocus(item);\n}\n\n/** Go to the last viable item */\nfunction onEndPressed(event: Event): void {\n    open(\"keydown\", event);\n    if (!isNotEmpty.value) return;\n    const item = getFirstViableItem(childItems.value.length - 1, -1);\n    setFocus(item);\n}\n\nfunction onEscape(event: Event): void {\n    close(\"escape\", event);\n}\n\n/**\n * Get the first 'viable' child, starting at startingIndex and in the direction specified\n * by the boolean parameter forward. In other words, first try to select the child at index\n * startingIndex, and if it is not visible or it is disabled, then go to the index in the\n * specified direction until either returning to startIndex or finding a viable child item.\n */\nfunction getFirstViableItem(\n    startingIndex: number,\n    delta: 1 | -1,\n): DropdownChildItem<T> {\n    let newIndex = mod(\n        focusedItem.value?.index == startingIndex\n            ? startingIndex + delta\n            : startingIndex,\n        childItems.value.length,\n    );\n    for (\n        ;\n        newIndex !== focusedItem.value?.index;\n        newIndex = mod(newIndex + delta, childItems.value.length)\n    ) {\n        // Break if the item at this index is viable (not disabled)\n        if (isItemViable(childItems.value[newIndex])) break;\n    }\n\n    return childItems.value[newIndex];\n}\n\nfunction isItemViable(item: DropdownChildItem<T>): boolean {\n    return !item.data?.disabled && !item.data?.hidden && !!item.data?.clickable;\n}\n\n// #endregion --- Focus Feature ---\n\n// #region --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-dropdown\"],\n    [\n        \"disabledClass\",\n        \"o-dropdown--disabled\",\n        null,\n        computed(() => props.disabled),\n    ],\n    [\n        \"expandedClass\",\n        \"o-dropdown--expanded\",\n        null,\n        computed(() => props.expanded),\n    ],\n    [\"inlineClass\", \"o-dropdown--inline\", null, computed(() => props.inline)],\n    [\"mobileClass\", \"o-dropdown--mobile\", null, isMobile],\n    [\"modalClass\", \"o-dropdown--modal\", null, isModal],\n    [\"hoverableClass\", \"o-dropdown--hoverable\", null, hoverable],\n    [\n        \"positionClass\",\n        \"o-dropdown--position-\",\n        autoPosition,\n        computed(() => !!autoPosition.value),\n    ],\n    [\n        \"activeClass\",\n        \"o-dropdown--active\",\n        null,\n        computed(() => isActive.value || props.inline),\n    ],\n);\n\nconst triggerClasses = defineClasses([\"triggerClass\", \"o-dropdown__trigger\"]);\n\nconst teleportClasses = defineClasses([\n    \"teleportClass\",\n    \"o-dropdown--teleport\",\n    null,\n    computed(() => !!props.teleport),\n]);\n\nconst overlayClasses = defineClasses([\"overlayClass\", \"o-dropdown__overlay\"]);\n\nconst menuClasses = defineClasses(\n    [\"menuClass\", \"o-dropdown__menu\"],\n    [\n        \"menuPositionClass\",\n        \"o-dropdown__menu--\",\n        autoPosition,\n        computed(() => !!autoPosition.value),\n    ],\n    [\n        \"menuActiveClass\",\n        \"o-dropdown__menu--active\",\n        null,\n        computed(() => isActive.value || props.inline),\n    ],\n);\n\n// #endregion --- Computed Component Classes ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ $trigger: triggerRef, $content: menuRef, value: vmodel });\n</script>\n\n<template>\n    <div\n        data-oruga=\"dropdown\"\n        :class=\"rootClasses\"\n        @mouseleave=\"onTriggerHoverLeave\"\n        @focusout=\"onTriggerHoverLeave\">\n        <component\n            :is=\"triggerTag\"\n            v-if=\"!inline\"\n            ref=\"triggerRef\"\n            :class=\"triggerClasses\"\n            :role=\"selectable ? 'combobox' : undefined\"\n            :tabindex=\"disabled ? -1 : null\"\n            :aria-haspopup=\"selectable ? 'listbox' : 'menu'\"\n            :aria-expanded=\"selectable ? isActive : undefined\"\n            :aria-activedescendant=\"\n                focusedItem ? `${menuId}-${focusedItem.identifier}` : undefined\n            \"\n            :aria-disabled=\"disabled\"\n            :aria-controls=\"menuId\"\n            :aria-labelledby=\"selectable ? labelId : undefined\"\n            :aria-label=\"selectable ? ariaLabel : undefined\"\n            @click=\"onTriggerClick\"\n            @contextmenu=\"onTriggerContextMenu\"\n            @mouseenter=\"onTriggerHover\"\n            @focus.capture=\"onTriggerFocus\"\n            @keydown.tab=\"onEscape\"\n            @keydown.escape=\"onEscape\"\n            @keydown.enter=\"onEnter\"\n            @keydown.space=\"onEnter\"\n            @keydown.up.prevent=\"onUpPressed\"\n            @keydown.down.prevent=\"onDownPressed\"\n            @keydown.home.prevent=\"onHomePressed\"\n            @keydown.end.prevent=\"onEndPressed\">\n            <!--\n                @slot Override the trigger element, default is label prop\n                @binding {boolean} active - dropdown active state\n                @binding {T | T[]} value - the selected value\n                @binding {() => void} toggle - toggle dropdown active state\n            -->\n            <slot\n                name=\"trigger\"\n                :active=\"isActive\"\n                :value=\"modelValue\"\n                :toggle=\"onTriggerClick\">\n                {{ label }}\n            </slot>\n        </component>\n\n        <PositionWrapper\n            v-slot=\"{ setContent }\"\n            v-model:position=\"autoPosition\"\n            :teleport=\"teleport\"\n            :class=\"[...rootClasses, ...teleportClasses]\"\n            :trigger=\"triggerRef\"\n            :disabled=\"!isActive\"\n            default-position=\"bottom\"\n            :disable-positioning=\"!isModal\">\n            <transition v-if=\"isModal\" :name=\"animation\">\n                <div\n                    v-show=\"isActive\"\n                    :class=\"overlayClasses\"\n                    tabindex=\"-1\"\n                    @click=\"onClickedOutside\" />\n            </transition>\n\n            <transition :name=\"animation\">\n                <component\n                    :is=\"menuTag\"\n                    v-show=\"(!disabled && isActive) || inline\"\n                    :id=\"menuId\"\n                    :ref=\"(el) => (menuRef = setContent(el))\"\n                    :tabindex=\"inline ? 0 : -1\"\n                    :class=\"menuClasses\"\n                    :style=\"menuStyle\"\n                    :role=\"selectable ? 'listbox' : 'menu'\"\n                    :aria-labelledby=\"labelId\"\n                    :aria-label=\"ariaLabel\"\n                    :aria-hidden=\"!inline && (disabled || !isActive)\"\n                    :aria-multiselectable=\"\n                        selectable ? isTrueish(multiple) : undefined\n                    \"\n                    @keydown.enter.prevent=\"inline && onEnter($event)\"\n                    @keydown.space.prevent=\"inline && onEnter($event)\"\n                    @keydown.up.prevent=\"inline && onUpPressed($event)\"\n                    @keydown.down.prevent=\"inline && onDownPressed($event)\"\n                    @keydown.home.prevent=\"inline && onHomePressed($event)\"\n                    @keydown.end.prevent=\"inline && onEndPressed($event)\">\n                    <!--\n                        @slot Place dropdown items here\n                        @binding {boolean} active - dropdown active state\n                        @binding {number} focusedIndex - index of the focused element\n                        @binding {() => void} toggle - toggle dropdown active state\n                    -->\n                    <slot\n                        :active=\"isActive\"\n                        :focused-index=\"focusedItem?.index\"\n                        :toggle=\"toggle\">\n                        <!--\n                            @slot Place extra `o-dropdown-item` components here, even if you have some options defined by prop\n                        -->\n                        <slot name=\"before\" />\n\n                        <template v-for=\"(group, groupIndex) in groupedOptions\">\n                            <o-dropdown-item\n                                v-if=\"group.label\"\n                                v-show=\"!group.hidden\"\n                                v-bind=\"group.attrs\"\n                                :key=\"group.key\"\n                                :value=\"group.value\"\n                                :hidden=\"group.hidden\"\n                                role=\"presentation\"\n                                :clickable=\"false\">\n                                <!--\n                                    @slot Override the option group\n                                    @binding {object} group - options group\n                                    @binding {number} index - option index\n                                -->\n                                <slot\n                                    v-if=\"$slots.group\"\n                                    name=\"group\"\n                                    :group=\"group.label\"\n                                    :index=\"groupIndex\" />\n                                <span v-else>\n                                    {{ group.label }}\n                                </span>\n                            </o-dropdown-item>\n\n                            <o-dropdown-item\n                                v-for=\"option in group.options\"\n                                v-show=\"!option.hidden\"\n                                v-bind=\"option.attrs\"\n                                :key=\"option.key\"\n                                :value=\"option.value\"\n                                :hidden=\"option.hidden\">\n                                {{ option.label }}\n                            </o-dropdown-item>\n                        </template>\n\n                        <!--\n                            @slot Place extra `o-dropdown-item` components here, even if you have some options defined by prop\n                        -->\n                        <slot name=\"after\" />\n                    </slot>\n                </component>\n            </transition>\n        </PositionWrapper>\n    </div>\n</template>\n","<script setup lang=\"ts\" generic=\"T\">\nimport {\n    computed,\n    ref,\n    watch,\n    useAttrs,\n    useSlots,\n    useId,\n    triggerRef,\n    watchEffect,\n    useTemplateRef,\n    toValue,\n    type Component,\n    type MaybeRefOrGetter,\n} from \"vue\";\n\nimport OInput from \"../input/Input.vue\";\nimport ODropdown from \"../dropdown/Dropdown.vue\";\nimport ODropdownItem from \"../dropdown/DropdownItem.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport {\n    defineClasses,\n    normalizeOptions,\n    toOptionsGroup,\n    toOptionsList,\n    findOption,\n    checkOptionsEmpty,\n    filterOptionsItems,\n    useInputHandler,\n    useSequentialId,\n} from \"@/composables\";\n\nimport { injectField } from \"../field/fieldInjection\";\n\nimport type { OptionsItem, OptionsGroupItem } from \"@/types\";\nimport type { AutocompleteProps } from \"./props\";\n\nenum SpecialOption {\n    Header,\n    Footer,\n}\n\n/**\n * Extended input that provide suggestions while the user types.\n * @displayName Autocomplete\n * @style _autocomplete.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OAutocomplete\",\n    configField: \"autocomplete\",\n    inheritAttrs: false,\n});\n\ntype ModelValue = AutocompleteProps<T>[\"modelValue\"];\n\nconst props = withDefaults(defineProps<AutocompleteProps<T>>(), {\n    override: undefined,\n    modelValue: undefined,\n    input: \"\",\n    active: false,\n    options: undefined,\n    filter: undefined,\n    backendFiltering: () => getDefault(\"autocomplete.backendFiltering\", false),\n    type: \"text\",\n    menuTag: () => getDefault(\"autocomplete.menuTag\", \"div\"),\n    itemTag: () => getDefault(\"autocomplete.itemTag\", \"div\"),\n    size: () => getDefault(\"autocomplete.size\"),\n    position: () => getDefault(\"autocomplete.position\", \"auto\"),\n    placeholder: undefined,\n    expanded: false,\n    rounded: false,\n    disabled: false,\n    maxlength: undefined,\n    checkScroll: () => getDefault(\"autocomplete.checkScroll\", false),\n    debounce: () => getDefault(\"autocomplete.debounce\", 400),\n    keepFirst: () => getDefault(\"autocomplete.keepFirst\", false),\n    clearOnSelect: () => getDefault(\"autocomplete.clearOnSelect\", false),\n    openOnFocus: () => getDefault(\"autocomplete.openOnFocus\", false),\n    keepOpen: () => getDefault(\"autocomplete.keepOpen\", false),\n    maxHeight: () => getDefault(\"autocomplete.maxHeight\"),\n    selectOnClose: false,\n    selectableHeader: false,\n    selectableFooter: false,\n    iconPack: () => getDefault(\"autocomplete.iconPack\"),\n    icon: () => getDefault(\"autocomplete.icon\"),\n    iconClickable: false,\n    iconRight: () => getDefault(\"autocomplete.iconRight\"),\n    iconRightClickable: false,\n    iconRightVariant: undefined,\n    clearable: () => getDefault(\"autocomplete.clearable\", false),\n    clearIcon: () => getDefault(\"autocomplete.clearIcon\", \"close-circle\"),\n    statusIcon: () => getDefault(\"statusIcon\", true),\n    desktopModal: () => getDefault(\"dropdown.desktopModal\", false),\n    mobileModal: () => getDefault(\"autocomplete.mobileModal\", false),\n    animation: () => getDefault(\"autocomplete.animation\", \"fade\"),\n    autocomplete: () => getDefault(\"autocomplete.autocomplete\", \"off\"),\n    useHtml5Validation: () => getDefault(\"useHtml5Validation\", true),\n    customValidity: undefined,\n    teleport: () => getDefault(\"autocomplete.teleport\", false),\n    inputClasses: () => getDefault(\"autocomplete.inputClasses\", {}),\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {T} updated modelValue prop\n     */\n    \"update:model-value\": [value: ModelValue];\n    /**\n     * input prop two-way binding\n     * @param value {string} updated input prop\n     */\n    \"update:input\": [value: string];\n    /**\n     * active prop two-way binding\n     * @param value {boolean} updated active prop\n     */\n    \"update:active\": [value: boolean];\n    /**\n     * on input change event\n     * @param value {string} input value\n     * @param event {Event} native event\n     */\n    input: [value: string, event: Event];\n    /**\n     * selected element changed event\n     * @param value {T} selected value\n     */\n    select: [value: ModelValue];\n    /**\n     * header is selected\n     */\n    \"select-header\": [];\n    /**\n     * footer is selected\n     */\n    \"select-footer\": [];\n    /**\n     * on input focus event\n     * @param event {Event} native event\n     */\n    focus: [event: Event];\n    /**\n     * on input blur event\n     * @param event {Event} native event\n     */\n    blur: [event: Event];\n    /**\n     * on input invalid event\n     * @param event {Event} native event\n     */\n    invalid: [event: Event];\n    /**\n     * on icon click event\n     * @param event {Event} native event\n     */\n    \"icon-click\": [event: Event];\n    /**\n     * on icon right click event\n     * @param event {Event} native event\n     */\n    \"icon-right-click\": [event: Event];\n    /** the list inside the dropdown reached the start */\n    \"scroll-start\": [];\n    /** the list inside the dropdown reached it's end */\n    \"scroll-end\": [];\n}>();\n\nconst slots = useSlots();\n\n// define as Component to prevent docs memmory overload\nconst inputRef = useTemplateRef<Component>(\"inputComponent\");\n\n// use form input functionalities\nconst { checkHtml5Validity, onInvalid, onFocus, onBlur, isFocused, setFocus } =\n    useInputHandler(inputRef, emits, props);\n\n// inject parent field component if used inside one\nconst { parentField } = injectField();\n\n// the active state of the dropdown, use v-model:active to make it two-way binding\nconst isActive = defineModel<boolean>(\"active\", { default: false });\n\n// the selected value, use v-model to make it two-way binding\nconst selectedValue = defineModel<ModelValue>({ default: undefined });\n\n// the value of the inner input, use v-model:input to make it two-way binding\nconst inputValue = defineModel<string>(\"input\", { default: \"\" });\n\n/** create a unique id for the menu */\nconst menuId = useId();\n\n// create a unique id sequence\nconst { nextSequence } = useSequentialId();\n\n/** normalized programamtic options */\nconst groupedOptions = computed<OptionsGroupItem<T>[]>(() => {\n    const normalizedOptions = normalizeOptions<T>(props.options, nextSequence);\n    const groupedOptions = toOptionsGroup<T>(normalizedOptions, nextSequence());\n    return groupedOptions;\n});\n\n// if not backend filtered\nif (!props.backendFiltering)\n    /**\n     * Applies an reactive filter for the options based on the input value.\n     * Options are filtered by setting the hidden attribute.\n     */\n    watchEffect(() => {\n        // filter options by input value\n        filterOptionsItems<T>(groupedOptions, (o) =>\n            filterItems(o, inputValue),\n        );\n        // trigger reactive update of groupedOptions\n        triggerRef(groupedOptions);\n    });\n\nfunction filterItems(\n    option: OptionsItem<T>,\n    value: MaybeRefOrGetter<string>,\n): boolean {\n    if (typeof props.filter === \"function\")\n        return props.filter(option.value, toValue(value));\n    else\n        return !String(option.label)\n            .toLowerCase()\n            .includes(toValue(value)?.toLowerCase());\n}\n\n/** is no option visible */\nconst isEmpty = computed(() => checkOptionsEmpty(groupedOptions));\n\nwatch(isEmpty, (empty) => {\n    if (isFocused.value) isActive.value = !empty || !!slots.empty;\n});\n\n// --- Select Feature ---\n\nconst dropdownValue = ref();\n\n/**\n * When updating input's value:\n * 1. If value isn't the same as selected, set undefined\n * 2. Close dropdown if value is clear or else open it\n */\nwatch(\n    inputValue,\n    (value) => {\n        // find the option for the current selected value\n        const currentOption = findOption(groupedOptions, selectedValue);\n        // clear selected if option label does not match the selected value\n        if (currentOption && currentOption.label !== value) {\n            // clear selected value\n            selectedValue.value = undefined;\n            dropdownValue.value = undefined;\n        }\n\n        // Close dropdown if data is empty\n        if (isEmpty.value && !slots.empty) {\n            isActive.value = false;\n        }\n    },\n    { flush: \"post\" },\n);\n\n/**\n * When updating selected value:\n * 1. Set selected option label as input value\n * 2. Set the selected option value as dropdown value\n */\nwatch(\n    selectedValue,\n    (value) => {\n        if (!value) return;\n        const option = findOption(groupedOptions, value);\n        if (!option) return;\n\n        // set selected option label as input value\n        inputValue.value = props.clearOnSelect ? \"\" : option.label;\n        checkHtml5Validity();\n\n        // set the selected option value as dropdown value\n        dropdownValue.value = option.value;\n    },\n    // set initial values if selected is given\n    { immediate: true },\n);\n\nfunction setSelected(item: T | SpecialOption | undefined): void {\n    let option: OptionsItem<T> | undefined = undefined;\n\n    /** Check if header or footer was selected. */\n    if (item === SpecialOption.Header) {\n        emits(\"select-header\");\n    } else if (item === SpecialOption.Footer) {\n        emits(\"select-footer\");\n    } else if (item) {\n        // convert grouped options to simple list\n        const options: OptionsItem<T>[] = toOptionsList(groupedOptions);\n\n        // get option or undefined for header, footer or group\n        option = options.find((o) => o.value === item);\n    }\n\n    // set which option is currently selected, update v-model,\n    selectedValue.value = option?.value;\n    emits(\"select\", option?.value);\n\n    if (props.keepOpen) setFocus();\n    else isActive.value = false;\n}\n\n// --- Event Handler ---\n\n/** emit input change event */\nfunction onInput(value: string, event: Event): void {\n    if (isFocused.value) {\n        if (!isActive.value && value && (!isEmpty.value || slots.empty)) {\n            // open dropdown if input has value and options are available\n            isActive.value = true;\n        } else if (isActive.value && !value && !props.keepOpen) {\n            // close dropdown if input has not value and is not keep open\n            isActive.value = false;\n        }\n    }\n    emits(\"input\", value, event);\n    checkHtml5Validity();\n}\n\n/**\n * Focus listener.\n * If value is the same as selected, select all text.\n */\nfunction handleFocus(event: Event): void {\n    // open dropdown if `openOnFocus` and has options\n    if (\n        props.openOnFocus &&\n        (!!props.options?.length || !!slots.header || !!slots.footer)\n    )\n        isActive.value = true;\n    onFocus(event);\n}\n\n/**\n * Blur listener.\n * Close on blur.\n */\nfunction handleBlur(event: Event): void {\n    onBlur(event);\n}\n\n// #endregion --- Event Handler ---\n\n// #region --- Icon Feature ---\n\nconst computedIconRight = computed(() =>\n    props.clearable && inputValue.value && props.clearIcon\n        ? props.clearIcon\n        : props.iconRight,\n);\n\nconst computedIconRightClickable = computed(() =>\n    props.clearable ? true : props.iconRightClickable,\n);\n\nfunction rightIconClick(event: Event): void {\n    if (props.clearable) {\n        inputValue.value = \"\";\n    } else emits(\"icon-right-click\", event);\n}\n\n// #endregion --- Icon Feature ---\n\n// #region --- Computed Component Classes ---\n\nconst attrs = useAttrs();\n\nconst inputBind = computed(() => ({\n    ...parentField?.value?.inputAttrs,\n    ...attrs,\n    ...props.inputClasses,\n}));\n\nconst rootClasses = defineClasses([\"rootClass\", \"o-autocomplete\"]);\n\nconst itemClasses = defineClasses([\"itemClass\", \"o-autocomplete__item\"]);\n\nconst itemEmptyClasses = defineClasses([\n    \"itemEmptyClass\",\n    \"o-autocomplete__item--empty\",\n]);\n\nconst itemGroupClasses = defineClasses([\n    \"itemGroupTitleClass\",\n    \"o-autocomplete__item-group-title\",\n]);\n\nconst itemHeaderClasses = defineClasses([\n    \"itemHeaderClass\",\n    \"o-autocomplete__item-header\",\n]);\n\nconst itemFooterClasses = defineClasses([\n    \"itemFooterClass\",\n    \"o-autocomplete__item-footer\",\n]);\n\n// #endregion --- Computed Component Classes ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ focus: setFocus, value: inputValue });\n</script>\n\n<template>\n    <o-dropdown\n        v-model=\"dropdownValue\"\n        v-model:active=\"isActive\"\n        data-oruga=\"autocomplete\"\n        :class=\"rootClasses\"\n        :menu-id=\"menuId\"\n        :menu-tag=\"menuTag\"\n        :triggers=\"[]\"\n        scrollable\n        selectable\n        :keep-open=\"keepOpen\"\n        :keep-first=\"keepFirst\"\n        :check-scroll=\"checkScroll\"\n        :select-on-close=\"selectOnClose\"\n        :disabled=\"disabled\"\n        :desktop-modal=\"desktopModal\"\n        :mobile-modal=\"mobileModal\"\n        :max-height=\"maxHeight\"\n        :animation=\"animation\"\n        :position=\"position\"\n        :teleport=\"teleport\"\n        :expanded=\"expanded\"\n        @select=\"setSelected\"\n        @scroll-start=\"emits('scroll-start')\"\n        @scroll-end=\"emits('scroll-end')\">\n        <template #trigger>\n            <o-input\n                ref=\"inputComponent\"\n                v-bind=\"inputBind\"\n                v-model=\"inputValue\"\n                :type=\"type\"\n                :size=\"size\"\n                :rounded=\"rounded\"\n                :icon=\"icon\"\n                :icon-right=\"computedIconRight\"\n                :icon-right-clickable=\"computedIconRightClickable\"\n                :icon-pack=\"iconPack\"\n                :placeholder=\"placeholder\"\n                :maxlength=\"maxlength\"\n                :autocomplete=\"autocomplete\"\n                :expanded=\"expanded\"\n                :disabled=\"disabled\"\n                :status-icon=\"statusIcon\"\n                :debounce=\"debounce\"\n                :aria-autocomplete=\"keepFirst ? 'both' : 'list'\"\n                :aria-controls=\"menuId\"\n                enterkeyhint=\"enter\"\n                :use-html5-validation=\"false\"\n                @input=\"onInput\"\n                @focus=\"handleFocus\"\n                @blur=\"handleBlur\"\n                @invalid=\"onInvalid\"\n                @icon-click=\"emits('icon-click', $event)\"\n                @icon-right-click=\"rightIconClick\" />\n        </template>\n\n        <o-dropdown-item\n            v-if=\"$slots.header\"\n            :tag=\"itemTag\"\n            :value=\"SpecialOption.Header\"\n            :clickable=\"selectableHeader\"\n            :class=\"[...itemClasses, ...itemHeaderClasses]\">\n            <!--\n                @slot Define an additional header\n            -->\n            <slot name=\"header\" />\n        </o-dropdown-item>\n\n        <template v-for=\"(group, groupIndex) in groupedOptions\">\n            <o-dropdown-item\n                v-if=\"group.label\"\n                v-show=\"!group.hidden\"\n                :key=\"group.key\"\n                v-bind=\"group.attrs\"\n                :hidden=\"group.hidden\"\n                :value=\"group.value\"\n                :tag=\"itemTag\"\n                role=\"presentation\"\n                :clickable=\"false\"\n                :class=\"[...itemClasses, ...itemGroupClasses]\">\n                <!--\n                    @slot Override the option group\n                    @binding {object} group - options group\n                    @binding {number} index - option index\n                -->\n                <slot\n                    v-if=\"$slots.group\"\n                    name=\"group\"\n                    :group=\"group.label\"\n                    :index=\"groupIndex\" />\n                <span v-else>\n                    {{ group.label }}\n                </span>\n            </o-dropdown-item>\n\n            <o-dropdown-item\n                v-for=\"(option, optionIndex) in group.options\"\n                v-show=\"!option.hidden\"\n                :key=\"option.key\"\n                v-bind=\"option.attrs\"\n                :value=\"option.value\"\n                :hidden=\"option.hidden\"\n                :tag=\"itemTag\"\n                :class=\"itemClasses\">\n                <!--\n                    @slot Override the select option\n                    @binding {object} option - option object\n                    @binding {number} index - option index\n                    @binding {unknown} value - option value\n                -->\n                <slot\n                    v-if=\"$slots.default\"\n                    :option=\"option\"\n                    :value=\"option.value\"\n                    :index=\"optionIndex\" />\n                <span v-else>\n                    {{ option.label }}\n                </span>\n            </o-dropdown-item>\n        </template>\n\n        <o-dropdown-item\n            v-if=\"isEmpty && $slots.empty\"\n            :tag=\"itemTag\"\n            :class=\"[...itemClasses, ...itemEmptyClasses]\">\n            <!--\n                @slot Define content for empty state\n            -->\n            <slot name=\"empty\" />\n        </o-dropdown-item>\n\n        <o-dropdown-item\n            v-if=\"$slots.footer\"\n            :tag=\"itemTag\"\n            :value=\"SpecialOption.Footer\"\n            :clickable=\"selectableFooter\"\n            :class=\"[...itemClasses, ...itemFooterClasses]\">\n            <!--\n                @slot Define an additional footer\n            -->\n            <slot name=\"footer\" />\n        </o-dropdown-item>\n    </o-dropdown>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Autocomplete from \"./Autocomplete.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export autocomplete plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Autocomplete);\n    },\n} as Plugin;\n\n/** export autocomplete components */\nexport { Autocomplete as OAutocomplete };\n","<script setup lang=\"ts\">\nimport { computed } from \"vue\";\n\nimport OIcon from \"../icon/Icon.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { defineClasses } from \"@/composables\";\n\nimport type { ButtonProps } from \"./props\";\n\n/**\n * The classic button, in different colors, sizes, and states.\n * @displayName Button\n * @style _button.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OButton\",\n    configField: \"button\",\n});\n\nconst props = withDefaults(defineProps<ButtonProps>(), {\n    override: undefined,\n    tag: () => getDefault(\"button.tag\", \"button\"),\n    variant: () => getDefault(\"button.variant\"),\n    size: () => getDefault(\"button.size\"),\n    label: undefined,\n    rounded: () => getDefault(\"button.rounded\", false),\n    expanded: false,\n    disabled: false,\n    outlined: false,\n    loading: false,\n    inverted: false,\n    type: \"button\",\n    iconPack: () => getDefault(\"button.iconPack\"),\n    iconLeft: undefined,\n    iconRight: undefined,\n    iconBoth: false,\n});\n\ndefineEmits<{\n    /**\n     * button click event\n     * @param event {Event} native event\n     */\n    click: [event: Event];\n}>();\n\nconst computedTag = computed(() =>\n    typeof props.disabled !== \"undefined\" && props.disabled !== false\n        ? \"button\"\n        : props.tag,\n);\n\nconst computedNativeType = computed(() =>\n    props.tag === \"button\" || props.tag === \"input\" ? props.type : null,\n);\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-button\"],\n    [\n        \"sizeClass\",\n        \"o-button--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\n        \"variantClass\",\n        \"o-button--\",\n        computed(() => props.variant),\n        computed(() => !!props.variant && !props.outlined && !props.inverted),\n    ],\n    [\n        \"outlinedClass\",\n        \"o-button--outlined\",\n        null,\n        computed(() => props.outlined && !props.variant),\n    ],\n    [\n        \"invertedClass\",\n        \"o-button--inverted\",\n        null,\n        computed(() => props.inverted && !props.variant),\n    ],\n    [\n        \"outlinedClass\",\n        \"o-button--outlined-\",\n        computed(() => props.variant),\n        computed(() => props.outlined && !!props.variant),\n    ],\n    [\n        \"invertedClass\",\n        \"o-button--inverted-\",\n        computed(() => props.variant),\n        computed(() => props.inverted && !!props.variant),\n    ],\n    [\n        \"expandedClass\",\n        \"o-button--expanded\",\n        null,\n        computed(() => props.expanded),\n    ],\n    [\"loadingClass\", \"o-button--loading\", null, computed(() => props.loading)],\n    [\"roundedClass\", \"o-button--rounded\", null, computed(() => props.rounded)],\n    [\n        \"disabledClass\",\n        \"o-button--disabled\",\n        null,\n        computed(() => props.disabled),\n    ],\n);\n\nconst wrapperClasses = defineClasses([\"wrapperClass\", \"o-button__wrapper\"]);\n\nconst labelClasses = defineClasses([\"labelClass\", \"o-button__label\"]);\n\nconst iconClasses = defineClasses([\"iconClass\", \"o-button__icon\"]);\n\nconst iconLeftClasses = defineClasses([\"iconLeftClass\", \"o-button__icon-left\"]);\n\nconst iconRightClasses = defineClasses([\n    \"iconRightClass\",\n    \"o-button__icon-right\",\n]);\n</script>\n\n<template>\n    <component\n        :is=\"computedTag\"\n        data-oruga=\"button\"\n        :type=\"computedNativeType\"\n        role=\"button\"\n        tabindex=\"0\"\n        :class=\"rootClasses\"\n        :disabled=\"disabled ? true : null\"\n        @click=\"$emit('click', $event)\"\n        @keydown.enter=\"$emit('click', $event)\"\n        @keydown.space=\"$emit('click', $event)\">\n        <span :class=\"wrapperClasses\">\n            <o-icon\n                v-if=\"iconLeft\"\n                :pack=\"iconPack\"\n                :icon=\"iconLeft\"\n                :size=\"size\"\n                :both=\"iconBoth\"\n                :class=\"[...iconClasses, ...iconLeftClasses]\" />\n\n            <span v-if=\"label || $slots.default\" :class=\"labelClasses\">\n                <!--\n                    @slot Override the label, default is label prop \n                -->\n                <slot>{{ label }}</slot>\n            </span>\n\n            <o-icon\n                v-if=\"iconRight\"\n                :pack=\"iconPack\"\n                :icon=\"iconRight\"\n                :size=\"size\"\n                :both=\"iconBoth\"\n                :class=\"[...iconClasses, ...iconRightClasses]\" />\n        </span>\n    </component>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Button from \"./Button.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export button plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Button);\n    },\n} as Plugin;\n\n/** export button components */\nexport { Button as OButton };\n","<script setup lang=\"ts\">\nimport {\n    computed,\n    watch,\n    onBeforeUnmount,\n    onMounted,\n    ref,\n    nextTick,\n    readonly,\n    toRaw,\n    useTemplateRef,\n    triggerRef,\n} from \"vue\";\n\nimport OIcon from \"../icon/Icon.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { sign, mod, bound, isDefined } from \"@/utils/helpers\";\nimport { isClient } from \"@/utils/ssr\";\nimport {\n    defineClasses,\n    useProviderParent,\n    type ProviderItem,\n} from \"@/composables\";\n\nimport type { CarouselComponent } from \"./types\";\nimport type { ClassBind } from \"@/types\";\nimport type { CarouselProps } from \"./props\";\n\n/**\n * A Slideshow for cycling images in confined spaces.\n * @displayName Carousel\n * @requires ./CarouselItem.vue\n * @style _carousel.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OCarousel\",\n    configField: \"carousel\",\n});\n\nconst props = withDefaults(defineProps<CarouselProps>(), {\n    override: undefined,\n    modelValue: 0,\n    dragable: true,\n    autoplay: false,\n    interval: () => getDefault(\"carousel.interval\", 3500),\n    pauseHover: false,\n    repeat: false,\n    overlay: false,\n    indicators: true,\n    indicatorInside: false,\n    indicatorPosition: () => getDefault(\"carousel.indicatorPosition\", \"bottom\"),\n    indicatorStyle: () => getDefault(\"carousel.indicatorStyle\", \"dots\"),\n    itemsToShow: () => getDefault(\"carousel.itemsToShow\", 1),\n    itemsToList: () => getDefault(\"carousel.itemsToList\", 1),\n    arrows: () => getDefault(\"carousel.arrows\", true),\n    arrowsHover: () => getDefault(\"carousel.arrowsHover\", true),\n    iconPack: () => getDefault(\"carousel.iconPack\"),\n    iconSize: () => getDefault(\"carousel.iconSize\"),\n    iconPrev: () => getDefault(\"carousel.iconPrev\", \"chevron-left\"),\n    iconNext: () => getDefault(\"carousel.iconNext\", \"chevron-right\"),\n    iconAutoplayPause: () => getDefault(\"carousel.iconAutoplayPause\", \"pause\"),\n    iconAutoplayResume: () => getDefault(\"carousel.iconAutoplayResume\", \"play\"),\n    breakpoints: () => ({}),\n    ariaAutoplayPauseLabel: () =>\n        getDefault(\n            \"carousel.ariaAutoplayPauseLabel\",\n            \"Stop Automatic Slide Show\",\n        ),\n    ariaAutoplayResumeLabel: () =>\n        getDefault(\n            \"carousel.ariaAutoplayResumeLabel\",\n            \"Start Automatic Slide Show\",\n        ),\n    ariaNextLabel: () => getDefault(\"carousel.ariaNextLabel\", \"Next Slide\"),\n    ariaPreviousLabel: () =>\n        getDefault(\"carousel.ariaPreviousLabel\", \"Previous Slide\"),\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {number} updated modelValue prop\n     */\n    \"update:model-value\": [value: number];\n    /**\n     * on carousel slide change event\n     * @param value {number} active index\n     */\n    change: [value: number];\n    /**\n     * on item click event\n     * @param event {event} native event\n     */\n    click: [event: Event];\n}>();\n\nconst rootRef = useTemplateRef(\"rootElement\");\n\n// provided data is a computed ref to ensure reactivity\nconst provideData = computed<CarouselComponent>(() => ({\n    activeIndex: activeIndex.value,\n    indicators: props.indicators,\n    total: total.value,\n    itemWidth: itemWidth.value,\n    onDrag: onDragStart,\n    onClick: (event: Event): void => emits(\"click\", event),\n    setActive: (index: number): void => switchTo(index),\n}));\n\n/** provide functionalities and data to child item components */\nconst { childItems } = useProviderParent({ rootRef, data: provideData });\n\n// the real index of the active item, use v-model to make it two-way binding\nconst activeIndex = defineModel<number>({ default: 0 });\n\nconst total = computed(() => childItems.value.length);\n\nconst indicatorItems = computed(() =>\n    childItems.value.filter(\n        (el, i) => mod(i, settings.value.itemsToList) === 0,\n    ),\n);\n\nlet resizeObserver: ResizeObserver | undefined;\nif (isClient && window.ResizeObserver) {\n    resizeObserver = new window.ResizeObserver(onRefresh);\n}\n\n/** watch specific props which need to refresh the component */\nwatch(\n    [\n        () => props.itemsToList,\n        () => props.itemsToShow,\n        () => props.arrowsHover,\n        () => props.repeat,\n    ],\n    () => onRefresh(),\n);\n\nconst windowWidth = ref(0);\n\nfunction onRefresh(): void {\n    activeIndex.value = 0;\n    // set HTML element with\n    windowWidth.value = window.innerWidth;\n    // trigger re creation of settings based on props\n    nextTick(() => triggerRef(settings));\n}\n\nonMounted(() => {\n    if (isClient) {\n        if (window.ResizeObserver && resizeObserver && rootRef.value)\n            resizeObserver.observe(rootRef.value);\n\n        // set HTML element with\n        windowWidth.value = window.innerWidth;\n\n        // a prefers-reduced-motion user setting must always override autoplay\n        const hasReducedMotion = window.matchMedia(\n            \"(prefers-reduced-motion: reduce)\",\n        );\n        if (!hasReducedMotion?.matches) startTimer();\n    }\n});\n\nonBeforeUnmount(() => {\n    if (isClient) {\n        if (window.ResizeObserver && resizeObserver)\n            resizeObserver.disconnect();\n\n        onDragEnd();\n        pauseTimer();\n    }\n});\n\nconst settings = computed<typeof props>(() => {\n    const breakpoints = Object.keys(props.breakpoints)\n        .map(Number)\n        .sort((a, b) => b - a);\n\n    const breakpoint = breakpoints.find(\n        (breakpoint) => windowWidth.value >= breakpoint,\n    );\n\n    const settings = toRaw(\n        breakpoint ? { ...props, ...props.breakpoints[breakpoint] } : props,\n    );\n\n    // prevent empty values\n    if (!settings.itemsToList) settings.itemsToList = 1;\n    if (!settings.itemsToShow) settings.itemsToShow = 1;\n    return readonly(settings);\n});\n\nconst itemWidth = computed(() => {\n    // Ensure component is mounted\n    if (!windowWidth.value || !rootRef.value) return 0;\n\n    const rect = rootRef.value.getBoundingClientRect();\n    return rect.width / settings.value.itemsToShow;\n});\n\n// #region --- Switch Events ---\n\nconst hasArrows = computed(\n    () =>\n        (settings.value.arrowsHover && isHovered.value) ||\n        !settings.value.arrowsHover,\n);\n\nconst hasPrev = computed(() => settings.value.repeat || activeIndex.value > 0);\n\nfunction onPrev(): void {\n    switchTo(activeIndex.value - settings.value.itemsToList);\n}\n\nconst hasNext = computed(\n    () =>\n        settings.value.repeat ||\n        activeIndex.value < total.value - settings.value.itemsToList,\n);\n\nfunction onNext(): void {\n    switchTo(activeIndex.value + settings.value.itemsToList);\n}\n\n/** Go to the first viable item */\nfunction onHomePressed(): void {\n    switchTo(0);\n}\n\n/** Go to the last viable item */\nfunction onEndPressed(): void {\n    switchTo(total.value - settings.value.itemsToList);\n}\n\n/**\n * Show the slide by index\n * @param index the real index of the slide\n */\nfunction switchTo(index: number = 0): void {\n    if (settings.value.repeat) index = mod(index, total.value);\n    index = bound(index, 0, total.value - 1);\n\n    activeIndex.value = index;\n    emits(\"change\", index);\n}\n\n/** Set focus on a tab item. */\nfunction onChange(item: ProviderItem): void {\n    switchTo(item.index);\n}\n\n// #endregion --- Switch Events ---\n\n// #region --- Autoplay Feature ---\n\nconst isHovered = ref(false);\nlet timer: ReturnType<typeof setTimeout> | undefined;\n/** deactive autoplay feature */\nconst isAutoplayPaused = ref(false);\n\nfunction onMouseEnter(): void {\n    isHovered.value = true;\n    if (props.autoplay && props.pauseHover) pauseTimer();\n}\n\nfunction onMouseLeave(): void {\n    isHovered.value = false;\n    if (props.autoplay && props.pauseHover) startTimer();\n}\n\n/** When autoplay is changed, start or pause timer accordingly */\nwatch(\n    () => props.autoplay,\n    (status) => {\n        if (status) startTimer();\n        else pauseTimer();\n    },\n);\n\n/** Since the timer can get paused at the end, if repeat is changed we need to restart it */\nwatch(\n    () => props.repeat,\n    (status) => {\n        if (status) startTimer();\n    },\n);\n\nfunction onToggleAutoplay(): void {\n    if (!isAutoplayPaused.value) {\n        isAutoplayPaused.value = true;\n        pauseTimer();\n    } else {\n        isAutoplayPaused.value = false;\n        startTimer();\n    }\n}\n\nfunction startTimer(): void {\n    if (!props.autoplay || timer) return;\n    if (isAutoplayPaused.value) return;\n    timer = setInterval(() => {\n        if (!props.repeat && !hasNext.value) pauseTimer();\n        else onNext();\n    }, props.interval);\n}\n\nfunction pauseTimer(): void {\n    if (timer) {\n        clearInterval(timer);\n        timer = undefined;\n    }\n}\n\n// #endregion --- Autoplay Feature ---\n\n// #region --- Drag & Drop Feature ---\n\nconst dragX = ref();\nconst delta = ref(0);\n\nconst isDragging = computed(() => isDefined(dragX.value));\n\nconst translation = computed(\n    () =>\n        -bound(\n            delta.value + activeIndex.value * itemWidth.value,\n            0,\n            (childItems.value.length - settings.value.itemsToShow) *\n                itemWidth.value,\n        ),\n);\n\n/** handle drag event */\nfunction onDragStart(event: TouchEvent | MouseEvent): void {\n    if (\n        isDragging.value ||\n        !settings.value.dragable ||\n        ((event as MouseEvent).button !== 0 && event.type !== \"touchstart\")\n    )\n        return;\n\n    delta.value = 0;\n    // get dragging start x value\n    dragX.value = !!(event as TouchEvent).touches\n        ? (event as TouchEvent).touches[0].clientX\n        : (event as MouseEvent).clientX;\n\n    // stop timer when dragging starts\n    pauseTimer();\n}\n\nfunction onDragOver(event: TouchEvent | MouseEvent): void {\n    if (!isDragging.value) return;\n\n    const dragEndX = !!(event as TouchEvent).touches\n        ? (\n              (event as TouchEvent).changedTouches[0] ||\n              (event as TouchEvent).touches[0]\n          ).clientX\n        : (event as MouseEvent).clientX;\n    // calc transition delta value\n    delta.value = dragX.value - dragEndX;\n}\n\nfunction onDragEnd(): void {\n    if (!isDragging.value) return;\n    // switch slide\n    const signCheck = sign(delta.value);\n    const results = Math.round(Math.abs(delta.value / itemWidth.value) + 0.15); // Hack\n    switchTo(activeIndex.value + signCheck * results);\n\n    // cleanup\n    delta.value = 0;\n    dragX.value = undefined;\n\n    // atart timer after dragging ends\n    startTimer();\n}\n\n// #endregion --- Drag & Drop Feature ---\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-carousel\"],\n    [\n        \"overlayClass\",\n        \"o-carousel__overlay\",\n        null,\n        computed(() => props.overlay),\n    ],\n);\n\nconst wrapperClasses = defineClasses([\"wrapperClass\", \"o-carousel__wrapper\"]);\n\nconst itemsClasses = defineClasses(\n    [\"itemsClass\", \"o-carousel__items\"],\n    [\"itemsDraggingClass\", \"o-carousel__items--dragging\", null, isDragging],\n);\n\nconst prevIconClasses = defineClasses(\n    [\"iconClass\", \"o-carousel__icon\"],\n    [\"iconPrevClass\", \"o-carousel__icon-prev\"],\n);\n\nconst nextIconClasses = defineClasses(\n    [\"iconClass\", \"o-carousel__icon\"],\n    [\"iconNextClass\", \"o-carousel__icon-next\"],\n);\n\nconst autoplayIconClasses = defineClasses(\n    [\"iconClass\", \"o-carousel__icon\"],\n    [\"iconAutoplayClass\", \"o-carousel__icon-autoplay\"],\n);\n\nconst indicatorsClasses = defineClasses(\n    [\"indicatorsClass\", \"o-carousel__indicators\"],\n    [\n        \"indicatorsInsideClass\",\n        \"o-carousel__indicators--inside\",\n        null,\n        computed(() => !!props.indicatorInside),\n    ],\n    [\n        \"indicatorsPositionClass\",\n        \"o-carousel__indicators--\",\n        computed(() => props.indicatorPosition),\n        computed(() => !!props.indicatorPosition),\n    ],\n);\n\nconst indicatorClasses = defineClasses([\n    \"indicatorClass\",\n    \"o-carousel__indicator\",\n]);\n\nconst indicatorItemClasses = defineClasses(\n    [\"indicatorItemClass\", \"o-carousel__indicator__item\"],\n    [\n        \"indicatorItemStyleClass\",\n        \"o-carousel__indicator__item--\",\n        computed(() => props.indicatorStyle),\n        computed(() => !!props.indicatorStyle),\n    ],\n);\n\nconst indicatorItemActiveClasses = defineClasses([\n    \"indicatorItemActiveClass\",\n    \"o-carousel__indicator__item--active\",\n]);\n\nfunction indicatorItemAppliedClasses(item: ProviderItem): ClassBind[] {\n    const activeClasses =\n        activeIndex.value === item.index\n            ? indicatorItemActiveClasses.value\n            : [];\n\n    return [...indicatorItemClasses.value, ...activeClasses];\n}\n</script>\n\n<template>\n    <div\n        ref=\"rootElement\"\n        data-oruga=\"carousel\"\n        :class=\"rootClasses\"\n        role=\"region\"\n        aria-roledescription=\"carousel\"\n        @mouseover=\"onMouseEnter\"\n        @mouseleave=\"onMouseLeave\"\n        @focusin=\"onMouseEnter\"\n        @focusout=\"onMouseLeave\"\n        @keydown.left=\"onPrev\"\n        @keydown.right=\"onNext\"\n        @keydown.home.prevent=\"onHomePressed\"\n        @keydown.end.prevent=\"onEndPressed\">\n        <div :class=\"wrapperClasses\">\n            <!--\n                @slot Override the pause/resume button\n                @binding {boolean} autoplay if autoplay is active\n                @binding {(): void} toggle toggle autoplay\n            -->\n            <slot\n                name=\"pause\"\n                :autoplay=\"!isAutoplayPaused\"\n                :toggle=\"onToggleAutoplay\">\n                <template v-if=\"autoplay\">\n                    <o-icon\n                        :class=\"autoplayIconClasses\"\n                        :pack=\"iconPack\"\n                        :icon=\"\n                            !isAutoplayPaused\n                                ? iconAutoplayPause\n                                : iconAutoplayResume\n                        \"\n                        :size=\"iconSize\"\n                        both\n                        role=\"button\"\n                        tabindex=\"0\"\n                        :aria-label=\"\n                            !isAutoplayPaused\n                                ? ariaAutoplayPauseLabel\n                                : ariaAutoplayResumeLabel\n                        \"\n                        @click=\"onToggleAutoplay\"\n                        @keydown.enter.prevent=\"onToggleAutoplay\"\n                        @keydown.space.prevent=\"onToggleAutoplay\" />\n                </template>\n            </slot>\n\n            <!--\n                @slot Override the arrows\n                @binding {boolean} has-prev has prev arrow button \n                @binding {boolean} has-next has next arrow button \n                @binding {(): void} prev switch to prev item function\n                @binding {(): void} next switch to next item function\n            -->\n            <slot\n                name=\"arrow\"\n                :has-prev=\"hasPrev\"\n                :prev=\"onPrev\"\n                :has-next=\"hasNext\"\n                :next=\"onNext\">\n                <template v-if=\"arrows\">\n                    <o-icon\n                        v-show=\"hasArrows && hasPrev\"\n                        :class=\"prevIconClasses\"\n                        :pack=\"iconPack\"\n                        :icon=\"iconPrev\"\n                        :size=\"iconSize\"\n                        both\n                        role=\"button\"\n                        tabindex=\"0\"\n                        :aria-label=\"ariaPreviousLabel\"\n                        @click=\"onPrev\"\n                        @keydown.enter.prevent=\"onPrev\"\n                        @keydown.space.prevent=\"onPrev\" />\n                    <o-icon\n                        v-show=\"hasArrows && hasNext\"\n                        :class=\"nextIconClasses\"\n                        :pack=\"iconPack\"\n                        :icon=\"iconNext\"\n                        :size=\"iconSize\"\n                        both\n                        role=\"button\"\n                        tabindex=\"0\"\n                        :aria-label=\"ariaNextLabel\"\n                        @click=\"onNext\"\n                        @keydown.enter.prevent=\"onNext\"\n                        @keydown.space.prevent=\"onNext\" />\n                </template>\n            </slot>\n\n            <div\n                :class=\"itemsClasses\"\n                :style=\"'transform:translateX(' + translation + 'px)'\"\n                aria-roledescription=\"carousel-slide\"\n                aria-atomic=\"false\"\n                :aria-live=\"autoplay ? 'off' : 'polite'\"\n                @dragend=\"onDragEnd\"\n                @dragover=\"onDragOver\"\n                @touchmove=\"onDragOver\"\n                @touchend=\"onDragEnd\">\n                <!--\n                    @slot Display carousel item\n                -->\n                <slot />\n            </div>\n        </div>\n\n        <!--\n            @slot Override the indicators\n            @binding {number} active active index \n            @binding {(idx: number): void} switch-to switch to item function\n        -->\n        <slot name=\"indicators\" :active=\"activeIndex\" :switch-to=\"switchTo\">\n            <div\n                v-if=\"indicators\"\n                :class=\"indicatorsClasses\"\n                role=\"tablist\"\n                aria-label=\"Slides\">\n                <div\n                    v-for=\"item in indicatorItems\"\n                    :id=\"`carousel-${item.identifier}`\"\n                    :key=\"item.index\"\n                    :class=\"indicatorClasses\"\n                    role=\"tab\"\n                    :tabindex=\"modelValue === item.index ? '0' : '-1'\"\n                    :aria-label=\"`Slide ${item.identifier}`\"\n                    :aria-controls=\"`carouselpanel-${item.identifier}`\"\n                    :aria-selected=\"modelValue === item.index\"\n                    @click=\"onChange(item)\"\n                    @keydown.enter=\"onChange(item)\"\n                    @keydown.space=\"onChange(item)\">\n                    <!--\n                            @slot Override the indicator elements\n                            @binding {index} index indicator index \n                        -->\n                    <slot :index=\"item.index\" name=\"indicator\">\n                        <span :class=\"indicatorItemAppliedClasses(item)\" />\n                    </slot>\n                </div>\n            </div>\n        </slot>\n\n        <template v-if=\"overlay\">\n            <!-- @slot Overlay element -->\n            <slot name=\"overlay\" />\n        </template>\n    </div>\n</template>\n","<script setup lang=\"ts\">\nimport { computed } from \"vue\";\n\nimport { defineClasses, useProviderChild } from \"@/composables\";\n\nimport type { CarouselComponent } from \"./types\";\nimport type { CarouselItemProps } from \"./props\";\n\n/**\n * A Slideshow item used by the carousel.\n * @displayName Carousel Item\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OCarouselItem\",\n    configField: \"carousel\",\n});\n\nconst props = withDefaults(defineProps<CarouselItemProps>(), {\n    override: undefined,\n    clickable: false,\n});\n\n/** inject functionalities and data from the parent component */\nconst { parent, item } = useProviderChild<CarouselComponent>();\n\nconst isActive = computed(() => parent.value.activeIndex === item.value.index);\n\nconst itemStyle = computed(() => ({ width: `${parent.value.itemWidth}px` }));\n\nfunction onClick(event: Event): void {\n    if (isActive.value) parent.value.onClick(event);\n    if (props.clickable) parent.value.setActive(item.value.index);\n}\n\n// --- Computed Component Classes ---\n\nconst itemClasses = defineClasses(\n    [\"itemClass\", \"o-carousel__item\"],\n    [\"itemActiveClass\", \"o-carousel__item--active\", null, isActive],\n    [\n        \"itemClickableClass\",\n        \"o-carousel__item--clickable\",\n        null,\n        computed(() => props.clickable),\n    ],\n);\n</script>\n\n<template>\n    <div\n        :id=\"`carouselpanel-${item.identifier}`\"\n        data-oruga=\"carousel-item\"\n        :data-id=\"`carousel-${item.identifier}`\"\n        :class=\"itemClasses\"\n        :style=\"itemStyle\"\n        :role=\"parent.indicators ? 'tabpanel' : 'group'\"\n        :aria-labelledby=\"`carousel-${item.identifier}`\"\n        aria-roledescription=\"slide\"\n        :aria-label=\"`${item.index + 1} of ${parent.total}`\"\n        draggable=\"true\"\n        @click=\"onClick\"\n        @keydown.enter=\"onClick\"\n        @keydown.space=\"onClick\"\n        @dragstart=\"parent.onDrag\"\n        @touchstart=\"parent.onDrag\">\n        <!--\n            @slot Default content\n        -->\n        <slot />\n    </div>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Carousel from \"./Carousel.vue\";\nimport CarouselItem from \"./CarouselItem.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export carousel plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Carousel);\n        registerComponent(app, CarouselItem);\n    },\n} as Plugin;\n\n/** export carousel components */\nexport { Carousel as OCarousel, CarouselItem as OCarouselItem };\n","<script setup lang=\"ts\" generic=\"T\">\nimport { computed, useAttrs, useId, useSlots, useTemplateRef } from \"vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { defineClasses, useInputHandler } from \"@/composables\";\n\nimport { injectField } from \"../field/fieldInjection\";\n\nimport type { CheckboxProps } from \"./props\";\n\n/**\n * Select a single or grouped options.\n * @displayName Checkbox\n * @style _checkbox.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OCheckbox\",\n    configField: \"checkbox\",\n    inheritAttrs: false,\n});\n\nconst props = withDefaults(defineProps<CheckboxProps<T>>(), {\n    override: undefined,\n    modelValue: undefined,\n    id: () => useId(),\n    variant: () => getDefault(\"checkbox.variant\"),\n    size: () => getDefault(\"checkbox.size\"),\n    label: undefined,\n    indeterminate: false,\n    required: false,\n    disabled: false,\n    name: undefined,\n    nativeValue: undefined,\n    trueValue: undefined,\n    falseValue: undefined,\n    autocomplete: () => getDefault(\"checkbox.autocomplete\", \"off\"),\n    useHtml5Validation: () => getDefault(\"useHtml5Validation\", true),\n    customValidity: \"\",\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {T | T[]} updated modelValue prop\n     */\n    \"update:model-value\": [value: T | T[]];\n    /**\n     * on input change event\n     * @param value {T | T[]} input value\n     * @param event {Event} native event\n     */\n    input: [value: T | T[], event: Event];\n    /**\n     * on input focus event\n     * @param event {Event} native event\n     */\n    focus: [event: Event];\n    /**\n     * on input blur event\n     * @param event {Event} native event\n     */\n    blur: [event: Event];\n    /**\n     * on input invalid event\n     * @param event {Event} native event\n     */\n    invalid: [event: Event];\n}>();\n\nconst inputRef = useTemplateRef(\"inputElement\");\n\n// use form input functionalities\nconst { onBlur, onFocus, onInvalid, setFocus } = useInputHandler(\n    inputRef,\n    emits,\n    props,\n);\n\n// inject parent field component if used inside one\nconst { parentField } = injectField();\n\n// set field labelId or create a unique label id if a label is given\nconst labelId =\n    !!parentField.value || !!props.label || !!useSlots().default\n        ? parentField.value?.labelId || useId()\n        : undefined;\n\n// if no `label` is given and `id` is given set as `for` property on o-field wrapper\nif (!props.label && props.id) parentField.value?.setInputId(props.id);\n\nconst vmodel = defineModel<T | T[]>({ default: undefined });\n\nconst isChecked = computed(\n    () =>\n        vmodel.value === (props.trueValue ?? true) ||\n        (Array.isArray(vmodel.value) &&\n            vmodel.value.includes(props.nativeValue as T)),\n);\n\nfunction onInput(event: Event): void {\n    emits(\"input\", vmodel.value, event);\n}\n\n// --- Computed Component Classes ---\n\nconst attrs = useAttrs();\n\nconst inputBind = computed(() => ({\n    ...parentField.value?.inputAttrs,\n    ...attrs,\n}));\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-checkbox\"],\n    [\n        \"sizeClass\",\n        \"o-checkbox--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\n        \"variantClass\",\n        \"o-checkbox--\",\n        computed(() => props.variant),\n        computed(() => !!props.variant),\n    ],\n    [\n        \"disabledClass\",\n        \"o-checkbox--disabled\",\n        null,\n        computed(() => props.disabled),\n    ],\n    [\"checkedClass\", \"o-checkbox--checked\", null, isChecked],\n    [\n        \"indeterminateClass\",\n        \"o-checkbox--indeterminate\",\n        null,\n        computed(() => props.indeterminate),\n    ],\n);\n\nconst inputClasses = defineClasses([\"inputClass\", \"o-checkbox__input\"]);\n\nconst labelClasses = defineClasses([\"labelClass\", \"o-checkbox__label\"]);\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ focus: setFocus, value: vmodel });\n</script>\n\n<template>\n    <div data-oruga=\"checkbox\" :class=\"rootClasses\">\n        <input\n            v-bind=\"inputBind\"\n            :id=\"id\"\n            ref=\"inputElement\"\n            v-model=\"vmodel\"\n            type=\"checkbox\"\n            data-oruga-input=\"checkbox\"\n            :class=\"inputClasses\"\n            :name=\"name\"\n            :value=\"nativeValue\"\n            :true-value=\"trueValue ?? true\"\n            :false-value=\"falseValue ?? false\"\n            :required=\"required\"\n            :indeterminate=\"indeterminate\"\n            :disabled=\"disabled\"\n            :autocomplete=\"autocomplete\"\n            :aria-checked=\"indeterminate ? 'mixed' : isChecked\"\n            :aria-labelledby=\"labelId\"\n            @blur=\"onBlur\"\n            @focus=\"onFocus\"\n            @invalid=\"onInvalid\"\n            @change=\"onInput\" />\n\n        <label\n            v-if=\"label || $slots.default\"\n            :id=\"labelId\"\n            :for=\"id\"\n            :class=\"labelClasses\">\n            <!--\n                @slot Content slot, default is label prop\n            -->\n            <slot>{{ label }}</slot>\n        </label>\n    </div>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Checkbox from \"./Checkbox.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export checkbox plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Checkbox);\n    },\n} as Plugin;\n\n/** export table components */\nexport { Checkbox as OCheckbox };\n","<script setup lang=\"ts\">\nimport { computed, useId } from \"vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { defineClasses } from \"@/composables\";\n\nimport type { CollapseProps } from \"./props\";\n\n/**\n * An easy way to toggle what you want.\n * @displayName Collapse\n * @style _collapse.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OCollapse\",\n    configField: \"collapse\",\n});\n\nconst props = withDefaults(defineProps<CollapseProps>(), {\n    override: undefined,\n    open: true,\n    expanded: false,\n    animation: () => getDefault(\"collapse.animation\", \"fade\"),\n    position: () => getDefault(\"collapse.position\", \"top\"),\n    contentId: () => useId(),\n    triggerId: () => useId(),\n});\n\nconst emits = defineEmits<{\n    /**\n     * open prop two-way binding\n     * @param value {boolean} updated open prop\n     */\n    \"update:open\": [value: boolean];\n    /** on collapse opened */\n    open: [];\n    /** on collapse closed */\n    close: [];\n}>();\n\nconst isOpen = defineModel<boolean>(\"open\", { default: true });\n\n/** Toggle and emit events */\nfunction toggle(): void {\n    isOpen.value = !isOpen.value;\n    if (isOpen.value) emits(\"open\");\n    else emits(\"close\");\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-collapse\"],\n    [\n        \"positionClass\",\n        \"o-collapse--\",\n        computed(() => props.position),\n        computed(() => !!props.position),\n    ],\n);\n\nconst triggerClasses = defineClasses(\n    [\"triggerClass\", \"o-collapse__trigger\"],\n    [\n        \"expandedClass\",\n        \"o-collapse__trigger--expanded\",\n        null,\n        computed(() => props.expanded),\n    ],\n);\n\nconst contentClasses = defineClasses([\"contentClass\", \"o-collapse__content\"]);\n</script>\n\n<template>\n    <div data-oruga=\"collapse\" :class=\"rootClasses\">\n        <div\n            :id=\"triggerId\"\n            :class=\"triggerClasses\"\n            role=\"button\"\n            tabindex=\"0\"\n            :aria-controls=\"contentId\"\n            :aria-expanded=\"isOpen\"\n            @click=\"toggle\"\n            @keydown.enter=\"toggle\"\n            @keydown.space=\"toggle\">\n            <!--\n                @slot Define the collapse trigger\n                @binding {boolean} open collapse open state \n             -->\n            <slot name=\"trigger\" :open=\"isOpen\" />\n        </div>\n\n        <Transition :name=\"animation\">\n            <div\n                v-show=\"isOpen\"\n                :id=\"contentId\"\n                :class=\"contentClasses\"\n                :aria-labelledby=\"triggerId\">\n                <!--\n                    @slot Default content\n                -->\n                <slot />\n            </div>\n        </Transition>\n    </div>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Collapse from \"./Collapse.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export collapse plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Collapse);\n    },\n} as Plugin;\n\n/** export collapse components */\nexport { Collapse as OCollapse };\n","<script setup lang=\"ts\" generic=\"T, IsMultiple extends boolean = false\">\nimport {\n    computed,\n    watch,\n    nextTick,\n    useAttrs,\n    useId,\n    useTemplateRef,\n} from \"vue\";\n\nimport OIcon from \"../icon/Icon.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { isDefined, isTrueish } from \"@/utils/helpers\";\nimport {\n    defineClasses,\n    isGroupOption,\n    normalizeOptions,\n    useInputHandler,\n    useSequentialId,\n} from \"@/composables\";\n\nimport { injectField } from \"../field/fieldInjection\";\n\nimport type { SelectProps } from \"./props\";\n\n/**\n * Select an item in a list. Use with Field to access all functionalities.\n * @displayName Select\n * @style _select.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OSelect\",\n    configField: \"select\",\n    inheritAttrs: false,\n});\n\ntype ModelValue = SelectProps<T, IsMultiple>[\"modelValue\"];\n\nconst props = withDefaults(defineProps<SelectProps<T, IsMultiple>>(), {\n    override: undefined,\n    modelValue: undefined,\n    // multiple: false,\n    options: undefined,\n    size: () => getDefault(\"select.size\"),\n    variant: () => getDefault(\"select.variant\"),\n    placeholder: undefined,\n    disabled: false,\n    required: false,\n    expanded: false,\n    rounded: false,\n    nativeSize: undefined,\n    iconPack: () => getDefault(\"select.iconPack\"),\n    icon: () => getDefault(\"select.icon\"),\n    iconClickable: false,\n    iconRight: () => getDefault(\"select.iconRight\"),\n    iconRightClickable: false,\n    iconRightVariant: undefined,\n    id: () => useId(),\n    useHtml5Validation: () => getDefault(\"useHtml5Validation\", true),\n    customValidation: \"\",\n    autocomplete: () => getDefault(\"select.autocomplete\", \"off\"),\n    statusIcon: () => getDefault(\"statusIcon\", true),\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {T | T[]} updated modelValue prop\n     */\n    \"update:model-value\": [value: ModelValue];\n    /**\n     * on input focus event\n     * @param event {Event} native event\n     */\n    focus: [event: Event];\n    /**\n     * on input blur event\n     * @param event {Event} native event\n     */\n    blur: [event: Event];\n    /**\n     * on input invalid event\n     * @param event {Event} native event\n     */\n    invalid: [event: Event];\n    /**\n     * on icon click event\n     * @param event {Event} native event\n     */\n    \"icon-click\": [event: Event];\n    /**\n     * on icon right click event\n     * @param event {Event} native event\n     */\n    \"icon-right-click\": [event: Event];\n}>();\n\nconst selectRef = useTemplateRef(\"selectElement\");\n\n// use form input functionality\nconst { checkHtml5Validity, onBlur, onFocus, onInvalid, setFocus, isValid } =\n    useInputHandler(selectRef, emits, props);\n\n// inject parent field component if used inside one\nconst { parentField, statusVariant, statusVariantIcon } = injectField();\n\n// if `id` is given set as `for` property on o-field wrapper\nif (props.id) parentField?.value?.setInputId(props.id);\n\nconst vmodel = defineModel<ModelValue>({\n    get: (value) =>\n        typeof value !== \"undefined\"\n            ? value\n            : ((props.multiple ? [] : \"\") as ModelValue),\n    set: (value) =>\n        typeof value !== \"undefined\"\n            ? value\n            : ((props.multiple ? [] : undefined) as ModelValue),\n    default: undefined,\n});\n\n/**\n * When v-model is changed:\n *  1. Set parent field filled state.\n *  2. Check html5 valdiation\n */\nwatch(\n    vmodel,\n    (value) => {\n        if (parentField?.value) parentField.value.setFilled(!!value);\n        if (!isValid.value) checkHtml5Validity();\n    },\n    { immediate: true, flush: \"post\" },\n);\n\n// create a unique id sequence\nconst { nextSequence } = useSequentialId();\n\n/** normalized programamtic options */\nconst normalizedOptions = computed(() =>\n    normalizeOptions<T>(props.options, nextSequence),\n);\n\nconst placeholderVisible = computed(\n    () =>\n        !isTrueish(props.multiple) &&\n        (!isDefined(vmodel.value) || vmodel.value === \"\"),\n);\n\n// --- Icon Feature ---\n\nconst hasIconRight = computed(\n    () =>\n        (!!props.iconRight && !isTrueish(props.multiple)) ||\n        (props.statusIcon && !!statusVariantIcon.value),\n);\n\nconst rightIcon = computed(() =>\n    props.iconRight ? props.iconRight : statusVariantIcon.value,\n);\n\nconst rightIconVariant = computed(() =>\n    props.iconRight\n        ? props.iconRightVariant || props.variant\n        : statusVariant.value,\n);\n\nfunction iconClick(emit, event: Event): void {\n    emits(emit, event);\n    nextTick(() => setFocus());\n}\n\nfunction leftIconClick(event: Event): void {\n    if (props.iconClickable) iconClick(\"icon-click\", event);\n}\n\nfunction rightIconClick(event: Event): void {\n    if (props.iconRightClickable) iconClick(\"icon-right-click\", event);\n}\n\n// --- Computed Component Classes ---\n\nconst attrs = useAttrs();\n\nconst inputBind = computed(() => ({\n    ...parentField?.value?.inputAttrs,\n    ...attrs,\n}));\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-select\"],\n    [\n        \"sizeClass\",\n        \"o-select--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\n        \"variantClass\",\n        \"o-select--\",\n        computed(() => statusVariant.value || props.variant),\n        computed(() => !!statusVariant.value || !!props.variant),\n    ],\n    [\n        \"expandedClass\",\n        \"o-select--expanded\",\n        null,\n        computed(() => props.expanded),\n    ],\n    [\n        \"disabledClass\",\n        \"o-select--disabled\",\n        null,\n        computed(() => isTrueish(props.disabled)),\n    ],\n    [\n        \"roundedClass\",\n        \"o-select--rounded\",\n        null,\n        computed(() => isTrueish(props.rounded)),\n    ],\n    [\"hasIconRightClass\", \"o-select--icon-right\", null, hasIconRight],\n    [\n        \"multipleClass\",\n        \"o-select--multiple\",\n        null,\n        computed(() => isTrueish(props.multiple)),\n    ],\n);\n\nconst selectClasses = defineClasses(\n    [\"selectClass\", \"o-select__input\"],\n    [\n        \"iconLeftSpaceClass\",\n        \"o-select__input--iconspace-left\",\n        null,\n        computed(() => !!props.icon),\n    ],\n    [\n        \"iconRightSpaceClass\",\n        \"o-select__input--iconspace-right\",\n        null,\n        hasIconRight,\n    ],\n    [\n        \"placeholderClass\",\n        \"o-select__input--placeholder\",\n        null,\n        placeholderVisible,\n    ],\n    [\n        \"arrowedClass\",\n        \"o-select__input--arrowed\",\n        null,\n        computed(() => !hasIconRight.value && !isTrueish(props.multiple)),\n    ],\n);\n\nconst iconLeftClasses = defineClasses([\"iconLeftClass\", \"o-select__icon-left\"]);\n\nconst iconRightClasses = defineClasses([\n    \"iconRightClass\",\n    \"o-select__icon-right\",\n]);\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ focus: setFocus, value: vmodel });\n</script>\n\n<template>\n    <div data-oruga=\"select\" :class=\"rootClasses\">\n        <o-icon\n            v-if=\"icon\"\n            :class=\"iconLeftClasses\"\n            :clickable=\"iconClickable\"\n            :icon=\"icon\"\n            :pack=\"iconPack\"\n            :size=\"size\"\n            @click=\"leftIconClick($event)\" />\n\n        <select\n            v-bind=\"inputBind\"\n            :id=\"id\"\n            ref=\"selectElement\"\n            v-model=\"vmodel\"\n            data-oruga-input=\"select\"\n            :class=\"selectClasses\"\n            :autocomplete=\"autocomplete\"\n            :multiple=\"props.multiple\"\n            :size=\"nativeSize\"\n            :disabled=\"disabled\"\n            :required=\"required\"\n            @blur=\"onBlur\"\n            @focus=\"onFocus\"\n            @invalid=\"onInvalid\">\n            <template v-if=\"placeholder || $slots.placeholder\">\n                <option v-if=\"placeholderVisible\" value=\"\" disabled hidden>\n                    <!--\n                        @slot Override the placeholder\n                    -->\n                    <slot name=\"placeholder\">\n                        {{ placeholder }}\n                    </slot>\n                </option>\n            </template>\n\n            <!--\n                @slot Override the options, default is options prop\n            -->\n            <slot>\n                <template v-for=\"option in normalizedOptions\" :key=\"option.key\">\n                    <optgroup\n                        v-if=\"isGroupOption(option)\"\n                        v-show=\"!option.hidden\"\n                        v-bind=\"option.attrs\"\n                        :label=\"option.label\"\n                        :value=\"option.value\">\n                        <option\n                            v-for=\"_option in option.options\"\n                            v-show=\"!_option.hidden\"\n                            v-bind=\"_option.attrs\"\n                            :key=\"_option.key\"\n                            :value=\"_option.value\"\n                            :selected=\"option.value === vmodel\">\n                            {{ _option.label }}\n                        </option>\n                    </optgroup>\n\n                    <option\n                        v-else\n                        v-show=\"!option.hidden\"\n                        v-bind=\"option.attrs\"\n                        :value=\"option.value\"\n                        :selected=\"option.value === vmodel\">\n                        {{ option.label }}\n                    </option>\n                </template>\n            </slot>\n        </select>\n\n        <o-icon\n            v-if=\"hasIconRight\"\n            :class=\"iconRightClasses\"\n            :clickable=\"iconRightClickable\"\n            :icon=\"rightIcon\"\n            :pack=\"iconPack\"\n            :size=\"size\"\n            :variant=\"rightIconVariant\"\n            both\n            @click=\"rightIconClick\" />\n    </div>\n</template>\n","<script setup lang=\"ts\">\nimport {\n    computed,\n    useAttrs,\n    ref,\n    watch,\n    nextTick,\n    useTemplateRef,\n    type PropType,\n} from \"vue\";\n\nimport ODropdown from \"../dropdown/Dropdown.vue\";\nimport ODropdownItem from \"../dropdown/DropdownItem.vue\";\nimport OInput from \"../input/Input.vue\";\n\nimport { isDate, isDefined, isMobileAgent, isTrueish } from \"@/utils/helpers\";\nimport { isClient } from \"@/utils/ssr\";\nimport {\n    getActiveClasses,\n    useEventListener,\n    useInputHandler,\n} from \"@/composables\";\n\nimport { injectField } from \"../field/fieldInjection\";\n\nimport type { ClassBind, ComponentClass } from \"@/types\";\n\n/**\n * This is a internal used component.\n * Used by Datepicker and Timepicker.\n */\ndefineOptions({\n    name: \"OPickerWrapper\",\n});\n\nconst props = defineProps({\n    /** the internal input value */\n    value: {\n        type: [Date, Array] as PropType<Date | Date[] | undefined>,\n        default: undefined,\n    },\n    /** the active state of the dropdown */\n    active: { type: Boolean, default: false },\n    /** parent picker component props  */\n    pickerProps: { type: Object, required: true },\n    /** data-oruga attribute value */\n    dataOruga: { type: String, required: true },\n    /** format props value to input value */\n    formatter: {\n        type: Function as PropType<\n            (value: Date | Date[] | undefined, isNative: boolean) => string\n        >,\n        required: true,\n    },\n    /** parse input value to props value */\n    parser: {\n        type: Function as PropType<\n            (value: string, isNative: boolean) => Date | Date[] | undefined\n        >,\n        required: true,\n    },\n    type: { type: String, required: true },\n    step: { type: String, default: undefined },\n    min: { type: Date, default: undefined },\n    max: { type: Date, default: undefined },\n    stayOpen: { type: Boolean, default: false },\n    /** the DateTimeFormat object to watch for to update the parsed input value */\n    dtf: { type: Object, default: undefined },\n    rootClasses: { type: Array as PropType<ClassBind[]>, required: true },\n    dropdownClasses: { type: Array as PropType<ClassBind[]>, required: true },\n    boxClass: { type: Array as PropType<ComponentClass>, required: true },\n});\n\nconst emits = defineEmits<{\n    /**\n     * active prop two-way binding\n     * @param value {Date, Date[]} updated active prop\n     */\n    \"update:value\": [value: Date | Date[] | undefined];\n    /**\n     * active prop two-way binding\n     * @param value {boolean} updated active prop\n     */\n    \"update:active\": [value: boolean];\n    /** on input focus event */\n    focus: [event: Event];\n    /** on input blur event */\n    blur: [event: Event];\n    /** on input invalid event */\n    invalid: [event: Event];\n    /** on icon click event */\n    \"icon-click\": [event: Event];\n    /** on icon right click event */\n    \"icon-right-click\": [event: Event];\n    /** on dropdown left button press event */\n    left: [event: Event];\n    /** on dropdown right button press event */\n    right: [event: Event];\n}>();\n\nconst isMobileNative = computed(\n    () =>\n        !isTrueish(props.pickerProps.inline) &&\n        isTrueish(props.pickerProps.mobileNative) &&\n        isMobileAgent.any(),\n);\n\n// inject parent field component if used inside one\nconst { parentField } = injectField();\n\nconst dropdownRef = useTemplateRef(\"dropdownComponent\");\nconst inputRef = useTemplateRef(\"inputComponent\");\nconst nativeInputRef = useTemplateRef(\"nativeInputComponent\");\n\nconst elementRef = computed(() =>\n    isMobileNative.value ? nativeInputRef.value : inputRef.value,\n);\n\n// use form input functionality for native input\nconst {\n    input,\n    checkHtml5Validity,\n    setFocus,\n    onBlur,\n    onFocus,\n    onInvalid,\n    isValid,\n} = useInputHandler<HTMLInputElement>(elementRef, emits, props.pickerProps);\n\n/**\n * Show input as text for placeholder,\n * when placeholder and no native value is given.\n */\nconst initialNativeType =\n    !isDefined(props.pickerProps.placeholder) || isTrueish(props.value)\n        ? props.type\n        : \"text\";\n\n/** the v-model value of the input */\nconst inputValue = ref(\"\");\n\n/**\n * When v-model is changed:\n *  1. Update internal value.\n *  2. Close picker.\n *  3. If it's invalid, validate again.\n */\nwatch(\n    () => props.value,\n    (value) => {\n        // update internal value\n        inputValue.value = props.formatter(value, isMobileNative.value);\n\n        // toggle picker if not stay open\n        if (!isMobileNative.value && !props.stayOpen) togglePicker(false);\n        // validate if its invalid\n        if (!isValid.value) checkHtml5Validity();\n    },\n    { immediate: true },\n);\n\n// update the parsed input value when the dtf change\nwatch(\n    () => props.dtf,\n    () => setValue(inputValue.value),\n);\n\n/** Set the vmodel value and update the prop value */\nfunction setValue(value: string): void {\n    // parse to date\n    let date = props.parser(value, isMobileNative.value);\n\n    // check min/max dates\n    if (Array.isArray(date)) date = date.map(checkMinMaxDate);\n    else if (isDefined(date)) date = checkMinMaxDate(date);\n\n    nextTick(\n        () =>\n            // reparse to string for internal value\n            (inputValue.value = props.formatter(date, isMobileNative.value)),\n    );\n\n    // update the prop value\n    emits(\"update:value\", date);\n}\n\nfunction checkMinMaxDate(date: Date): Date {\n    if (!isDate(date)) return date;\n    if (props.min && date < props.min) date = props.min;\n    else if (props.max && date > props.max) date = props.max;\n    return date;\n}\n\nconst isActive = defineModel<boolean>(\"active\", { default: false });\n\nwatch(isActive, onActiveChange);\n\nconst triggers = computed(() =>\n    isTrueish(props.pickerProps.openOnFocus) ? [\"click\"] : [],\n);\n\nif (isClient) useEventListener(document, \"keyup\", onKeyPress);\n\n/** Keypress event that is bound to the document. */\nfunction onKeyPress(event: KeyboardEvent): void {\n    if (isActive.value && (event.key === \"Escape\" || event.key === \"Esc\"))\n        togglePicker(false);\n}\n\n// --- PICKER EVENT HANDLER ---\n\n/** Toggle picker */\nfunction togglePicker(active: boolean): void {\n    if (!dropdownRef.value) return;\n    if (active || isTrueish(props.pickerProps.closeOnClick))\n        nextTick(() => (isActive.value = active));\n}\n\n/** Avoid dropdown toggle when is already visible */\nfunction onInputClick(event): void {\n    if (isActive.value) event.stopPropagation();\n}\n\n/** Emit 'blur' event on dropdown is not active (closed) */\nfunction onActiveChange(value: boolean): void {\n    if (value) onFocus(new Event(\"focus\"));\n    else if (!value) onBlur(new Event(\"blur\"));\n}\n\n// --- NATIVE EVENT HANDLER ---\n\nfunction onChange(event: Event): void {\n    setValue((event.target as HTMLInputElement).value);\n}\n\nfunction onNativeClick(event: Event): void {\n    // do nothing if client is not mobile\n    if (!isMobileNative.value || !input.value) return;\n\n    // when input is not editable jet\n    if (input.value.type === \"text\") {\n        event.preventDefault();\n        event.stopPropagation();\n\n        // blur the current state to remove active native keyboards for type 'text'\n        input.value.blur();\n\n        setTimeout(() => {\n            if (!input.value) return;\n            // make the input editable\n            input.value.readOnly = false;\n            input.value.type = props.type;\n\n            // focus the underlaying input element again to open native keyboards for type 'date'\n            setFocus();\n        }, 50);\n    }\n}\n\nfunction onNativeFocus(event: Event): void {\n    // do nothing if client is not mobile\n    if (!isMobileNative.value || !input.value) return;\n\n    // when input is not editable jet\n    if (input.value.type === \"text\") {\n        // prevent focus\n        event.preventDefault();\n        event.stopPropagation();\n    }\n    // only emit focus event if editable\n    else onFocus(event);\n}\n\nfunction onNativeBlur(event: Event): void {\n    // do nothing if client is not mobile\n    if (!isMobileNative.value || !input.value) return;\n\n    // when the input does not have any value\n    if (!input.value.value) {\n        // make the input uneditable\n        input.value.readOnly = true;\n        input.value.type = \"text\";\n    }\n    // emit blur event\n    onBlur(event);\n}\n\nfunction onNativeChange(event: Event): void {\n    const value = (event.target as HTMLInputElement).value\n        ? (event.target as HTMLInputElement).value\n        : \"\";\n\n    // when the input does not have any value\n    if (!value && input.value) {\n        input.value.value = value;\n        input.value.blur();\n    }\n\n    setValue(value);\n}\n\n// --- Computed Component Classes ---\n\nconst attrs = useAttrs();\n\nconst inputBind = computed(() => ({\n    ...parentField?.value?.inputAttrs,\n    ...attrs,\n    inputClass: props.pickerProps.inputClass,\n    ...props.pickerProps.inputClasses,\n}));\n\nconst dropdownBind = computed(() => ({\n    \"root-class\": getActiveClasses(props.dropdownClasses),\n    \"teleport-class\": getActiveClasses(props.rootClasses),\n    ...props.pickerProps.dropdownClasses,\n}));\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ focus: setFocus });\n</script>\n\n<template>\n    <div :data-oruga=\"dataOruga\" :class=\"rootClasses\" @click=\"onNativeClick\">\n        <o-dropdown\n            v-if=\"!isMobileNative\"\n            ref=\"dropdownComponent\"\n            v-bind=\"dropdownBind\"\n            v-model:active=\"isActive\"\n            :triggers=\"triggers\"\n            :position=\"pickerProps.position\"\n            :disabled=\"pickerProps.disabled\"\n            :inline=\"pickerProps.inline\"\n            :mobile-modal=\"pickerProps.mobileModal\"\n            :desktop-modal=\"pickerProps.desktopModal\"\n            :mobile-breakpoint=\"pickerProps.mobileBreakpoint\"\n            :teleport=\"pickerProps.teleport\">\n            <template v-if=\"!pickerProps.inline\" #trigger>\n                <slot name=\"trigger\">\n                    <o-input\n                        ref=\"inputComponent\"\n                        v-bind=\"inputBind\"\n                        v-model=\"inputValue\"\n                        :placeholder=\"pickerProps.placeholder\"\n                        :size=\"pickerProps.size\"\n                        :icon-pack=\"pickerProps.iconPack\"\n                        :icon=\"pickerProps.icon\"\n                        :icon-right=\"pickerProps.iconRight\"\n                        :icon-right-clickable=\"pickerProps.iconRightClickable\"\n                        :expanded=\"pickerProps.expanded\"\n                        :rounded=\"pickerProps.rounded\"\n                        :disabled=\"pickerProps.disabled\"\n                        :readonly=\"pickerProps.readonly\"\n                        autocomplete=\"off\"\n                        :use-html5-validation=\"false\"\n                        @invalid=\"onInvalid\"\n                        @click=\"onInputClick\"\n                        @keyup.enter=\"togglePicker(true)\"\n                        @change=\"onChange\"\n                        @focus=\"onFocus\"\n                        @blur=\"onBlur\"\n                        @icon-click=\"$emit('icon-click', $event)\"\n                        @icon-right-click=\"$emit('icon-right-click', $event)\" />\n                </slot>\n            </template>\n\n            <o-dropdown-item\n                override\n                tag=\"div\"\n                :item-class=\"boxClass\"\n                :disabled=\"pickerProps.disabled\"\n                :clickable=\"false\"\n                @keydown.left=\"$emit('left', $event)\"\n                @keydown.right=\"$emit('right', $event)\">\n                <slot />\n            </o-dropdown-item>\n        </o-dropdown>\n\n        <!-- Native Picker -->\n        <template v-else>\n            <slot name=\"trigger\">\n                <o-input\n                    ref=\"nativeInputComponent\"\n                    v-bind=\"inputBind\"\n                    v-model=\"inputValue\"\n                    :type=\"initialNativeType\"\n                    :min=\"formatter(min, true)\"\n                    :max=\"formatter(max, true)\"\n                    :step=\"step\"\n                    :placeholder=\"pickerProps.placeholder\"\n                    :size=\"pickerProps.size\"\n                    :icon-pack=\"pickerProps.iconPack\"\n                    :icon=\"pickerProps.icon\"\n                    :icon-right=\"pickerProps.iconRight\"\n                    :icon-right-clickable=\"pickerProps.iconRightClickable\"\n                    :rounded=\"pickerProps.rounded\"\n                    :disabled=\"pickerProps.disabled\"\n                    :readonly=\"initialNativeType == 'text'\"\n                    autocomplete=\"off\"\n                    :use-html5-validation=\"false\"\n                    @change=\"onNativeChange\"\n                    @focus=\"onNativeFocus\"\n                    @blur=\"onNativeBlur\"\n                    @invalid=\"onInvalid\"\n                    @icon-click=\"$emit('icon-click', $event)\"\n                    @icon-right-click=\"$emit('icon-right-click', $event)\" />\n            </slot>\n        </template>\n    </div>\n</template>\n","type MonthType =\n    | \"numeric\"\n    | \"2-digit\"\n    | \"long\"\n    | \"short\"\n    | \"narrow\"\n    | undefined;\n\n/**\n * Return month names according to a specified locale\n * @param  {String} locale A bcp47 localerouter. undefined will use the user browser locale\n * @param  {String} format long (ex. March), short (ex. Mar) or narrow (M)\n * @return {Array<String>} An array of month names\n */\nexport function getMonthNames(\n    locale?: string,\n    format: MonthType = \"long\",\n): string[] {\n    const dates: Date[] = [];\n    for (let i = 0; i < 12; i++) {\n        dates.push(new Date(2000, i, 15));\n    }\n    const dtf = new Intl.DateTimeFormat(locale, {\n        month: format,\n    });\n    return dates.map((d) => dtf.format(d));\n}\n\ntype WeekdayType = \"long\" | \"short\" | \"narrow\" | undefined;\n\n/**\n * Return weekday names according to a specified locale\n * @param  {String} locale A bcp47 localerouter. undefined will use the user browser locale\n * @param  {Number} first day of week index\n * @param  {String} format long (ex. Thursday), short (ex. Thu) or narrow (T)\n * @return {Array<String>} An array of weekday names\n */\nexport function getWeekdayNames(\n    locale?: string,\n    firstDayOfWeek: number = 0,\n    format: WeekdayType = \"narrow\",\n): string[] {\n    const dates: Date[] = [];\n    for (let i = 1, j = 0; j < 7; i++) {\n        const d = new Date(2000, 0, i);\n        const day = d.getDay();\n        if (day === firstDayOfWeek || j > 0) {\n            dates.push(d);\n            j++;\n        }\n    }\n    const dtf = new Intl.DateTimeFormat(locale, {\n        weekday: format,\n    });\n    return dates.map((d) => dtf.format(d));\n}\n\n/**\n * Accept a regex with group names and return an object\n * ex. matchWithGroups(/((?!=<year>)\\d+)\\/((?!=<month>)\\d+)\\/((?!=<day>)\\d+)/, '2000/12/25')\n * will return { year: 2000, month: 12, day: 25 }\n * @param  {String} includes injections of (?!={groupname}) for each group\n * @param  {String} the string to run regex\n * @return {Object} an object with a property for each group having the group's match as the value\n */\nexport function matchWithGroups(pattern: string, str: string): any {\n    const matches = str.match(pattern);\n    return (\n        // get the pattern as a string\n        pattern\n            .toString()\n            // suss out the groups\n            .match(/<(.+?)>/g)\n            // remove the braces\n            ?.map((group) => {\n                const groupMatches = group.match(/<(.+)>/);\n                if (!groupMatches || groupMatches.length <= 0) {\n                    return null;\n                }\n                const match = group.match(/<(.+)>/);\n                return match && match?.length > 1 ? match[1] : null;\n            })\n            // create an object with a property for each group having the group's match as the value\n            .reduce((acc, curr, index) => {\n                if (curr === null) return acc;\n                if (matches && matches.length > index) {\n                    acc[curr] = matches[index + 1];\n                } else {\n                    acc[curr] = null;\n                }\n                return acc;\n            }, {} as any)\n    );\n}\n\n/** Return array of all days in the week that the startingDate is within */\nexport function weekBuilder(\n    startingDate: number,\n    month: number,\n    year: number,\n    firstDayOfWeek: number,\n): Date[] {\n    const thisMonth = new Date(year, month);\n\n    const thisWeek: Date[] = [];\n\n    const dayOfWeek = new Date(year, month, startingDate).getDay();\n\n    const end =\n        dayOfWeek >= firstDayOfWeek\n            ? dayOfWeek - firstDayOfWeek\n            : 7 - firstDayOfWeek + dayOfWeek;\n\n    let daysAgo = 1;\n    for (let i = 0; i < end; i++) {\n        thisWeek.unshift(\n            new Date(\n                thisMonth.getFullYear(),\n                thisMonth.getMonth(),\n                startingDate - daysAgo,\n            ),\n        );\n        daysAgo++;\n    }\n\n    thisWeek.push(new Date(year, month, startingDate));\n\n    let daysForward = 1;\n    while (thisWeek.length < 7) {\n        thisWeek.push(new Date(year, month, startingDate + daysForward));\n        daysForward++;\n    }\n\n    return thisWeek;\n}\n\nexport function firstWeekOffset(year, dow, doy): number {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    const fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    const firstJanuary = new Date(year, 0, fwd);\n    const fwdlw = (7 + firstJanuary.getDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n\n/** Return the number of days in a specific year */\nexport function daysInYear(year): number {\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0 ? 366 : 365;\n}\n\n/** Return the number of weeks in a specific year */\nexport function weeksInYear(year, dow, doy): number {\n    const weekOffset = firstWeekOffset(year, dow, doy);\n    const weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n}\n","import { computed } from \"vue\";\nimport { matchWithGroups } from \"./utils\";\nimport { isTrueish } from \"@/utils/helpers\";\nimport type { DatepickerProps } from \"./props\";\n\n/** Time Format Feature */\nexport function useDatepickerMixins<R extends boolean, M extends boolean>(\n    props: DatepickerProps<R, M>,\n) {\n    /**\n     * Check that selected date is within earliest/latest params and\n     * is within a given month\n     */\n    function isDateSelectable(date: Date, month: number): boolean {\n        const validity: boolean[] = [];\n\n        if (props.minDate) validity.push(date >= props.minDate);\n        if (props.maxDate) validity.push(date <= props.maxDate);\n\n        if (props.nearbyMonthDays && !props.nearbySelectableMonthDays)\n            validity.push(date.getMonth() === month);\n\n        if (props.selectableDates) {\n            if (typeof props.selectableDates === \"function\") {\n                if (props.selectableDates(date)) return true;\n                else validity.push(false);\n            } else {\n                for (let i = 0; i < props.selectableDates.length; i++) {\n                    const enabledDate = props.selectableDates[i];\n                    if (\n                        date.getDate() === enabledDate.getDate() &&\n                        date.getFullYear() === enabledDate.getFullYear() &&\n                        date.getMonth() === enabledDate.getMonth()\n                    )\n                        return true;\n                    else validity.push(false);\n                }\n            }\n        }\n\n        if (props.unselectableDates) {\n            if (typeof props.unselectableDates === \"function\") {\n                validity.push(!props.unselectableDates(date));\n            } else {\n                for (let i = 0; i < props.unselectableDates.length; i++) {\n                    const disabledDate = props.unselectableDates[i];\n                    validity.push(\n                        date.getDate() !== disabledDate.getDate() ||\n                            date.getFullYear() !== disabledDate.getFullYear() ||\n                            date.getMonth() !== disabledDate.getMonth(),\n                    );\n                }\n            }\n        }\n\n        if (props.unselectableDaysOfWeek) {\n            for (let i = 0; i < props.unselectableDaysOfWeek.length; i++) {\n                const dayOfWeek = props.unselectableDaysOfWeek[i];\n                validity.push(date.getDay() !== dayOfWeek);\n            }\n        }\n\n        return validity.indexOf(false) < 0;\n    }\n\n    const isTypeMonth = computed(() => props.type === \"month\");\n\n    const localeOptions = computed(\n        () =>\n            new Intl.DateTimeFormat(props.locale, {\n                year: \"numeric\",\n                month: \"numeric\",\n            }).resolvedOptions() as Intl.DateTimeFormatOptions,\n    );\n\n    /** DateTime Format */\n    const dtf = computed(\n        () => new Intl.DateTimeFormat(props.locale /*, { timeZone: 'UTC' }*/),\n    );\n\n    /** DateTime Month Format */\n    const dtfMonth = computed(\n        () =>\n            new Intl.DateTimeFormat(props.locale, {\n                year: localeOptions.value.year || \"numeric\",\n                month: localeOptions.value.month || \"2-digit\",\n                // timeZone: 'UTC'\n            }),\n    );\n\n    const sampleTime = computed(() => {\n        const d = dateCreator();\n        d.setHours(10);\n        d.setSeconds(0);\n        d.setMinutes(0);\n        d.setMilliseconds(0);\n        return d;\n    });\n\n    function dateCreator(): Date {\n        return typeof props.creator === \"function\"\n            ? props.creator()\n            : new Date();\n    }\n\n    /** Format date into string */\n    function dateFormatter(date: typeof props.modelValue): string {\n        if (typeof props.formatter === \"function\") return props.formatter(date);\n\n        if (!date) return \"\";\n        const targetDates: Date[] = Array.isArray(date) ? date : [date];\n        if (!targetDates.length) return \"\";\n        const dates = targetDates.map((date) => {\n            const d = new Date(\n                date.getFullYear(),\n                date.getMonth(),\n                date.getDate(),\n                12,\n            );\n            return !isTypeMonth.value\n                ? dtf.value.format(d)\n                : dtfMonth.value.format(d);\n        });\n\n        return !isTrueish(props.multiple) && !isTrueish(props.range)\n            ? dates.join(\" - \")\n            : dates.join(\", \");\n    }\n\n    /** Parse a string into a date */\n    function dateParser(date: string): typeof props.modelValue {\n        if (typeof props.parser === \"function\") return props.parser(date);\n\n        if (!date) return undefined;\n        const isArray = isTrueish(props.multiple) || isTrueish(props.range);\n        const targetDates = !isArray ? [date] : date.split(\", \");\n        const dates = targetDates.map((date) => {\n            if (\n                dtf.value.formatToParts &&\n                typeof dtf.value.formatToParts === \"function\"\n            ) {\n                const formatRegex = (\n                    isTypeMonth.value ? dtfMonth.value : dtf.value\n                )\n                    .formatToParts(sampleTime.value)\n                    .map((part) => {\n                        if (part.type === \"literal\") return part.value;\n                        return `((?!=<${part.type}>)\\\\d+)`;\n                    })\n                    .join(\"\");\n                const dateGroups = matchWithGroups(formatRegex, date);\n\n                // We do a simple validation for the group.\n                // If it is not valid, it will fallback to Date.parse below\n                if (\n                    dateGroups.year &&\n                    dateGroups.year.length === 4 &&\n                    dateGroups.month &&\n                    dateGroups.month <= 12\n                ) {\n                    if (isTypeMonth.value)\n                        return new Date(dateGroups.year, dateGroups.month - 1);\n                    else if (dateGroups.day && dateGroups.day <= 31) {\n                        return new Date(\n                            dateGroups.year,\n                            dateGroups.month - 1,\n                            dateGroups.day,\n                            12,\n                        );\n                    }\n                }\n            }\n            // Fallback if formatToParts is not supported or if we were not able to parse a valid date\n            if (!isTypeMonth.value) return new Date(Date.parse(date));\n            const s = date.split(\"/\");\n            const year = s[0].length === 4 ? s[0] : s[1];\n            const month = s[0].length === 2 ? s[0] : s[1];\n            if (year && month) {\n                return new Date(\n                    parseInt(year, 10),\n                    parseInt(month, 10) - 1,\n                    1,\n                    0,\n                    0,\n                    0,\n                    0,\n                );\n            }\n        });\n        return (isArray ? dates : dates[0]) as typeof props.modelValue;\n    }\n\n    return {\n        dtf,\n        isDateSelectable,\n        dateCreator,\n        dateParser,\n        dateFormatter,\n    };\n}\n","<script\n    setup\n    lang=\"ts\"\n    generic=\"IsRange extends boolean, IsMultiple extends boolean\">\nimport {\n    computed,\n    watch,\n    nextTick,\n    ref,\n    effectScope,\n    onUnmounted,\n    type PropType,\n    type ComponentPublicInstance,\n} from \"vue\";\n\nimport { defineClasses } from \"@/composables\";\nimport { isTrueish } from \"@/utils/helpers\";\n\nimport { useDatepickerMixins } from \"./useDatepickerMixins\";\nimport { weeksInYear, firstWeekOffset } from \"./utils\";\n\nimport type { DatepickerEvent } from \"./types\";\nimport type { DatepickerProps } from \"./props\";\nimport type { ClassBind } from \"@/types\";\n\ndefineOptions({\n    name: \"ODatepickerTableRow\",\n    configField: \"datepicker\",\n});\n\nconst props = defineProps({\n    day: { type: Number, required: true },\n    week: { type: Array as PropType<Date[]>, required: true },\n    month: { type: Number, required: true },\n    selectedDate: {\n        type: [Date, Array] as PropType<Date | Date[]>,\n        default: undefined,\n    },\n    events: { type: Array as PropType<DatepickerEvent[]>, default: undefined },\n    hoveredDateRange: { type: Array as PropType<Date[]>, required: true },\n    pickerProps: {\n        type: Object as PropType<DatepickerProps<IsRange, IsMultiple>>,\n        required: true,\n    },\n});\n\nconst emits = defineEmits<{\n    select: [value: Date];\n    \"hover-enddate\": [value: Date];\n    \"change-focus\": [value: Date];\n    \"week-number-click\": [value: number];\n}>();\n\nconst { isDateSelectable, dateCreator } = useDatepickerMixins(\n    props.pickerProps,\n);\n\nconst hasEvents = computed(() => !!props.events?.length);\n\nconst dayRefs = ref(new Map());\n\nfunction setDayRef(\n    date: Date,\n    el: Element | ComponentPublicInstance | null,\n): void {\n    const refKey = `day-${date.getMonth()}-${date.getDate()}`;\n    if (el) dayRefs.value.set(refKey, el);\n}\n\nwatch(\n    () => props.day,\n    (day) => {\n        // if day is in week\n        if (props.week.map((d) => d.getDate()).includes(day))\n            nextTick(() => {\n                // $nextTick is needed when month is changed\n                const refKey = `day-${props.month}-${day}`;\n                const ref = dayRefs.value.get(refKey);\n                if (ref) ref.focus();\n            });\n    },\n);\n\nwatch(\n    () => props.month,\n    // clear day refs on month change\n    () => (dayRefs.value = new Map()),\n);\n\nfunction clickWeekNumber(week: number): void {\n    if (props.pickerProps.weekNumberClickable) emits(\"week-number-click\", week);\n}\n\nfunction getDayOfYear(input): number {\n    return (\n        Math.round(\n            (input.getTime() - new Date(input.getFullYear(), 0, 1).getTime()) /\n                864e5,\n        ) + 1\n    );\n}\n\nfunction getWeekNumber(mom): number {\n    const dow = props.pickerProps.firstDayOfWeek; // first day of week\n    // Rules for the first week : 1 for the 1st January, 4 for the 4th January\n    const doy = props.pickerProps.rulesForFirstWeek;\n    const weekOffset = firstWeekOffset(mom.getFullYear(), dow, doy);\n    const week = Math.floor((getDayOfYear(mom) - weekOffset - 1) / 7) + 1;\n    let resWeek;\n    let resYear;\n    if (week < 1) {\n        resYear = mom.getFullYear() - 1;\n        resWeek = week + weeksInYear(resYear, dow, doy);\n    } else if (week > weeksInYear(mom.getFullYear(), dow, doy)) {\n        resWeek = week - weeksInYear(mom.getFullYear(), dow, doy);\n        resYear = mom.getFullYear() + 1;\n    } else {\n        resYear = mom.getFullYear();\n        resWeek = week;\n    }\n    return resWeek;\n}\n\nfunction eventsDateMatch(day: Date): DatepickerEvent[] {\n    if (!props.events?.length) return [];\n    return props.events.filter((event) => event.date.getDay() === day.getDay());\n}\n\n// --- Event Handlers ---\n\nfunction onKeydown(event: KeyboardEvent, weekDay: Date): void {\n    let preventDefault = true;\n    switch (event.key) {\n        case \"Tab\": {\n            preventDefault = false;\n            break;\n        }\n        case \" \":\n        case \"Space\":\n        case \"Spacebar\":\n        case \"Enter\": {\n            selectDate(weekDay);\n            break;\n        }\n\n        case \"ArrowLeft\":\n        case \"Left\": {\n            changeFocus(weekDay, -1);\n            break;\n        }\n        case \"ArrowRight\":\n        case \"Right\": {\n            changeFocus(weekDay, 1);\n            break;\n        }\n        case \"ArrowUp\":\n        case \"Up\": {\n            changeFocus(weekDay, -7);\n            break;\n        }\n        case \"ArrowDown\":\n        case \"Down\": {\n            changeFocus(weekDay, 7);\n            break;\n        }\n    }\n    if (preventDefault) event.preventDefault();\n}\n\n/** Emit select event with chosen date as payload */\nfunction selectDate(date: Date): void {\n    if (props.pickerProps.disabled || props.pickerProps.readonly) return;\n    if (isDateSelectable(date, props.month)) emits(\"select\", date);\n}\n\nfunction changeFocus(day, inc): void {\n    const nextDay = new Date(day.getTime());\n    nextDay.setDate(day.getDate() + inc);\n    // if next day is out of range or not selectable, move to next selectable date\n    while (\n        (props.pickerProps.minDate && nextDay < props.pickerProps.minDate) ||\n        (props.pickerProps.maxDate && nextDay > props.pickerProps.maxDate) ||\n        !isDateSelectable(nextDay, nextDay.getMonth())\n    ) {\n        // revert day selection until selectable day is reached\n        nextDay.setDate(nextDay.getDate() - Math.sign(inc));\n    }\n    setRangeHoverEndDate(nextDay);\n    emits(\"change-focus\", nextDay);\n}\n\nfunction setRangeHoverEndDate(day): void {\n    if (isTrueish(props.pickerProps.range)) emits(\"hover-enddate\", day);\n}\n\n// --- Computed Component Classes ---\n\nfunction dateMatch(\n    dateOne: Date,\n    dateTwo?: Date | Date[],\n    multiple = false,\n): boolean {\n    // if either date is null or undefined, return false\n    // if using multiple flag, return false\n    if (!dateOne || !dateTwo || multiple) return false;\n\n    if (Array.isArray(dateTwo))\n        return dateTwo.some(\n            (date) =>\n                dateOne.getDate() === date.getDate() &&\n                dateOne.getFullYear() === date.getFullYear() &&\n                dateOne.getMonth() === date.getMonth(),\n        );\n\n    return (\n        dateOne.getDate() === dateTwo.getDate() &&\n        dateOne.getFullYear() === dateTwo.getFullYear() &&\n        dateOne.getMonth() === dateTwo.getMonth()\n    );\n}\n\nfunction dateWithin(\n    dateOne: Date,\n    dates?: Date | Date[],\n    multiple = false,\n): boolean {\n    if (!Array.isArray(dates) || multiple) return false;\n    return dateOne > dates[0] && dateOne < dates[1];\n}\n\nconst scope = effectScope();\n\n// stop all scope effects\nonUnmounted(() => scope.stop());\n\n/** Build cellClasses for cell using validations */\nfunction cellClasses(day: Date): ClassBind[] {\n    const classes = defineClasses(\n        [\n            \"tableCellSelectedClass\",\n            \"o-datepicker__table__cell--selected\",\n            null,\n            dateMatch(day, props.selectedDate) ||\n                dateWithin(\n                    day,\n                    props.selectedDate,\n                    isTrueish(props.pickerProps.multiple),\n                ),\n        ],\n        [\n            \"tableCellFirstSelectedClass\",\n            \"o-datepicker__table__cell--first-selected\",\n            null,\n            dateMatch(\n                day,\n                Array.isArray(props.selectedDate)\n                    ? props.selectedDate[0]\n                    : undefined,\n                isTrueish(props.pickerProps.multiple),\n            ),\n        ],\n        [\n            \"tableCellWithinSelectedClass\",\n            \"o-datepicker__table__cell--within-selected\",\n            null,\n            dateWithin(\n                day,\n                props.selectedDate,\n                isTrueish(props.pickerProps.multiple),\n            ),\n        ],\n        [\n            \"tableCellLastSelectedClass\",\n            \"o-datepicker__table__cell--last-selected\",\n            null,\n            dateMatch(\n                day,\n                Array.isArray(props.selectedDate)\n                    ? props.selectedDate[1]\n                    : undefined,\n                isTrueish(props.pickerProps.multiple),\n            ),\n        ],\n        [\n            \"tableCellFirstHoveredClass\",\n            \"o-datepicker__table__cell--first-hovered\",\n            null,\n            dateMatch(\n                day,\n                Array.isArray(props.hoveredDateRange)\n                    ? props.hoveredDateRange[0]\n                    : undefined,\n            ),\n        ],\n        [\n            \"tableCellWithinHoveredClass\",\n            \"o-datepicker__table__cell--within-hovered\",\n            null,\n            dateWithin(day, props.hoveredDateRange),\n        ],\n        [\n            \"tableCellLastHoveredClass\",\n            \"o-datepicker__table__cell--last-hovered\",\n            null,\n            dateMatch(\n                day,\n                Array.isArray(props.hoveredDateRange)\n                    ? props.hoveredDateRange[1]\n                    : undefined,\n            ),\n        ],\n        [\n            \"tableCellTodayClass\",\n            \"o-datepicker__table__cell--today\",\n            null,\n            dateMatch(day, dateCreator()),\n        ],\n        [\n            \"tableCellSelectableClass\",\n            \"o-datepicker__table__cell--selectable\",\n            null,\n            isDateSelectable(day, props.month) &&\n                !props.pickerProps.disabled &&\n                !props.pickerProps.readonly,\n        ],\n        [\n            \"tableCellUnselectableClass\",\n            \"o-datepicker__table__cell--unselectable\",\n            null,\n            !isDateSelectable(day, props.month) || props.pickerProps.disabled,\n        ],\n        [\n            \"tableCellInvisibleClass\",\n            \"o-datepicker__table__cell--invisible\",\n            null,\n            !props.pickerProps.nearbyMonthDays &&\n                day.getMonth() !== props.month,\n        ],\n        [\n            \"tableCellNearbyClass\",\n            \"o-datepicker__table__cell--nearby\",\n            null,\n            props.pickerProps.nearbySelectableMonthDays &&\n                day.getMonth() !== props.month,\n        ],\n        // pass effect scope for rectivity binding\n        { scope },\n    );\n\n    return [\n        ...tableCellClasses.value,\n        ...cellEventsClass.value,\n        ...classes.value,\n    ];\n}\n\nfunction eventClasses(event: DatepickerEvent): ClassBind[] {\n    const classes = defineClasses(\n        [\"tableEventClass\", \"o-datepicker__table__event\"],\n        [\n            \"tableEventVariantClass\",\n            \"o-datepicker__table__event--\",\n            event.type,\n            !!event.type,\n        ],\n        [\n            \"tableEventIndicatorClass\",\n            \"o-datepicker__table__event--\",\n            props.pickerProps.indicators,\n            !!props.pickerProps.indicators,\n        ],\n        // pass effect scope for rectivity binding\n        { scope },\n    );\n    return classes.value;\n}\n\nconst tableRowClasses = defineClasses(\n    [\"tableRowClass\", \"o-datepicker__table__row\"],\n    // passing the picker props will add reactivity to property changes\n    { props: props.pickerProps },\n);\n\nconst tableCellClasses = defineClasses(\n    [\"tableCellClass\", \"o-datepicker__table__cell\"],\n    // passing the picker props will add reactivity to property changes\n    { props: props.pickerProps },\n);\n\nconst tableEventsClasses = defineClasses(\n    [\"tableEventsClass\", \"o-datepicker__table__events\"],\n    // passing the picker props will add reactivity to property changes\n    { props: props.pickerProps },\n);\n\nconst cellEventsClass = defineClasses(\n    [\n        \"tableCellEventsClass\",\n        \"o-datepicker__table__cell--events\",\n        null,\n        hasEvents,\n    ],\n    // passing the picker props will add reactivity to property changes\n    { props: props.pickerProps },\n);\n</script>\n\n<template>\n    <div :class=\"tableRowClasses\">\n        <div\n            v-if=\"pickerProps.showWeekNumber\"\n            :class=\"tableCellClasses\"\n            :style=\"{\n                cursor: pickerProps.weekNumberClickable ? 'pointer' : 'auto',\n            }\"\n            :tabindex=\"pickerProps.weekNumberClickable ? 0 : undefined\"\n            role=\"button\"\n            @click.prevent=\"clickWeekNumber(getWeekNumber(week[6]))\"\n            @keydown.enter.prevent=\"clickWeekNumber(getWeekNumber(week[6]))\">\n            <span>{{ getWeekNumber(week[6]) }}</span>\n        </div>\n\n        <template v-for=\"(weekDay, idx) in week\" :key=\"idx\">\n            <div\n                v-if=\"\n                    !pickerProps.disabled &&\n                    !pickerProps.readonly &&\n                    isDateSelectable(weekDay, month)\n                \"\n                :ref=\"(el) => setDayRef(weekDay, el)\"\n                :class=\"cellClasses(weekDay)\"\n                role=\"button\"\n                :tabindex=\"\n                    day === weekDay.getDate() && month === weekDay.getMonth()\n                        ? undefined\n                        : 0\n                \"\n                @click.prevent=\"selectDate(weekDay)\"\n                @mouseenter=\"setRangeHoverEndDate(weekDay)\"\n                @focus=\"setRangeHoverEndDate(weekDay)\"\n                @keydown.enter.prevent=\"onKeydown($event, weekDay)\">\n                <span>{{ weekDay.getDate() }}</span>\n                <div\n                    v-if=\"eventsDateMatch(weekDay).length\"\n                    :class=\"tableEventsClasses\">\n                    <div\n                        v-for=\"(event, index) in eventsDateMatch(weekDay)\"\n                        :key=\"index\"\n                        :class=\"eventClasses(event)\" />\n                </div>\n            </div>\n\n            <div v-else :class=\"cellClasses(weekDay)\">\n                <span>{{ weekDay.getDate() }}</span>\n            </div>\n        </template>\n    </div>\n</template>\n","<script\n    setup\n    lang=\"ts\"\n    generic=\"IsRange extends boolean, IsMultiple extends boolean\">\nimport { computed, ref, type PropType } from \"vue\";\n\nimport ODatepickerTableRow from \"./DatepickerTableRow.vue\";\n\nimport { isTrueish, isDefined } from \"@/utils/helpers\";\nimport { defineClasses } from \"@/composables\";\n\nimport { useDatepickerMixins } from \"./useDatepickerMixins\";\nimport { weekBuilder } from \"./utils\";\n\nimport type { DatepickerEvent, FocusedDate } from \"./types\";\nimport type { DatepickerProps } from \"./props\";\n\ndefineOptions({\n    name: \"ODatepickerTable\",\n    configField: \"datepicker\",\n});\n\nconst props = defineProps({\n    modelValue: {\n        type: [Date, Array] as PropType<Date | Date[]>,\n        default: undefined,\n    },\n    focusedDate: { type: Object as PropType<FocusedDate>, required: true },\n    dayNames: { type: Array as PropType<string[]>, required: true },\n    monthNames: { type: Array as PropType<string[]>, required: true },\n    pickerProps: {\n        type: Object as PropType<DatepickerProps<IsRange, IsMultiple>>,\n        required: true,\n    },\n});\n\nconst emits = defineEmits<{\n    /** modelValue prop two-way binding */\n    \"update:model-value\": [value: Date | Date[]];\n    /** focusedDate prop two-way binding */\n    \"update:focusedDate\": [value: FocusedDate];\n    \"range-start\": [value: Date];\n    \"range-end\": [value: Date];\n    \"week-number-click\": [value: number];\n}>();\n\nconst { isDateSelectable } = useDatepickerMixins(props.pickerProps);\n\nconst focusedDateModel = defineModel<FocusedDate>(\"focusedDate\", {\n    required: true,\n});\n\nconst selectedBeginDate = ref<Date>();\nconst selectedEndDate = ref<Date>();\nconst hoveredEndDate = ref<Date>();\n\nconst visibleDayNames = computed(() => {\n    const visibleDayNames: string[] = [];\n    let index = props.pickerProps.firstDayOfWeek || 0;\n    while (visibleDayNames.length < props.dayNames.length) {\n        const currentDayName = props.dayNames[index % props.dayNames.length];\n        visibleDayNames.push(currentDayName);\n        index++;\n    }\n    if (props.pickerProps.showWeekNumber) visibleDayNames.unshift(\"\");\n    return visibleDayNames;\n});\n\n/** Return array of all events in the specified month */\nconst eventsInThisMonth = computed(() => {\n    if (!props.pickerProps.events) return [];\n    return props.pickerProps.events\n        .map((event) =>\n            !event.date && event instanceof Date ? { date: event } : event,\n        )\n        .filter(\n            (event) =>\n                event.date.getMonth() === focusedDateModel.value.month &&\n                event.date.getFullYear() === focusedDateModel.value.year,\n        );\n});\n\n/** Return array of all weeks in the specified month */\nconst weeksInThisMonth = computed<Date[][]>(() => {\n    validateFocusedDay();\n    const month = focusedDateModel.value.month;\n    const year = focusedDateModel.value.year;\n    const weeksInThisMonth: Date[][] = [];\n\n    let startingDay = 1;\n\n    while (weeksInThisMonth.length < 6) {\n        const newWeek = weekBuilder(\n            startingDay,\n            month,\n            year,\n            props.pickerProps.firstDayOfWeek || 0,\n        );\n        weeksInThisMonth.push(newWeek);\n        startingDay += 7;\n    }\n\n    return weeksInThisMonth;\n});\n\nfunction eventsInThisWeek(week: Date[]): DatepickerEvent[] {\n    if (!props.pickerProps.events) return [];\n    return eventsInThisMonth.value.filter((event) => {\n        const stripped = new Date(event.date);\n        stripped.setHours(0, 0, 0, 0);\n        const timed = stripped.getTime();\n        return week.some((weekDate) => weekDate.getTime() === timed);\n    });\n}\n\nconst hoveredDateRange = computed<Date[]>(() => {\n    if (!isTrueish(props.pickerProps.range) || selectedEndDate.value) return [];\n\n    return (\n        (hoveredEndDate.value || 0) < (selectedBeginDate.value || 0)\n            ? [hoveredEndDate.value, selectedBeginDate.value]\n            : [selectedBeginDate.value, hoveredEndDate.value]\n    ).filter(isDefined);\n});\n\nfunction validateFocusedDay(): void {\n    const currentDate = new Date(\n        focusedDateModel.value.year,\n        focusedDateModel.value.month,\n        focusedDateModel.value.day,\n    );\n    if (isDateSelectable(currentDate, focusedDateModel.value.month)) return;\n\n    let day = 0;\n    // Number of days in the current month\n    const monthDays = new Date(\n        focusedDateModel.value.year,\n        focusedDateModel.value.month + 1,\n        0,\n    ).getDate();\n    let firstFocusable: Date | undefined;\n    while (!firstFocusable && ++day < monthDays) {\n        const date = new Date(\n            focusedDateModel.value.year,\n            focusedDateModel.value.month,\n            day,\n        );\n        if (isDateSelectable(date, focusedDateModel.value.month)) {\n            firstFocusable = currentDate;\n            focusedDateModel.value = {\n                day: date.getDate(),\n                month: date.getMonth(),\n                year: date.getFullYear(),\n            };\n        }\n    }\n}\n\n// --- Event Handlers ---\n\n/** Emit input event with selected date as payload for v-model in parent */\nfunction onSelectedDate(date: Date): void {\n    if (props.pickerProps.disabled) return;\n    else if (isTrueish(props.pickerProps.range)) handleSelectRangeDate(date);\n    else if (isTrueish(props.pickerProps.multiple))\n        handleSelectMultipleDates(date);\n    else emits(\"update:model-value\", date);\n}\n\n/*\n * If both begin and end dates are set, reset the end date and set the begin date.\n * If only begin date is selected, emit an array of the begin date and the new date.\n * If not set, only set the begin date.\n */\nfunction handleSelectRangeDate(date: Date): void {\n    if (selectedBeginDate.value && selectedEndDate.value) {\n        selectedBeginDate.value = date;\n        selectedEndDate.value = undefined;\n        emits(\"range-start\", date);\n    } else if (selectedBeginDate.value && !selectedEndDate.value) {\n        if (selectedBeginDate.value > date) {\n            selectedEndDate.value = selectedBeginDate.value;\n            selectedBeginDate.value = date;\n        } else {\n            selectedEndDate.value = date;\n        }\n        emits(\"range-end\", date);\n        emits(\"update:model-value\", [\n            selectedBeginDate.value,\n            selectedEndDate.value,\n        ]);\n    } else {\n        selectedBeginDate.value = date;\n        emits(\"range-start\", date);\n    }\n}\n\n/*\n * If selected date already exists list of selected dates, remove it from the list\n * Otherwise, add date to list of selected dates\n */\nfunction handleSelectMultipleDates(date: Date): void {\n    let multipleSelectedDates = Array.isArray(props.modelValue)\n        ? props.modelValue\n        : [];\n    const multipleSelect = multipleSelectedDates.filter(\n        (selectedDate) =>\n            selectedDate.getDate() === date.getDate() &&\n            selectedDate.getFullYear() === date.getFullYear() &&\n            selectedDate.getMonth() === date.getMonth(),\n    );\n    if (multipleSelect.length) {\n        multipleSelectedDates = multipleSelectedDates.filter(\n            (selectedDate) =>\n                selectedDate.getDate() !== date.getDate() ||\n                selectedDate.getFullYear() !== date.getFullYear() ||\n                selectedDate.getMonth() !== date.getMonth(),\n        );\n    } else {\n        multipleSelectedDates = [...multipleSelectedDates, date];\n    }\n    emits(\"update:model-value\", multipleSelectedDates);\n}\n\nfunction onRangeHoverEndDate(date: Date): void {\n    hoveredEndDate.value = date;\n}\n\nfunction onChangeFocus(date: Date): void {\n    focusedDateModel.value = {\n        day: date.getDate(),\n        month: date.getMonth(),\n        year: date.getFullYear(),\n    };\n}\n\n// --- Computed Component Classes ---\n\nconst tableClasses = defineClasses(\n    [\"tableClass\", \"o-datepicker__table\"],\n    // passing the picker props will add reactivity to property changes\n    { props: props.pickerProps },\n);\n\nconst tableHeadClasses = defineClasses(\n    [\"tableHeadClass\", \"o-datepicker__table__head\"],\n    // passing the picker props will add reactivity to property changes\n    { props: props.pickerProps },\n);\n\nconst tableCellClasses = defineClasses(\n    [\"tableCellClass\", \"o-datepicker__table__cell\"],\n    // passing the picker props will add reactivity to property changes\n    { props: props.pickerProps },\n);\n\nconst tableHeadCellClasses = defineClasses(\n    [\"tableHeadCellClass\", \"o-datepicker__table__head-cell\"],\n    // passing the picker props will add reactivity to property changes\n    { props: props.pickerProps },\n);\n\nconst tableBodyClasses = defineClasses(\n    [\"tableBodyClass\", \"o-datepicker__table__body\"],\n    // passing the picker props will add reactivity to property changes\n    { props: props.pickerProps },\n);\n</script>\n\n<template>\n    <section :class=\"tableClasses\">\n        <header :class=\"tableHeadClasses\">\n            <div\n                v-for=\"(day, index) in visibleDayNames\"\n                :key=\"index\"\n                :class=\"[...tableCellClasses, ...tableHeadCellClasses]\">\n                <span>{{ day }}</span>\n            </div>\n        </header>\n        <div :class=\"tableBodyClasses\">\n            <o-datepicker-table-row\n                v-for=\"(week, index) in weeksInThisMonth\"\n                :key=\"index\"\n                :selected-date=\"modelValue\"\n                :day=\"focusedDateModel.day\"\n                :week=\"week\"\n                :month=\"focusedDateModel.month\"\n                :events=\"eventsInThisWeek(week)\"\n                :hovered-date-range=\"hoveredDateRange\"\n                :picker-props=\"props.pickerProps\"\n                @select=\"onSelectedDate\"\n                @hover-enddate=\"onRangeHoverEndDate\"\n                @change-focus=\"onChangeFocus\"\n                @week-number-click=\"$emit('week-number-click', $event)\" />\n        </div>\n    </section>\n</template>\n","<script\n    setup\n    lang=\"ts\"\n    generic=\"IsRange extends boolean, IsMultiple extends boolean\">\nimport {\n    computed,\n    ref,\n    nextTick,\n    watch,\n    effectScope,\n    onUnmounted,\n    type PropType,\n    type ComponentPublicInstance,\n} from \"vue\";\n\nimport { isDefined, isTrueish } from \"@/utils/helpers\";\nimport { defineClasses } from \"@/composables\";\n\nimport { useDatepickerMixins } from \"./useDatepickerMixins\";\n\nimport type { DatepickerEvent, FocusedDate } from \"./types\";\nimport type { DatepickerProps } from \"./props\";\nimport type { ClassBind } from \"@/types\";\n\ndefineOptions({\n    name: \"ODatepickerMonth\",\n    configField: \"datepicker\",\n    inheritAttrs: false,\n});\n\nconst props = defineProps({\n    modelValue: {\n        type: [Date, Array] as PropType<Date | Date[]>,\n        default: undefined,\n    },\n    monthNames: { type: Array as PropType<string[]>, required: true },\n    focusedDate: { type: Object as PropType<FocusedDate>, required: true },\n    pickerProps: {\n        type: Object as PropType<DatepickerProps<IsRange, IsMultiple>>,\n        required: true,\n    },\n});\n\nconst emits = defineEmits<{\n    /** modelValue prop two-way binding */\n    \"update:model-value\": [value: Date | Date[]];\n    /** focusedDate prop two-way binding */\n    \"update:focusedDate\": [value: FocusedDate];\n    \"range-start\": [value: Date];\n    \"range-end\": [value: Date];\n}>();\n\nconst { dateCreator } = useDatepickerMixins(props.pickerProps);\n\nconst selectedBeginDate = ref<Date>();\nconst selectedEndDate = ref<Date>();\nconst hoveredEndDate = ref<Date>();\n\nconst hasEvents = computed(() => !!props.pickerProps.events?.length);\n\nconst monthRefs = ref(new Map());\n\nfunction setMonthRef(\n    date: Date,\n    el: Element | ComponentPublicInstance | null,\n): void {\n    const refKey = `month-${date.getMonth()}`;\n    if (el) monthRefs.value.set(refKey, el);\n}\n\nwatch(\n    () => props.focusedDate.month,\n    (month) => {\n        const refKey = `month-${month}`;\n        nextTick(() => {\n            // $nextTick is needed when month is changed\n            const ref = monthRefs.value.get(refKey);\n            if (ref?.length > 0 && ref[0]) {\n                ref[0].focus();\n            }\n        });\n    },\n);\n\n/** Return array of all events in the specified month */\nconst eventsInThisYear = computed(() => {\n    if (!props.pickerProps.events) return [];\n\n    return props.pickerProps.events\n        .map((event) => {\n            if (!event.date && event instanceof Date) event = { date: event };\n            if (!event.type) event.type = \"is-primary\";\n            return event;\n        })\n        .filter((event) => event.date.getFullYear() === props.focusedDate.year);\n});\n\nconst monthDates = computed(() => {\n    const year = props.focusedDate.year;\n    const months: Date[] = [];\n    for (let i = 0; i < 12; i++) {\n        const d = new Date(year, i, 1);\n        d.setHours(0, 0, 0, 0);\n        months.push(d);\n    }\n    return months;\n});\n\nconst hoveredDateRange = computed(() => {\n    if (!isTrueish(props.pickerProps.range) || !selectedEndDate.value)\n        return [];\n\n    return (\n        hoveredEndDate.value &&\n        selectedBeginDate.value &&\n        hoveredEndDate.value < selectedBeginDate.value\n            ? [hoveredEndDate.value, selectedBeginDate.value]\n            : [selectedBeginDate.value, hoveredEndDate.value]\n    ).filter(isDefined);\n});\n\nfunction eventsDateMatch(day): DatepickerEvent[] {\n    if (!eventsInThisYear.value.length) return [];\n    return eventsInThisYear.value.filter(\n        (event) => event.date.getMonth() === day.getMonth(),\n    );\n}\n\nfunction isDateSelectable(date: Date): boolean {\n    const validity: boolean[] = [];\n\n    if (props.pickerProps.minDate)\n        validity.push(date >= props.pickerProps.minDate);\n    if (props.pickerProps.maxDate)\n        validity.push(date <= props.pickerProps.maxDate);\n\n    validity.push(date.getFullYear() === props.focusedDate.year);\n\n    if (props.pickerProps.selectableDates) {\n        if (typeof props.pickerProps.selectableDates === \"function\") {\n            if (props.pickerProps.selectableDates(date)) return true;\n            else validity.push(false);\n        } else {\n            for (let i = 0; i < props.pickerProps.selectableDates.length; i++) {\n                const enabledDate = props.pickerProps.selectableDates[i];\n                if (\n                    date.getFullYear() === enabledDate.getFullYear() &&\n                    date.getMonth() === enabledDate.getMonth()\n                )\n                    return true;\n                else validity.push(false);\n            }\n        }\n    }\n\n    if (props.pickerProps.unselectableDates) {\n        if (typeof props.pickerProps.unselectableDates === \"function\") {\n            validity.push(!props.pickerProps.unselectableDates(date));\n        } else {\n            for (\n                let i = 0;\n                i < props.pickerProps.unselectableDates.length;\n                i++\n            ) {\n                const disabledDate = props.pickerProps.unselectableDates[i];\n                validity.push(\n                    date.getFullYear() !== disabledDate.getFullYear() ||\n                        date.getMonth() !== disabledDate.getMonth(),\n                );\n            }\n        }\n    }\n\n    if (props.pickerProps.unselectableDaysOfWeek) {\n        for (\n            let i = 0;\n            i < props.pickerProps.unselectableDaysOfWeek.length;\n            i++\n        ) {\n            const dayOfWeek = props.pickerProps.unselectableDaysOfWeek[i];\n            validity.push(date.getDay() !== dayOfWeek);\n        }\n    }\n\n    return validity.indexOf(false) < 0;\n}\n\n// --- Event Handlers ---\n\nfunction onKeydown(event: KeyboardEvent, weekDay: Date): void {\n    let preventDefault = true;\n    switch (event.key) {\n        case \"Tab\": {\n            preventDefault = false;\n            break;\n        }\n        case \" \":\n        case \"Space\":\n        case \"Spacebar\":\n        case \"Enter\": {\n            selectDate(weekDay);\n            break;\n        }\n\n        case \"ArrowLeft\":\n        case \"Left\": {\n            changeFocus(weekDay, -1);\n            break;\n        }\n        case \"ArrowRight\":\n        case \"Right\": {\n            changeFocus(weekDay, 1);\n            break;\n        }\n        case \"ArrowUp\":\n        case \"Up\": {\n            changeFocus(weekDay, -7);\n            break;\n        }\n        case \"ArrowDown\":\n        case \"Down\": {\n            changeFocus(weekDay, 7);\n            break;\n        }\n    }\n    if (preventDefault) event.preventDefault();\n}\n\n/*\n * Emit update:modelValue event with selected date as payload for v-model in parent\n */\nfunction selectDate(date: Date): void {\n    if (props.pickerProps.disabled || props.pickerProps.readonly) return;\n    if (!isDateSelectable(date)) return;\n\n    if (isTrueish(props.pickerProps.range)) handleSelectRangeDate(date);\n    else if (isTrueish(props.pickerProps.multiple))\n        handleSelectMultipleDates(date);\n    else emits(\"update:model-value\", date);\n}\n\n/*\n * If both begin and end dates are set, reset the end date and set the begin date.\n * If only begin date is selected, emit an array of the begin date and the new date.\n * If not set, only set the begin date.\n */\nfunction handleSelectRangeDate(date: Date): void {\n    if (selectedBeginDate.value && selectedEndDate.value) {\n        selectedBeginDate.value = date;\n        selectedEndDate.value = undefined;\n        emits(\"range-start\", date);\n    } else if (selectedBeginDate.value && !selectedEndDate.value) {\n        if (selectedBeginDate.value > date) {\n            selectedEndDate.value = selectedBeginDate.value;\n            selectedBeginDate.value = date;\n        } else {\n            selectedEndDate.value = date;\n        }\n        emits(\"range-end\", date);\n        emits(\"update:model-value\", [\n            selectedBeginDate.value,\n            selectedEndDate.value,\n        ]);\n    } else {\n        selectedBeginDate.value = date;\n        emits(\"range-start\", date);\n    }\n}\n\nconst multipleSelectedDates = computed(() =>\n    isTrueish(props.pickerProps.multiple) && props.modelValue\n        ? props.modelValue\n        : [],\n);\n\nfunction handleSelectMultipleDates(date: Date): void {\n    if (!Array.isArray(props.modelValue)) return;\n    let multipleSelectedDates = props.modelValue;\n\n    const multipleSelect = multipleSelectedDates.filter(\n        (selectedDate) =>\n            selectedDate.getDate() === date.getDate() &&\n            selectedDate.getFullYear() === date.getFullYear() &&\n            selectedDate.getMonth() === date.getMonth(),\n    );\n    if (multipleSelect.length) {\n        multipleSelectedDates = multipleSelectedDates.filter(\n            (selectedDate) =>\n                selectedDate.getDate() !== date.getDate() ||\n                selectedDate.getFullYear() !== date.getFullYear() ||\n                selectedDate.getMonth() !== date.getMonth(),\n        );\n    } else {\n        multipleSelectedDates.push(date);\n    }\n    emits(\"update:model-value\", multipleSelectedDates);\n}\n\nfunction changeFocus(month: Date, inc: number): void {\n    month.setMonth(month.getMonth() + inc);\n    const focused = {\n        day: month.getDate(),\n        month: month.getMonth(),\n        year: month.getFullYear(),\n    };\n    emits(\"update:focusedDate\", focused);\n}\n\nfunction onRangeHoverEndDate(day: Date): void {\n    if (isTrueish(props.pickerProps.range)) hoveredEndDate.value = day;\n}\n\n// --- Computed Component Classes ---\n\nfunction dateMatch(dateOne, dateTwo, multiple = false): boolean {\n    // if either date is null or undefined, return false\n    if (!dateOne || !dateTwo || multiple) return false;\n    if (Array.isArray(dateTwo))\n        return dateTwo.some(\n            (date) =>\n                dateOne.getFullYear() === date.getFullYear() &&\n                dateOne.getMonth() === date.getMonth(),\n        );\n    return (\n        dateOne.getFullYear() === dateTwo.getFullYear() &&\n        dateOne.getMonth() === dateTwo.getMonth()\n    );\n}\n\nfunction dateWithin(dateOne, dates, multiple = false): boolean {\n    if (!Array.isArray(dates) || multiple) return false;\n    return dateOne > dates[0] && dateOne < dates[1];\n}\n\nfunction dateMultipleSelected(dateOne, dates, multiple = false): boolean {\n    if (!Array.isArray(dates) || !multiple) return false;\n    return dates.some(\n        (date) =>\n            dateOne.getDate() === date.getDate() &&\n            dateOne.getFullYear() === date.getFullYear() &&\n            dateOne.getMonth() === date.getMonth(),\n    );\n}\n\nconst monthClasses = defineClasses(\n    [\"monthClass\", \"o-datepicker__month\"],\n    // passing the picker props will add reactivity to property changes\n    { props: props.pickerProps },\n);\n\nconst monthTableClasses = defineClasses(\n    [\"monthTableClass\", \"o-datepicker__month__table\"],\n    // passing the picker props will add reactivity to property changes\n    { props: props.pickerProps },\n);\n\nconst monthCellClasses = defineClasses(\n    [\"monthCellClass\", \"o-datepicker__month__cell\"],\n    [\n        \"monthCellEventsClass\",\n        \"o-datepicker__month__cell--events\",\n        null,\n        hasEvents,\n    ],\n    // passing the picker props will add reactivity to property changes\n    { props: props.pickerProps },\n);\n\n// Registers a dispose callback on the current active effect scope.\nconst scope = effectScope();\n\n// stop all scope effects\nonUnmounted(() => scope.stop());\n\n/**\n * Build classes for cell using validations\n */\nfunction cellClasses(day: Date): ClassBind[] {\n    const classes = defineClasses(\n        [\n            \"monthCellSelectedClass\",\n            \"o-datepicker__month__cell--selected\",\n            null,\n            dateMatch(\n                day,\n                props.modelValue,\n                isTrueish(props.pickerProps.multiple),\n            ) ||\n                dateWithin(\n                    day,\n                    props.modelValue,\n                    isTrueish(props.pickerProps.multiple),\n                ) ||\n                dateMultipleSelected(\n                    day,\n                    multipleSelectedDates.value,\n                    isTrueish(props.pickerProps.multiple),\n                ),\n        ],\n        [\n            \"monthCellFirstSelectedClass\",\n            \"o-datepicker__month__cell--first-selected\",\n            null,\n            dateMatch(\n                day,\n                Array.isArray(props.modelValue) && props.modelValue[0],\n                isTrueish(props.pickerProps.multiple),\n            ),\n        ],\n        [\n            \"monthCellWithinSelectedClass\",\n            \"o-datepicker__month__cell--within-selected\",\n            null,\n            dateWithin(\n                day,\n                props.modelValue,\n                isTrueish(props.pickerProps.multiple),\n            ),\n        ],\n        [\n            \"monthCellLastSelectedClass\",\n            \"o-datepicker__month__cell--last-selected\",\n            null,\n            dateMatch(\n                day,\n                Array.isArray(props.modelValue) && props.modelValue[1],\n                isTrueish(props.pickerProps.multiple),\n            ),\n        ],\n        [\n            \"monthCellWithinHoveredRangeClass\",\n            \"o-datepicker__month__cell--within-hovered-range\",\n            null,\n            hoveredDateRange.value &&\n                hoveredDateRange.value.length === 2 &&\n                (dateMatch(day, hoveredDateRange.value) ||\n                    dateWithin(day, hoveredDateRange.value)),\n        ],\n        [\n            \"monthCellFirstHoveredClass\",\n            \"o-datepicker__month__cell--first-hovered\",\n            null,\n            dateMatch(\n                day,\n                Array.isArray(hoveredDateRange.value) &&\n                    hoveredDateRange.value[0],\n            ),\n        ],\n        [\n            \"monthCellWithinHoveredClass\",\n            \"o-datepicker__month__cell--within-hovered\",\n            null,\n            dateWithin(day, hoveredDateRange.value),\n        ],\n        [\n            \"monthCellLastHoveredClass\",\n            \"o-datepicker__month__cell--last-hovered\",\n            null,\n            dateMatch(\n                day,\n                Array.isArray(hoveredDateRange.value) &&\n                    hoveredDateRange.value[1],\n            ),\n        ],\n        [\n            \"monthCellTodayClass\",\n            \"o-datepicker__month__cell--today\",\n            null,\n            dateMatch(day, dateCreator()),\n        ],\n        [\n            \"monthCellSelectableclass\",\n            \"o-datepicker__month__cell--selectable\",\n            null,\n            isDateSelectable(day) &&\n                !props.pickerProps.disabled &&\n                !props.pickerProps.readonly,\n        ],\n        [\n            \"monthCellUnselectableClass\",\n            \"o-datepicker__month__cell--unselectable\",\n            null,\n            !isDateSelectable(day) || props.pickerProps.disabled,\n        ],\n        // pass effect scope for rectivity binding\n        { scope },\n    );\n    return [...monthCellClasses.value, ...classes.value];\n}\n\nconst monthEventsClasses = defineClasses(\n    [\"monthEventsClass\", \"o-datepicker__month__events\"],\n    // passing the picker props will add reactivity to property changes\n    { props: props.pickerProps },\n);\n\n/**\n * Build classes for event\n */\nfunction eventClasses(event: DatepickerEvent): ClassBind[] {\n    const classes = defineClasses(\n        [\"monthEventClass\", \"o-datepicker__month__event\"],\n        [\n            \"monthEventTypeClass\",\n            \"o-datepicker__month__event--\",\n            event.type,\n            !!event.type,\n        ],\n        [\n            \"monthEventIndicatorClass\",\n            \"o-datepicker__month__event--\",\n            props.pickerProps.indicators,\n            !!props.pickerProps.indicators,\n        ],\n        // pass effect scope for rectivity binding\n        { scope },\n    );\n    return classes.value;\n}\n</script>\n\n<template>\n    <section :class=\"monthClasses\">\n        <div :class=\"monthTableClasses\">\n            <template v-for=\"(date, idx) in monthDates\" :key=\"idx\">\n                <div\n                    v-if=\"\n                        !pickerProps.disabled &&\n                        !pickerProps.readonly &&\n                        isDateSelectable(date)\n                    \"\n                    :ref=\"(el) => setMonthRef(date, el)\"\n                    :class=\"cellClasses(date)\"\n                    role=\"button\"\n                    :tabindex=\"\n                        focusedDate.month === date.getMonth() ? undefined : 0\n                    \"\n                    @click.prevent=\"selectDate(date)\"\n                    @mouseenter=\"onRangeHoverEndDate(date)\"\n                    @focus=\"onRangeHoverEndDate(date)\"\n                    @keydown.prevent=\"onKeydown($event, date)\">\n                    {{ monthNames[date.getMonth()] }}\n                    <div\n                        v-if=\"eventsDateMatch(date).length\"\n                        :class=\"monthEventsClasses\">\n                        <div\n                            v-for=\"(event, index) in eventsDateMatch(date)\"\n                            :key=\"index\"\n                            :class=\"eventClasses(event)\" />\n                    </div>\n                </div>\n\n                <div v-else :class=\"cellClasses(date)\">\n                    {{ monthNames[date.getMonth()] }}\n                    <div\n                        v-if=\"eventsDateMatch(date).length\"\n                        :class=\"monthEventsClasses\">\n                        <div\n                            v-for=\"(event, index) in eventsDateMatch(date)\"\n                            :key=\"index\"\n                            :class=\"eventClasses(event)\" />\n                    </div>\n                </div>\n            </template>\n        </div>\n    </section>\n</template>\n","<script\n    setup\n    lang=\"ts\"\n    generic=\"\n        IsRange extends boolean = false,\n        IsMultiple extends boolean = false\n    \">\nimport { computed, ref, watch, useTemplateRef } from \"vue\";\n\nimport OButton from \"../button/Button.vue\";\nimport OSelect from \"../select/Select.vue\";\nimport OPickerWrapper from \"../utils/PickerWrapper.vue\";\nimport ODatepickerTable from \"./DatepickerTable.vue\";\nimport ODatepickerMonth from \"./DatepickerMonth.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { isDate, pad } from \"@/utils/helpers\";\nimport { defineClasses, getActiveClasses, useMatchMedia } from \"@/composables\";\n\nimport { useDatepickerMixins } from \"./useDatepickerMixins\";\nimport { getMonthNames, getWeekdayNames } from \"./utils\";\n\nimport type { OptionsPropItem } from \"@/types\";\nimport type { FocusedDate } from \"./types\";\nimport type { DatepickerProps } from \"./props\";\n\n/**\n * An input with a simple dropdown/modal for selecting a date, uses native datepicker for mobile.\n * @displayName Datepicker\n * @style _datepicker.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"ODatepicker\",\n    configField: \"datepicker\",\n});\n\ntype ModelValue = DatepickerProps<IsRange, IsMultiple>[\"modelValue\"];\n\nconst props = withDefaults(\n    defineProps<DatepickerProps<IsRange, IsMultiple>>(),\n    {\n        override: undefined,\n        modelValue: undefined,\n        // range: false,\n        // multiple: false,\n        active: false,\n        type: \"date\",\n        dayNames: () => getDefault(\"datepicker.dayNames\"),\n        monthNames: () => getDefault(\"datepicker.monthNames\"),\n        size: () => getDefault(\"datepicker.size\"),\n        focusedDate: undefined,\n        events: undefined,\n        indicators: \"dots\",\n        minDate: undefined,\n        maxDate: undefined,\n        expanded: false,\n        rounded: false,\n        inline: false,\n        placeholder: undefined,\n        readonly: false,\n        disabled: false,\n        openOnFocus: () => getDefault(\"datepicker.openOnFocus\", true),\n        closeOnClick: () => getDefault(\"datepicker.closeOnClick\", true),\n        locale: () => getDefault(\"locale\"),\n        formatter: getDefault(\"datepicker.formatter\"),\n        parser: getDefault(\"datepicker.parser\"),\n        creator: getDefault(\"datepicker.creator\"),\n        selectableDates: undefined,\n        unselectableDates: undefined,\n        unselectableDaysOfWeek: () =>\n            getDefault(\"datepicker.unselectableDaysOfWeek\"),\n        nearbyMonthDays: () => getDefault(\"datepicker.nearbyMonthDays\", true),\n        nearbySelectableMonthDays: () =>\n            getDefault(\"datepicker.nearbySelectableMonthDays\", false),\n        showWeekNumber: () => getDefault(\"datepicker.showWeekNumber\", false),\n        weekNumberClickable: () =>\n            getDefault(\"datepicker.weekNumberClickable\", false),\n        firstDayOfWeek: () => getDefault(\"datepicker.firstDayOfWeek\", 0),\n        rulesForFirstWeek: 4,\n        yearsRange: () => getDefault(\"datepicker.yearsRange\", [-100, 10]),\n        position: undefined,\n        iconPack: () => getDefault(\"datepicker.iconPack\"),\n        icon: () => getDefault(\"datepicker.icon\"),\n        iconRight: () => getDefault(\"datepicker.iconRight\"),\n        iconRightClickable: false,\n        iconPrev: () => getDefault(\"datepicker.iconPrev\", \"chevron-left\"),\n        iconNext: () => getDefault(\"datepicker.iconNext\", \"chevron-right\"),\n        desktopModal: () => getDefault(\"datepicker.desktopModal\", false),\n        mobileModal: () => getDefault(\"datepicker.mobileModal\", true),\n        mobileNative: () => getDefault(\"datepicker.mobileNative\", false),\n        mobileBreakpoint: () => getDefault(\"datepicker.mobileBreakpoint\"),\n        teleport: () => getDefault(\"datepicker.teleport\", false),\n        useHtml5Validation: () => getDefault(\"useHtml5Validation\", true),\n        customValidity: \"\",\n        ariaNextLabel: () =>\n            getDefault(\"datepicker.ariaNextLabel\", \"Next Page\"),\n        ariaPreviousLabel: () =>\n            getDefault(\"datepicker.ariaNextLabel\", \"Previous Page\"),\n        ariaSelectMonthLabel: () =>\n            getDefault(\"datepicker.ariaSelectMonthLabel\", \"Select Month\"),\n        ariaSelectYearLabel: () =>\n            getDefault(\"datepicker.ariaSelectYearLabel\", \"Select Year\"),\n        inputClasses: () => getDefault(\"datepicker.inputClasses\"),\n        dropdownClasses: () => getDefault(\"datepicker.dropdownClasses\"),\n        selectClasses: () => getDefault(\"datepicker.selectClasses\"),\n    },\n);\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {Date | Date[]} updated modelValue prop\n     */\n    \"update:model-value\": [value: ModelValue];\n    /**\n     * active prop two-way binding\n     * @param value {boolean} updated active prop\n     */\n    \"update:active\": [value: boolean];\n    /**\n     * on range start is selected event\n     * @param value {Date} range start date\n     */\n    \"range-start\": [value: Date];\n    /**\n     * on range end is selected event\n     * @param value {Date} range end date\n     */\n    \"range-end\": [value: Date];\n    /**\n     * on month change event\n     * @param value {number} month number\n     */\n    \"change-month\": [value: number];\n    /**\n     * on year change event\n     * @param value {number} year number\n     */\n    \"change-year\": [value: number];\n    /**\n     * on input focus event\n     * @param event {Event} native event\n     */\n    focus: [event: Event];\n    /**\n     * on input blur event\n     * @param event {Event} native event\n     */\n    blur: [event: Event];\n    /**\n     * on input invalid event\n     * @param event {Event} native event\n     */\n    invalid: [event: Event];\n    /**\n     * on icon click event\n     * @param event {Event} native event\n     */\n    \"icon-click\": [event: Event];\n    /**\n     * on icon right click event\n     * @param event {Event} native event\n     */\n    \"icon-right-click\": [event: Event];\n}>();\n\nconst { dtf, dateCreator, dateFormatter, dateParser } =\n    useDatepickerMixins(props);\n\nconst { isMobile } = useMatchMedia(props.mobileBreakpoint);\n\nconst pickerRef = useTemplateRef(\"pickerComponent\");\n\n// the modelvalue of selected date, use v-model to make it two-way binding\nconst vmodel = defineModel<ModelValue>({ default: undefined });\n\n// the active state of the dropdown, use v-model:active to make it two-way binding\nconst isActive = defineModel<boolean>(\"active\", { default: false });\n\nconst isTypeMonth = computed(() => props.type === \"month\");\n\n/**\n * When v-model is changed:\n *   1. Update internal value.\n */\nwatch(\n    () => props.modelValue,\n    (value: ModelValue) => {\n        const isArray = Array.isArray(value);\n        const currentDate: Date = isArray\n            ? value.length\n                ? value[value.length - 1]\n                : dateCreator()\n            : value\n              ? value\n              : dateCreator();\n        if (\n            !isArray ||\n            (isArray &&\n                Array.isArray(vmodel.value) &&\n                value.length > vmodel.value.length)\n        )\n            // update internal state\n            focusedDateData.value = {\n                day: currentDate.getDate(),\n                month: currentDate.getMonth(),\n                year: currentDate.getFullYear(),\n            };\n    },\n);\n\nwatch(\n    () => props.focusedDate,\n    (value) => {\n        if (value) {\n            focusedDateData.value = {\n                day: value.getDate(),\n                month: value.getMonth(),\n                year: value.getFullYear(),\n            };\n        }\n    },\n);\n\nconst _initialDate: Date =\n    (Array.isArray(props.modelValue)\n        ? props.modelValue[0]\n        : props.modelValue) ||\n    props.focusedDate ||\n    dateCreator();\n\nif (\n    !props.modelValue &&\n    props.maxDate &&\n    props.maxDate.getFullYear() < _initialDate.getFullYear()\n) {\n    _initialDate.setFullYear(props.maxDate.getFullYear());\n}\n\nconst focusedDateData = ref<FocusedDate>({\n    day: _initialDate.getDate(),\n    month: _initialDate.getMonth(),\n    year: _initialDate.getFullYear(),\n});\n\n/*\n * Emit input event on month and/or year change\n */\nwatch(\n    () => focusedDateData.value.month,\n    (value) => emits(\"change-month\", value),\n);\nwatch(\n    () => focusedDateData.value.year,\n    (value) => emits(\"change-year\", value),\n);\n\nconst computedMonthNames = computed(() =>\n    Array.isArray(props.monthNames)\n        ? props.monthNames\n        : getMonthNames(props.locale),\n);\n\nconst listOfMonths = computed<OptionsPropItem<number>[]>(() => {\n    let minMonth = 0;\n    let maxMonth = 12;\n    if (\n        props.minDate &&\n        focusedDateData.value.year === props.minDate.getFullYear()\n    ) {\n        minMonth = props.minDate.getMonth();\n    }\n    if (\n        props.maxDate &&\n        focusedDateData.value.year === props.maxDate.getFullYear()\n    ) {\n        maxMonth = props.maxDate.getMonth();\n    }\n    return computedMonthNames.value.map((name, index) => ({\n        label: name,\n        value: index,\n        attrs: { disabled: index < minMonth || index > maxMonth },\n    }));\n});\n\nconst computedDayNames = computed(() =>\n    Array.isArray(props.dayNames)\n        ? props.dayNames\n        : getWeekdayNames(props.locale),\n);\n\n/*\n * Returns an array of years for the year dropdown. If earliest/latest\n * dates are set by props, range of years will fall within those dates.\n */\nconst listOfYears = computed<OptionsPropItem<number>[]>(() => {\n    let latestYear = _initialDate.getFullYear() + props.yearsRange[1];\n    if (props.maxDate && props.maxDate.getFullYear() < latestYear) {\n        latestYear = Math.max(\n            props.maxDate.getFullYear(),\n            focusedDateData.value.year,\n        );\n    }\n\n    let earliestYear = _initialDate.getFullYear() + props.yearsRange[0];\n    if (props.minDate && props.minDate.getFullYear() > earliestYear) {\n        earliestYear = Math.min(\n            props.minDate.getFullYear(),\n            focusedDateData.value.year,\n        );\n    }\n\n    return Array.from(\n        { length: latestYear - earliestYear + 1 || 1 },\n        (value, index) => earliestYear + index,\n    )\n        .reverse()\n        .map((year) => ({\n            label: String(year),\n            value: year,\n        }));\n});\n\nconst showPrev = computed<boolean>(() => {\n    if (!props.minDate) return true;\n    if (isTypeMonth.value)\n        return focusedDateData.value.year > props.minDate.getFullYear();\n\n    const dateToCheck = new Date(\n        focusedDateData.value.year,\n        focusedDateData.value.month,\n    );\n    const date = new Date(\n        props.minDate.getFullYear(),\n        props.minDate.getMonth(),\n    );\n    return dateToCheck > date;\n});\n\n/**\n * Either decrement month by 1 if not January or decrement year by 1\n * and set month to 11 (December) or decrement year when 'month'\n */\nfunction prev(): void {\n    if (props.disabled) return;\n\n    if (isTypeMonth.value) {\n        focusedDateData.value.year -= 1;\n    } else {\n        if (focusedDateData.value.month > 0) {\n            focusedDateData.value.month -= 1;\n        } else {\n            focusedDateData.value.month = 11;\n            focusedDateData.value.year -= 1;\n        }\n    }\n}\n\nconst showNext = computed<boolean>(() => {\n    if (!props.maxDate) return true;\n    if (isTypeMonth.value)\n        return focusedDateData.value.year < props.maxDate.getFullYear();\n\n    const dateToCheck = new Date(\n        focusedDateData.value.year,\n        focusedDateData.value.month,\n    );\n    const date = new Date(\n        props.maxDate.getFullYear(),\n        props.maxDate.getMonth(),\n    );\n    return dateToCheck < date;\n});\n\n/**\n * Either increment month by 1 if not December or increment year by 1\n * and set month to 0 (January) or increment year when 'month'\n */\nfunction next(): void {\n    if (props.disabled) return;\n    if (isTypeMonth.value) {\n        focusedDateData.value.year += 1;\n    } else {\n        if (focusedDateData.value.month < 11) {\n            focusedDateData.value.month += 1;\n        } else {\n            focusedDateData.value.month = 0;\n            focusedDateData.value.year += 1;\n        }\n    }\n}\n\n// --- Formatter / Parser ---\n\n/** Format date into string */\nfunction format(value: Date | Date[] | undefined, isNative: boolean): string {\n    if (isNative) return formatNative(value);\n\n    // define function prop\n    const date = (Array.isArray(value) ? [...value] : value) as ModelValue;\n\n    return dateFormatter(date);\n}\n\nfunction formatNative(value: Date | Date[] | undefined): string {\n    if (Array.isArray(value)) value = value[0];\n\n    // return empty string if no value is given or value can't parse to proper date\n    if (!value) return \"\";\n    const date = new Date(value);\n    if (!isDate(date)) return \"\";\n\n    if (isTypeMonth.value) {\n        // Format date into string 'YYYY-MM'\n        const year = date.getFullYear();\n        const month = date.getMonth() + 1;\n        return year + \"-\" + pad(month);\n    } else {\n        // Format date into string 'YYYY-MM-DD'\n        const year = date.getFullYear();\n        const month = date.getMonth() + 1;\n        const day = date.getDate();\n        return year + \"-\" + pad(month) + \"-\" + pad(day);\n    }\n}\n\n/** Parse string into date */\nfunction parse(value: string, isNative: boolean): Date | Date[] | undefined {\n    if (isNative) return parseNative(value);\n\n    const date = dateParser(value);\n\n    const isValid =\n        isDate(date) ||\n        (Array.isArray(date) &&\n            date.length === 2 &&\n            isDate(date[0]) &&\n            isDate(date[1]));\n\n    return isValid ? date : undefined;\n}\n\n/** Parse date from string */\nfunction parseNative(value: string): Date | undefined {\n    const s = value ? value.split(\"-\") : [];\n    if (s.length !== 3) return undefined;\n    const year = parseInt(s[0], 10);\n    const month = parseInt(s[1]) - 1;\n    const day = parseInt(s[2]);\n    return new Date(year, month, day);\n}\n\n// --- Event Handler ---\n\n/** move to the previous focused date */\nfunction prevDate(): void {\n    if (props.disabled) return;\n\n    if (isTypeMonth.value) {\n        focusedDateData.value.year -= 1;\n    } else {\n        const date = new Date(\n            focusedDateData.value.year,\n            focusedDateData.value.month,\n            focusedDateData.value.day,\n        );\n        date.setDate(date.getDate() - 1);\n        focusedDateData.value.day = date.getDate();\n        focusedDateData.value.month = date.getMonth();\n        focusedDateData.value.year = date.getFullYear();\n\n        // todo: show selected hovered date\n        // vmodel.value = date as ModelValue;\n    }\n}\n\n/** move to the next focused date */\nfunction nextDate(): void {\n    if (props.disabled) return;\n\n    if (isTypeMonth.value) {\n        focusedDateData.value.year += 1;\n    } else {\n        const date = new Date(\n            focusedDateData.value.year,\n            focusedDateData.value.month,\n            focusedDateData.value.day,\n        );\n        date.setDate(date.getDate() + 1);\n        focusedDateData.value.day = date.getDate();\n        focusedDateData.value.month = date.getMonth();\n        focusedDateData.value.year = date.getFullYear();\n\n        // todo: show selected hovered date\n        // vmodel.value = date as ModelValue;\n    }\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-datepicker\"],\n    [\n        \"sizeClass\",\n        \"o-datepicker--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\"mobileClass\", \"o-datepicker--mobile\", null, isMobile],\n    [\n        \"expandedClass\",\n        \"o-datepicker--expanded\",\n        null,\n        computed(() => props.expanded),\n    ],\n);\n\nconst boxClasses = defineClasses([\"boxClass\", \"o-datepicker__box\"]);\nconst boxClassBind = computed(() => getActiveClasses(boxClasses));\n\nconst headerClasses = defineClasses([\"headerClass\", \"o-datepicker__header\"]);\n\nconst prevButtonClasses = defineClasses([\n    \"prevButtonClass\",\n    \"o-datepicker__header__previous\",\n]);\n\nconst nextButtonClasses = defineClasses([\n    \"nextButtonClass\",\n    \"o-datepicker__header__next\",\n]);\n\nconst listsClasses = defineClasses([\n    \"listsClass\",\n    \"o-datepicker__header__list\",\n]);\n\nconst footerClasses = defineClasses([\"footerClass\", \"o-datepicker__footer\"]);\n\nconst pickerDropdownClasses = defineClasses([\n    \"dropdownClass\",\n    \"o-datepicker__dropdown\",\n]);\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ focus: () => pickerRef.value?.focus(), value: vmodel });\n</script>\n\n<template>\n    <OPickerWrapper\n        ref=\"pickerComponent\"\n        v-model:active=\"isActive\"\n        v-model:value=\"vmodel\"\n        data-oruga=\"datepicker\"\n        :picker-props=\"props\"\n        :formatter=\"format\"\n        :parser=\"parse\"\n        :type=\"!isTypeMonth ? 'date' : 'month'\"\n        :max=\"maxDate\"\n        :min=\"minDate\"\n        :stay-open=\"props.multiple\"\n        :root-classes=\"rootClasses\"\n        :dropdown-classes=\"pickerDropdownClasses\"\n        :box-class=\"boxClassBind\"\n        :dtf=\"dtf\"\n        @focus=\"$emit('focus', $event)\"\n        @blur=\"$emit('blur', $event)\"\n        @invalid=\"$emit('invalid', $event)\"\n        @left=\"prevDate\"\n        @right=\"nextDate\"\n        @icon-click=\"$emit('icon-click', $event)\"\n        @icon-right-click=\"$emit('icon-right-click', $event)\">\n        <template v-if=\"$slots.trigger\" #trigger>\n            <!--\n                @slot Override the trigger\n            -->\n            <slot name=\"trigger\" />\n        </template>\n\n        <header :class=\"headerClasses\">\n            <!--\n                @slot Override the header\n            -->\n            <slot name=\"header\">\n                <OButton\n                    v-if=\"!disabled\"\n                    :class=\"prevButtonClasses\"\n                    :disabled=\"!showPrev\"\n                    :icon-pack=\"iconPack\"\n                    :icon-left=\"iconPrev\"\n                    :size=\"size\"\n                    :aria-label=\"ariaPreviousLabel\"\n                    @click.prevent=\"prev\"\n                    @keydown.enter.prevent=\"prev\"\n                    @keydown.space.prevent=\"prev\" />\n\n                <OButton\n                    v-if=\"!disabled\"\n                    :class=\"nextButtonClasses\"\n                    :disabled=\"!showNext\"\n                    :icon-pack=\"iconPack\"\n                    :icon-left=\"iconNext\"\n                    :size=\"size\"\n                    :aria-label=\"ariaNextLabel\"\n                    @click.prevent=\"next\"\n                    @keydown.enter.prevent=\"next\"\n                    @keydown.space.prevent=\"next\" />\n\n                <div :class=\"listsClasses\">\n                    <o-select\n                        v-if=\"!isTypeMonth\"\n                        v-bind=\"selectClasses\"\n                        v-model=\"focusedDateData.month\"\n                        :disabled=\"disabled\"\n                        :size=\"size\"\n                        :options=\"listOfMonths\"\n                        :aria-label=\"ariaSelectMonthLabel\"\n                        :use-html5-validation=\"false\"\n                        @keydown.left.stop.prevent=\"prev\"\n                        @keydown.right.stop.prevent=\"next\" />\n\n                    <o-select\n                        v-bind=\"selectClasses\"\n                        v-model=\"focusedDateData.year\"\n                        :disabled=\"disabled\"\n                        :size=\"size\"\n                        :options=\"listOfYears\"\n                        :aria-label=\"ariaSelectYearLabel\"\n                        :use-html5-validation=\"false\"\n                        @keydown.left.stop.prevent=\"prev\"\n                        @keydown.right.stop.prevent=\"next\"\n                        @keydown.up.stop.prevent=\"focusedDateData.year += 1\"\n                        @keydown.down.stop.prevent=\"\n                            focusedDateData.year -= 1\n                        \" />\n                </div>\n            </slot>\n        </header>\n\n        <!--\n            @slot Override the body\n        -->\n        <slot name=\"body\">\n            <o-datepicker-month\n                v-if=\"isTypeMonth\"\n                v-model=\"vmodel\"\n                v-model:focused-date=\"focusedDateData\"\n                :month-names=\"computedMonthNames\"\n                :picker-props=\"props\"\n                @range-start=\"(date) => $emit('range-start', date)\"\n                @range-end=\"(date) => $emit('range-end', date)\" />\n\n            <o-datepicker-table\n                v-else\n                v-model=\"vmodel\"\n                v-model:focused-date=\"focusedDateData\"\n                :day-names=\"computedDayNames\"\n                :month-names=\"computedMonthNames\"\n                :picker-props=\"props\"\n                @range-start=\"(date) => $emit('range-start', date)\"\n                @range-end=\"(date) => $emit('range-end', date)\" />\n        </slot>\n\n        <footer v-if=\"$slots.footer\" :class=\"footerClasses\">\n            <!--\n                @slot Define an additional footer\n            -->\n            <slot name=\"footer\" />\n        </footer>\n    </OPickerWrapper>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Datepicker from \"./Datepicker.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export datepicker specific types */\nexport type { DatepickerEvent, FocusedDate } from \"./types\";\n\n/** export datepicker plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Datepicker);\n    },\n} as Plugin;\n\n/** export datepicker components */\nexport { Datepicker as ODatepicker };\n","import { computed } from \"vue\";\nimport { matchWithGroups } from \"../datepicker/utils\";\nimport type { TimepickerProps } from \"./props\";\n\nconst AM = \"AM\" as const;\nconst PM = \"PM\" as const;\nconst HOUR_FORMAT_24 = \"24\" as const;\nconst HOUR_FORMAT_12 = \"12\" as const;\n\n/** Time Format Feature */\nexport function useTimepickerMixins(props: TimepickerProps) {\n    const localeOptions = computed(\n        () =>\n            new Intl.DateTimeFormat(props.locale, {\n                hour: \"numeric\",\n                minute: \"numeric\",\n                second: props.enableSeconds ? \"numeric\" : undefined,\n            }).resolvedOptions() as Intl.DateTimeFormatOptions,\n    );\n\n    const isHourFormat24 = computed(\n        () =>\n            (props.hourFormat && props.hourFormat === HOUR_FORMAT_24) ||\n            (!props.hourFormat && !localeOptions.value.hour12),\n    );\n\n    const dtf = computed(\n        () =>\n            new Intl.DateTimeFormat(props.locale, {\n                hour: localeOptions.value.hour || \"numeric\",\n                minute: localeOptions.value.minute || \"numeric\",\n                second: props.enableSeconds\n                    ? localeOptions.value.second || \"numeric\"\n                    : undefined,\n                hourCycle: !isHourFormat24.value ? \"h12\" : \"h23\",\n            }),\n    );\n\n    const sampleTime = computed(() => {\n        const d = timeCreator();\n        d.setHours(10);\n        d.setSeconds(0);\n        d.setMinutes(0);\n        d.setMilliseconds(0);\n        return d;\n    });\n\n    const amString = computed(() => {\n        if (\n            dtf.value.formatToParts &&\n            typeof dtf.value.formatToParts === \"function\"\n        ) {\n            const d = new Date(sampleTime.value);\n            d.setHours(10);\n            const dayPeriod = dtf.value\n                .formatToParts(d)\n                .find((part) => part.type === \"dayPeriod\");\n            if (dayPeriod) return dayPeriod.value;\n        }\n        return AM;\n    });\n\n    const pmString = computed(() => {\n        if (\n            dtf.value.formatToParts &&\n            typeof dtf.value.formatToParts === \"function\"\n        ) {\n            const d = new Date(sampleTime.value);\n            d.setHours(20);\n            const dayPeriod = dtf.value\n                .formatToParts(d)\n                .find((part) => part.type === \"dayPeriod\");\n            if (dayPeriod) {\n                return dayPeriod.value;\n            }\n        }\n        return PM;\n    });\n\n    const meridiens = computed(() => [amString.value, pmString.value]);\n\n    const hourLiteral = computed(() => {\n        if (\n            dtf.value.formatToParts &&\n            typeof dtf.value.formatToParts === \"function\"\n        ) {\n            const d = new Date(sampleTime.value);\n            const parts = dtf.value.formatToParts(d);\n            const literal = parts.find(\n                (part, idx) => idx > 0 && parts[idx - 1].type === \"hour\",\n            );\n            if (literal) return literal.value;\n        }\n        return \":\";\n    });\n\n    const minuteLiteral = computed(() => {\n        if (\n            dtf.value.formatToParts &&\n            typeof dtf.value.formatToParts === \"function\"\n        ) {\n            const d = new Date(sampleTime.value);\n            const parts = dtf.value.formatToParts(d);\n            const literal = parts.find(\n                (part, idx) => idx > 0 && parts[idx - 1].type === \"minute\",\n            );\n            if (literal) return literal.value;\n        }\n        return \":\";\n    });\n\n    const secondLiteral = computed(() => {\n        if (\n            dtf.value.formatToParts &&\n            typeof dtf.value.formatToParts === \"function\"\n        ) {\n            const d = new Date(sampleTime.value);\n            const parts = dtf.value.formatToParts(d);\n            const literal = parts.find(\n                (part, idx) => idx > 0 && parts[idx - 1].type === \"second\",\n            );\n            if (literal) return literal.value;\n        }\n        return undefined;\n    });\n\n    function timeCreator(): Date {\n        return typeof props.creator === \"function\"\n            ? props.creator()\n            : new Date();\n    }\n\n    function timeFormatter(time: typeof props.modelValue): string {\n        if (typeof props.formatter === \"function\") return props.formatter(time);\n\n        if (!time) return \"00:00\";\n        return dtf.value.format(time);\n    }\n\n    function timeParser(time: string): typeof props.modelValue {\n        if (typeof props.parser === \"function\") return props.parser(time);\n\n        if (!time) return undefined;\n\n        if (\n            dtf.value.formatToParts &&\n            typeof dtf.value.formatToParts === \"function\"\n        ) {\n            const formatRegex = dtf.value\n                .formatToParts(sampleTime.value)\n                .map((part) => {\n                    if (part.type === \"literal\") {\n                        return part.value.replace(/ /g, \"\\\\s?\");\n                    } else if (part.type === \"dayPeriod\") {\n                        return `((?!=<${part.type}>)(${amString.value}|${\n                            pmString.value\n                        }|${AM}|${PM}|${AM.toLowerCase()}|${PM.toLowerCase()})?)`;\n                    }\n                    return `((?!=<${part.type}>)\\\\d+)`;\n                })\n                .join(\"\");\n            const timeGroups = matchWithGroups(formatRegex, time);\n\n            // We do a simple validation for the group.\n            // If it is not valid, it will fallback to Date.parse below\n            timeGroups.hour = timeGroups.hour\n                ? parseInt(timeGroups.hour, 10)\n                : null;\n            timeGroups.minute = timeGroups.minute\n                ? parseInt(timeGroups.minute, 10)\n                : null;\n            timeGroups.second = timeGroups.second\n                ? parseInt(timeGroups.second, 10)\n                : null;\n            if (\n                timeGroups.hour &&\n                timeGroups.hour >= 0 &&\n                timeGroups.hour < 24 &&\n                timeGroups.minute &&\n                timeGroups.minute >= 0 &&\n                timeGroups.minute < 59\n            ) {\n                if (\n                    timeGroups.dayPeriod &&\n                    (timeGroups.dayPeriod.toLowerCase() ===\n                        pmString.value.toLowerCase() ||\n                        timeGroups.dayPeriod.toLowerCase() ===\n                            PM.toLowerCase()) &&\n                    timeGroups.hour < 12\n                ) {\n                    timeGroups.hour += 12;\n                }\n                const date = new Date(sampleTime.value);\n                date.setHours(timeGroups.hour);\n                date.setMinutes(timeGroups.minute);\n                date.setSeconds(timeGroups.second || 0);\n                return date;\n            }\n        }\n\n        // Fallback if formatToParts is not supported or if we were not able to parse a valid date\n        let am = false;\n        if (props.hourFormat === HOUR_FORMAT_12) {\n            const dateString12 = time.split(\" \");\n            time = dateString12[0];\n            am = dateString12[1] === amString.value || dateString12[1] === AM;\n        }\n        const timeSplit = time.split(\":\");\n        let hours = parseInt(timeSplit[0], 10);\n        const minutes = parseInt(timeSplit[1], 10);\n        const seconds =\n            props.enableSeconds && timeSplit.length >= 3\n                ? parseInt(timeSplit[2], 10)\n                : 0;\n        if (\n            isNaN(hours) ||\n            hours < 0 ||\n            hours > 23 ||\n            (props.hourFormat === HOUR_FORMAT_12 &&\n                (hours < 1 || hours > 12)) ||\n            isNaN(minutes) ||\n            minutes < 0 ||\n            minutes > 59\n        ) {\n            return undefined;\n        }\n        const date = new Date(sampleTime.value);\n        date.setSeconds(seconds);\n        date.setMinutes(minutes);\n        if (props.hourFormat === HOUR_FORMAT_12) {\n            if (am && hours === 12) {\n                hours = 0;\n            } else if (!am && hours !== 12) {\n                hours += 12;\n            }\n        }\n        date.setHours(hours);\n        return new Date(date.getTime());\n    }\n\n    return {\n        dtf,\n        timeCreator,\n        timeFormatter,\n        timeParser,\n        pmString,\n        amString,\n        meridiens,\n        isHourFormat24,\n        hourLiteral,\n        minuteLiteral,\n        secondLiteral,\n    };\n}\n","<script setup lang=\"ts\">\nimport { computed, ref, useTemplateRef, watch } from \"vue\";\n\nimport OSelect from \"../select/Select.vue\";\nimport OPickerWrapper from \"../utils/PickerWrapper.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { isDate, isDefined, pad } from \"@/utils/helpers\";\nimport { defineClasses, useMatchMedia, getActiveClasses } from \"@/composables\";\n\nimport { useTimepickerMixins } from \"./useTimepickerMixins\";\n\nimport type { OptionsItem } from \"@/types\";\nimport type { TimepickerProps } from \"./props\";\n\n/**\n * An input with a simple dropdown/modal for selecting a time, uses native timepicker for mobile.\n * @displayName Timepicker\n * @style _timepicker.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OTimepicker\",\n    configField: \"timepicker\",\n});\n\ntype ModelValue = TimepickerProps[\"modelValue\"];\n\nconst props = withDefaults(defineProps<TimepickerProps>(), {\n    override: undefined,\n    modelValue: undefined,\n    active: false,\n    minTime: undefined,\n    maxTime: undefined,\n    inline: false,\n    placeholder: undefined,\n    expanded: false,\n    rounded: false,\n    readonly: false,\n    disabled: false,\n    size: () => getDefault(\"timepicker.size\"),\n    hourFormat: undefined,\n    incrementHours: 1,\n    incrementMinutes: 1,\n    incrementSeconds: 1,\n    openOnFocus: () => getDefault(\"timepicker.openOnFocus\", true),\n    closeOnClick: () => getDefault(\"timepicker.closeOnClick\", true),\n    enableSeconds: false,\n    defaultMinutes: undefined,\n    defaultSeconds: undefined,\n    locale: () => getDefault(\"locale\"),\n    formatter: getDefault(\"timepicker.formatter\"),\n    parser: getDefault(\"timepicker.parser\"),\n    creator: getDefault(\"timepicker.creator\"),\n    unselectableTimes: undefined,\n    resetOnMeridianChange: false,\n    position: undefined,\n    iconPack: () => getDefault(\"timepicker.iconPack\"),\n    icon: () => getDefault(\"timepicker.icon\"),\n    iconRight: () => getDefault(\"timepicker.iconRight\"),\n    iconRightClickable: false,\n    desktopModal: () => getDefault(\"timepicker.desktopModal\", false),\n    mobileModal: () => getDefault(\"timepicker.mobileModal\", true),\n    mobileNative: () => getDefault(\"timepicker.mobileNative\", true),\n    mobileBreakpoint: () => getDefault(\"timepicker.mobileBreakpoint\"),\n    teleport: () => getDefault(\"timepicker.teleport\", false),\n    useHtml5Validation: () => getDefault(\"useHtml5Validation\", true),\n    customValidity: \"\",\n    inputClasses: () => getDefault(\"timepicker.inputClasses\"),\n    dropdownClasses: () => getDefault(\"timepicker.dropdownClasses\"),\n    ariaSelectSecondsLabel: () =>\n        getDefault(\"timepicker.ariaSelectSecondLabel\", \"Select Second\"),\n    ariaSelectMinutesLabel: () =>\n        getDefault(\"timepicker.ariaSelectMinuteLabel\", \"Select Minute\"),\n    ariaSelectHoursLabel: () =>\n        getDefault(\"timepicker.ariaSelectHourLabel\", \"Select Hour\"),\n    selectClasses: () => getDefault(\"timepicker.selectClasses\"),\n});\n\ndefineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {Date} updated modelValue prop\n     */\n    \"update:model-value\": [value: Date];\n    /**\n     * active prop two-way binding\n     * @param value {boolean} updated active prop\n     */\n    \"update:active\": [value: boolean];\n    /**\n     * on input focus event\n     * @param event {Event} native event\n     */\n    focus: [event: Event];\n    /**\n     * on input blur event\n     * @param event {Event} native event\n     */\n    blur: [event: Event];\n    /**\n     * on input invalid event\n     * @param event {Event} native event\n     */\n    invalid: [event: Event];\n    /**\n     * on icon click event\n     * @param event {Event} native event\n     */\n    \"icon-click\": [event: Event];\n    /**\n     * on icon right click event\n     * @param event {Event} native event\n     */\n    \"icon-right-click\": [event: Event];\n}>();\n\nconst { isMobile } = useMatchMedia(props.mobileBreakpoint);\n\nconst {\n    dtf,\n    timeCreator,\n    timeFormatter,\n    timeParser,\n    pmString,\n    amString,\n    meridiens,\n    isHourFormat24,\n    hourLiteral,\n    minuteLiteral,\n    secondLiteral,\n} = useTimepickerMixins(props);\n\nconst pickerRef = useTemplateRef(\"pickerComponent\");\n\n// the modelvalue of selected date, use v-model to make it two-way binding\nconst vmodel = defineModel<ModelValue>({ default: undefined });\n\n// the active state of the dropdown, use v-model:active to make it two-way binding\nconst isActive = defineModel<boolean>(\"active\", { default: false });\n\nconst hoursSelected = ref<number>();\nconst minutesSelected = ref<number>();\nconst secondsSelected = ref<number>();\nconst meridienSelected = ref<string>();\n\nwatch(\n    () => props.modelValue,\n    (value) => updateValue(value),\n    { immediate: true },\n);\n\n/** Update internal value. */\nfunction updateValue(value: Date | Date[] | undefined): void {\n    if (Array.isArray(value)) return updateValue(value[0]);\n    if (vmodel.value !== value) vmodel.value = value;\n    if (value) {\n        // update internal state\n        hoursSelected.value = value.getHours();\n        minutesSelected.value = value.getMinutes();\n        secondsSelected.value = value.getSeconds();\n        meridienSelected.value =\n            value.getHours() >= 12 ? pmString.value : amString.value;\n    } else {\n        // reset internal state\n        hoursSelected.value = undefined;\n        minutesSelected.value = undefined;\n        secondsSelected.value = undefined;\n        meridienSelected.value = amString.value;\n    }\n}\n\nconst step = computed(() => (props.enableSeconds ? \"1\" : undefined));\n\nwatch(\n    () => props.hourFormat,\n    () => {\n        if (isDefined(hoursSelected.value))\n            meridienSelected.value =\n                (hoursSelected.value || 0) >= 12\n                    ? pmString.value\n                    : amString.value;\n    },\n);\n\nwatch(\n    () => props.locale,\n    (value) => {\n        // see updateInternalState default\n        if (!value) meridienSelected.value = amString.value;\n    },\n);\n\nfunction formatNumber(value: number, prependZero: boolean): string {\n    return isHourFormat24.value || prependZero ? pad(value) : String(value);\n}\n\nconst hours = computed<OptionsItem<number>[]>(() => {\n    if (!props.incrementHours || props.incrementHours < 1)\n        throw new Error(\"Hour increment cannot be null or less than 1.\");\n    const hours: OptionsItem<number>[] = [];\n    const numberOfHours = isHourFormat24.value ? 24 : 12;\n    for (let i = 0; i < numberOfHours; i += props.incrementHours) {\n        let value = i;\n        let label = value;\n        if (!isHourFormat24.value) {\n            value = i + 1;\n            label = value;\n            if (meridienSelected.value === amString.value) {\n                if (value === 12) value = 0;\n            } else if (meridienSelected.value === pmString.value) {\n                if (value !== 12) value += 12;\n            }\n        }\n        hours.push({\n            label: formatNumber(label, false),\n            value: value,\n        });\n    }\n    return hours;\n});\n\nconst minutes = computed<OptionsItem<number>[]>(() => {\n    if (!props.incrementMinutes || props.incrementMinutes < 1)\n        throw new Error(\"Minute increment cannot be null or less than 1.\");\n    const minutes: OptionsItem<number>[] = [];\n    for (let i = 0; i < 60; i += props.incrementMinutes) {\n        minutes.push({\n            label: formatNumber(i, true),\n            value: i,\n        });\n    }\n    return minutes;\n});\n\nconst seconds = computed<OptionsItem<number>[]>(() => {\n    if (!props.incrementSeconds || props.incrementSeconds < 1)\n        throw new Error(\"Second increment cannot be null or less than 1.\");\n    const seconds: OptionsItem<number>[] = [];\n    for (let i = 0; i < 60; i += props.incrementSeconds) {\n        seconds.push({\n            label: formatNumber(i, true),\n            value: i,\n        });\n    }\n    return seconds;\n});\n\nfunction isHourDisabled(hour: number): boolean {\n    let disabled = false;\n    if (props.minTime) {\n        const minHours = props.minTime.getHours();\n        const noMinutesAvailable = minutes.value.every((minute) => {\n            return isMinuteDisabledForHour(hour, minute.value);\n        });\n        disabled = hour < minHours || noMinutesAvailable;\n    }\n    if (props.maxTime) {\n        if (!disabled) {\n            const maxHours = props.maxTime.getHours();\n            disabled = hour > maxHours;\n        }\n    }\n\n    if (props.unselectableTimes && !disabled) {\n        if (typeof props.unselectableTimes === \"function\") {\n            const date = new Date();\n            date.setHours(hour);\n            date.setMinutes(minutesSelected.value || 0);\n            date.setSeconds(secondsSelected.value || 0);\n            return props.unselectableTimes(date);\n        } else {\n            const unselectable = props.unselectableTimes.filter((time) => {\n                if (props.enableSeconds && isDefined(secondsSelected.value)) {\n                    return (\n                        time.getHours() === hour &&\n                        time.getMinutes() === minutesSelected.value &&\n                        time.getSeconds() === secondsSelected.value\n                    );\n                } else if (isDefined(minutesSelected.value)) {\n                    return (\n                        time.getHours() === hour &&\n                        time.getMinutes() === minutesSelected.value\n                    );\n                }\n                return false;\n            });\n            if (unselectable.length > 0) {\n                disabled = true;\n            } else {\n                disabled = minutes.value.every((minute) => {\n                    return (\n                        (props.unselectableTimes as Date[]).filter((time) => {\n                            return (\n                                time.getHours() === hour &&\n                                time.getMinutes() === minute.value\n                            );\n                        }).length > 0\n                    );\n                });\n            }\n        }\n    }\n    return disabled;\n}\n\nfunction isMinuteDisabledForHour(hour: number, minute: number): boolean {\n    let disabled = false;\n    if (props.minTime) {\n        const minHours = props.minTime.getHours();\n        const minMinutes = props.minTime.getMinutes();\n        disabled = hour === minHours && minute < minMinutes;\n    }\n    if (props.maxTime) {\n        if (!disabled) {\n            const maxHours = props.maxTime.getHours();\n            const maxMinutes = props.maxTime.getMinutes();\n            disabled = hour === maxHours && minute > maxMinutes;\n        }\n    }\n    return disabled;\n}\n\nfunction isMinuteDisabled(minute: number): boolean {\n    if (hoursSelected.value === undefined) return false;\n\n    let disabled =\n        isHourDisabled(hoursSelected.value) ||\n        isMinuteDisabledForHour(hoursSelected.value, minute);\n\n    if (props.unselectableTimes && !disabled) {\n        if (typeof props.unselectableTimes === \"function\") {\n            const date = new Date();\n            date.setHours(hoursSelected.value);\n            date.setMinutes(minute);\n            date.setSeconds(secondsSelected.value || 0);\n            return props.unselectableTimes(date);\n        } else {\n            const unselectable = props.unselectableTimes.filter((time) => {\n                if (props.enableSeconds && isDefined(secondsSelected.value)) {\n                    return (\n                        time.getHours() === hoursSelected.value &&\n                        time.getMinutes() === minute &&\n                        time.getSeconds() === secondsSelected.value\n                    );\n                } else {\n                    return (\n                        time.getHours() === hoursSelected.value &&\n                        time.getMinutes() === minute\n                    );\n                }\n            });\n            disabled = unselectable.length > 0;\n        }\n    }\n    return disabled;\n}\n\nfunction isSecondDisabled(second: number): boolean {\n    if (!isDefined(minutesSelected.value)) return false;\n    let disabled = false;\n\n    if (isMinuteDisabled(minutesSelected.value)) {\n        disabled = true;\n    } else {\n        if (props.minTime) {\n            const minHours = props.minTime.getHours();\n            const minMinutes = props.minTime.getMinutes();\n            const minSeconds = props.minTime.getSeconds();\n            disabled =\n                hoursSelected.value === minHours &&\n                minutesSelected.value === minMinutes &&\n                second < minSeconds;\n        }\n        if (props.maxTime) {\n            if (!disabled) {\n                const maxHours = props.maxTime.getHours();\n                const maxMinutes = props.maxTime.getMinutes();\n                const maxSeconds = props.maxTime.getSeconds();\n                disabled =\n                    hoursSelected.value === maxHours &&\n                    minutesSelected.value === maxMinutes &&\n                    second > maxSeconds;\n            }\n        }\n    }\n    if (props.unselectableTimes && !disabled) {\n        if (typeof props.unselectableTimes === \"function\") {\n            const date = new Date();\n            date.setHours(hoursSelected.value || 0);\n            date.setMinutes(minutesSelected.value);\n            date.setSeconds(second);\n            return props.unselectableTimes(date);\n        } else {\n            const unselectable = props.unselectableTimes.filter((time) => {\n                return (\n                    time.getHours() === hoursSelected.value &&\n                    time.getMinutes() === minutesSelected.value &&\n                    time.getSeconds() === second\n                );\n            });\n            disabled = unselectable.length > 0;\n        }\n    }\n    return disabled;\n}\n\nfunction isMeridienDisabled(meridienString: string): boolean {\n    const offset = meridienString == \"AM\" ? 0 : 12;\n    for (let i = 0; i < 12; i++) {\n        if (!isHourDisabled(i + offset)) return false;\n    }\n    return true;\n}\n\nfunction updateDateSelected(\n    hours: number,\n    minutes: number,\n    seconds: number,\n    meridiens,\n): void {\n    if (\n        isDefined(hours) &&\n        isDefined(minutes) &&\n        ((!isDefined(isHourFormat24.value) && isDefined(meridiens)) ||\n            isDefined(isHourFormat24.value))\n    ) {\n        let time: Date;\n        if (vmodel.value) {\n            time = new Date(vmodel.value);\n        } else {\n            time = timeCreator();\n            time.setMilliseconds(0);\n        }\n        time.setHours(hours);\n        time.setMinutes(minutes);\n        time.setSeconds(seconds);\n        if (!isNaN(time.getTime())) {\n            vmodel.value = new Date(time.getTime());\n        }\n    }\n}\n\n// --- Formatter / Parser ---\n\n/** Format date into string */\nfunction format(value: Date | Date[] | undefined, isNative: boolean): string {\n    if (Array.isArray(value)) return format(value[0], isNative);\n    if (isNative) return formatNative(value);\n\n    return timeFormatter(value);\n}\n\n/** Format date into string 'HH-MM-SS'*/\nfunction formatNative(value: Date | Date[] | undefined): string {\n    if (Array.isArray(value)) return formatNative(value[0]);\n\n    // return empty string if no value is given or value can't parse to proper date\n    if (!value) return \"\";\n    const date = new Date(value);\n    if (!isDate(date)) return \"\";\n\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n    const seconds = date.getSeconds();\n    return (\n        formatNumber(hours, true) +\n        \":\" +\n        formatNumber(minutes, true) +\n        \":\" +\n        formatNumber(seconds, true)\n    );\n}\n\n/** Parse string into date */\nfunction parse(value: string, isNative: boolean): Date | undefined {\n    if (isNative) return parseNative(value);\n\n    const date = timeParser(value);\n    return isDate(date) ? date : undefined;\n}\n\n/** Parse time from string */\nfunction parseNative(date: string): Date | undefined {\n    if (!date) return undefined;\n\n    let time: Date;\n    if (vmodel.value) {\n        time = new Date(vmodel.value);\n    } else {\n        time = timeCreator();\n        time.setMilliseconds(0);\n    }\n    const t = date.split(\":\");\n    time.setHours(parseInt(t[0], 10));\n    time.setMinutes(parseInt(t[1], 10));\n    time.setSeconds(t[2] ? parseInt(t[2], 10) : 0);\n    return new Date(time.getTime());\n}\n\n// --- Event Handler ---\n\nfunction onMeridienChange(value: string): void {\n    if (isDefined(hoursSelected.value) && props.resetOnMeridianChange) {\n        hoursSelected.value = undefined;\n        minutesSelected.value = undefined;\n        secondsSelected.value = undefined;\n        vmodel.value = undefined;\n    } else if (isDefined(hoursSelected.value)) {\n        if (value === pmString.value) hoursSelected.value += 12;\n        else if (value === amString.value) hoursSelected.value -= 12;\n    }\n    updateDateSelected(\n        hoursSelected.value || 0,\n        minutesSelected.value || 0,\n        props.enableSeconds ? secondsSelected.value || 0 : 0,\n        value,\n    );\n}\n\nfunction onHoursChange(value: string): void {\n    if (!minutesSelected.value && typeof props.defaultMinutes !== \"undefined\")\n        minutesSelected.value = props.defaultMinutes;\n    if (!secondsSelected.value && typeof props.defaultSeconds !== \"undefined\")\n        secondsSelected.value = props.defaultSeconds;\n\n    updateDateSelected(\n        parseInt(value, 10),\n        minutesSelected.value || 0,\n        props.enableSeconds ? secondsSelected.value || 0 : 0,\n        meridienSelected.value,\n    );\n}\n\nfunction onMinutesChange(value: string): void {\n    if (!secondsSelected.value && props.defaultSeconds)\n        secondsSelected.value = props.defaultSeconds;\n\n    updateDateSelected(\n        hoursSelected.value || 0,\n        parseInt(value, 10),\n        props.enableSeconds ? secondsSelected.value || 0 : 0,\n        meridienSelected.value,\n    );\n}\n\nfunction onSecondsChange(value: string): void {\n    updateDateSelected(\n        hoursSelected.value || 0,\n        minutesSelected.value || 0,\n        parseInt(value, 10),\n        meridienSelected.value,\n    );\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-timepicker\"],\n    [\n        \"sizeClass\",\n        \"o-timepicker--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\"mobileClass\", \"o-timepicker--mobile\", null, isMobile],\n);\n\nconst separatorClasses = defineClasses([\n    \"separatorClass\",\n    \"o-timepicker__separtor\",\n]);\n\nconst footerClasses = defineClasses([\"footerClass\", \"o-timepicker__footer\"]);\n\nconst pickerDropdownClasses = defineClasses([\n    \"dropdownClass\",\n    \"o-timepicker__dropdown\",\n]);\n\nconst boxClasses = defineClasses([\"boxClass\", \"o-timepicker__box\"]);\nconst boxClassBind = computed(() => getActiveClasses(boxClasses));\n\nconst selectSelectClasses = defineClasses([\n    \"selectClasses.selectClass\",\n    \"o-timepicker__select\",\n]);\n\nconst selectPlaceholderClasses = defineClasses([\n    \"selectClasses.placeholderClass\",\n    \"o-timepicker__select-placeholder\",\n]);\n\nconst selectBind = computed(() => ({\n    \"select-class\": getActiveClasses(selectSelectClasses),\n    \"placeholder-class\": getActiveClasses(selectPlaceholderClasses),\n    ...props.selectClasses,\n}));\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ focus: () => pickerRef.value?.focus(), value: vmodel });\n</script>\n\n<template>\n    <OPickerWrapper\n        ref=\"pickerComponent\"\n        v-model:active=\"isActive\"\n        :value=\"vmodel\"\n        data-oruga=\"timepicker\"\n        :picker-props=\"props\"\n        :formatter=\"format\"\n        :parser=\"parse\"\n        type=\"time\"\n        :max=\"maxTime\"\n        :min=\"minTime\"\n        :step=\"step\"\n        :root-classes=\"rootClasses\"\n        :dropdown-classes=\"pickerDropdownClasses\"\n        :box-class=\"boxClassBind\"\n        :dtf=\"dtf\"\n        @update:value=\"updateValue\"\n        @focus=\"$emit('focus', $event)\"\n        @blur=\"$emit('blur', $event)\"\n        @invalid=\"$emit('invalid', $event)\"\n        @icon-click=\"$emit('icon-click', $event)\"\n        @icon-right-click=\"$emit('icon-right-click', $event)\">\n        <template v-if=\"$slots.trigger\" #trigger>\n            <!--\n                @slot Override the trigger\n            -->\n            <slot name=\"trigger\" />\n        </template>\n\n        <o-select\n            v-bind=\"selectBind\"\n            v-model=\"hoursSelected\"\n            :options=\"hours\"\n            override\n            :disabled=\"disabled\"\n            placeholder=\"00\"\n            :aria-label=\"ariaSelectHoursLabel\"\n            :use-html5-validation=\"false\"\n            @change=\"onHoursChange($event.target.value)\" />\n\n        <span :class=\"separatorClasses\">{{ hourLiteral }}</span>\n\n        <o-select\n            v-bind=\"selectBind\"\n            v-model=\"minutesSelected\"\n            override\n            :disabled=\"disabled\"\n            placeholder=\"00\"\n            :aria-label=\"ariaSelectMinutesLabel\"\n            :use-html5-validation=\"false\"\n            @change=\"onMinutesChange($event.target.value)\">\n            <option\n                v-for=\"minute in minutes\"\n                :key=\"minute.value\"\n                :value=\"minute.value\"\n                :disabled=\"isMinuteDisabled(minute.value)\">\n                {{ minute.label }}\n            </option>\n        </o-select>\n\n        <template v-if=\"enableSeconds\">\n            <span :class=\"separatorClasses\">{{ minuteLiteral }}</span>\n\n            <o-select\n                v-bind=\"selectBind\"\n                v-model=\"secondsSelected\"\n                override\n                :disabled=\"disabled\"\n                placeholder=\"00\"\n                :aria-label=\"ariaSelectSecondsLabel\"\n                :use-html5-validation=\"false\"\n                @change=\"onSecondsChange($event.target.value)\">\n                <option\n                    v-for=\"second in seconds\"\n                    :key=\"second.value\"\n                    :value=\"second.value\"\n                    :disabled=\"isSecondDisabled(second.value)\">\n                    {{ second.label }}\n                </option>\n            </o-select>\n\n            <span :class=\"separatorClasses\">{{ secondLiteral }}</span>\n        </template>\n\n        <o-select\n            v-if=\"!isHourFormat24\"\n            v-bind=\"selectBind\"\n            v-model=\"meridienSelected\"\n            override\n            :disabled=\"disabled\"\n            :use-html5-validation=\"false\"\n            @change=\"onMeridienChange($event.target.value)\">\n            <option\n                v-for=\"meridien in meridiens\"\n                :key=\"meridien\"\n                :value=\"meridien\"\n                :disabled=\"isMeridienDisabled(meridien)\">\n                {{ meridien }}\n            </option>\n        </o-select>\n\n        <footer v-if=\"$slots.footer\" :class=\"footerClasses\">\n            <!--\n                @slot Define an additional content on footer\n            -->\n            <slot name=\"footer\" />\n        </footer>\n    </OPickerWrapper>\n</template>\n","import { computed } from \"vue\";\nimport { matchWithGroups } from \"../datepicker/utils\";\nimport type { DatetimepickerProps } from \"./props\";\n\nconst AM = \"AM\" as const;\nconst PM = \"PM\" as const;\nconst HOUR_FORMAT_24 = \"24\" as const;\n\n/** Time Format Feature */\nexport function useDateimepickerMixins(props: DatetimepickerProps) {\n    const localeOptions = computed(\n        () =>\n            new Intl.DateTimeFormat(props.locale, {\n                year: \"numeric\",\n                month: \"numeric\",\n                day: \"numeric\",\n                hour: \"numeric\",\n                minute: \"numeric\",\n                second: props.timepicker?.enableSeconds ? \"numeric\" : undefined,\n            }).resolvedOptions() as Intl.DateTimeFormatOptions,\n    );\n\n    const isHourFormat24 = computed(\n        () =>\n            (props.timepicker?.hourFormat &&\n                props.timepicker.hourFormat === HOUR_FORMAT_24) ||\n            (!props.timepicker?.hourFormat && !localeOptions.value.hour12),\n    );\n\n    const dtf = computed(\n        () =>\n            new Intl.DateTimeFormat(props.locale, {\n                year: localeOptions.value.year || \"numeric\",\n                month: localeOptions.value.month || \"numeric\",\n                day: localeOptions.value.day || \"numeric\",\n                hour: localeOptions.value.hour || \"numeric\",\n                minute: localeOptions.value.minute || \"numeric\",\n                second: props.timepicker?.enableSeconds\n                    ? localeOptions.value.second || \"numeric\"\n                    : undefined,\n                hourCycle: !isHourFormat24.value ? \"h12\" : \"h23\",\n            }),\n    );\n\n    const amString = computed(() => {\n        if (\n            dtf.value.formatToParts &&\n            typeof dtf.value.formatToParts === \"function\"\n        ) {\n            const d = datetimeCreator();\n            d.setHours(10);\n            const dayPeriod = dtf.value\n                .formatToParts(d)\n                .find((part) => part.type === \"dayPeriod\");\n            if (dayPeriod) return dayPeriod.value;\n        }\n        return AM;\n    });\n\n    const pmString = computed(() => {\n        if (\n            dtf.value.formatToParts &&\n            typeof dtf.value.formatToParts === \"function\"\n        ) {\n            const d = datetimeCreator();\n            d.setHours(20);\n            const dayPeriod = dtf.value\n                .formatToParts(d)\n                .find((part) => part.type === \"dayPeriod\");\n            if (dayPeriod) return dayPeriod.value;\n        }\n        return PM;\n    });\n\n    function datetimeCreator(): Date {\n        return typeof props.creator === \"function\"\n            ? props.creator()\n            : new Date();\n    }\n\n    function datetimeFormatter(date: Date): string {\n        if (typeof props.formatter === \"function\") return props.formatter(date);\n\n        if (!date) return \"\";\n        return dtf.value.format(date);\n    }\n\n    function datetimeParser(date: string): Date | undefined {\n        if (typeof props.parser === \"function\") return props.parser(date);\n\n        if (!date) return undefined;\n        if (\n            dtf.value.formatToParts &&\n            typeof dtf.value.formatToParts === \"function\"\n        ) {\n            const dayPeriods = [\n                AM,\n                PM,\n                AM.toLowerCase(),\n                PM.toLowerCase(),\n                amString.value,\n                pmString.value,\n            ];\n            const parts = dtf.value.formatToParts(new Date());\n            const formatRegex = parts\n                .map((part, idx) => {\n                    if (part.type === \"literal\") {\n                        if (\n                            idx + 1 < parts.length &&\n                            parts[idx + 1].type === \"hour\"\n                        ) {\n                            return `[^\\\\d]+`;\n                        }\n                        return part.value.replace(/ /g, \"\\\\s?\");\n                    } else if (part.type === \"dayPeriod\") {\n                        return `((?!=<${part.type}>)(${dayPeriods.join(\n                            \"|\",\n                        )})?)`;\n                    }\n                    return `((?!=<${part.type}>)\\\\d+)`;\n                })\n                .join(\"\");\n            const datetimeGroups = matchWithGroups(formatRegex, date);\n\n            // We do a simple validation for the group.\n            // If it is not valid, it will fallback to Date.parse below\n            if (\n                datetimeGroups.year &&\n                datetimeGroups.year.length === 4 &&\n                datetimeGroups.month &&\n                datetimeGroups.month <= 12 &&\n                datetimeGroups.day &&\n                datetimeGroups.day <= 31 &&\n                datetimeGroups.hour &&\n                datetimeGroups.hour >= 0 &&\n                datetimeGroups.hour < 24 &&\n                datetimeGroups.minute &&\n                datetimeGroups.minute >= 0 &&\n                datetimeGroups.minute <= 59\n            ) {\n                return new Date(\n                    datetimeGroups.year,\n                    datetimeGroups.month - 1,\n                    datetimeGroups.day,\n                    datetimeGroups.hour,\n                    datetimeGroups.minute,\n                    datetimeGroups.second || 0,\n                );\n            }\n        }\n\n        // Fallback if formatToParts is not supported or if we were not able to parse a valid date\n        return new Date(Date.parse(date));\n    }\n\n    return {\n        dtf,\n        datetimeCreator,\n        datetimeFormatter,\n        datetimeParser,\n    };\n}\n","<script setup lang=\"ts\">\nimport { computed, ref, useTemplateRef, watch } from \"vue\";\n\nimport ODatepicker from \"../datepicker/Datepicker.vue\";\nimport OTimepicker from \"../timepicker/Timepicker.vue\";\nimport OInput from \"../input/Input.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { isDate, isMobileAgent, pad } from \"@/utils/helpers\";\nimport { defineClasses, useInputHandler } from \"@/composables\";\n\nimport { useDateimepickerMixins } from \"./useDatetimepickerMixin\";\n\nimport type { DatepickerProps } from \"../datepicker/props\";\nimport type { TimepickerProps } from \"../timepicker/props\";\nimport type { DatetimepickerProps } from \"./props\";\n\n/**\n * An input with a simple dropdown/modal for selecting a date and time, uses native datetimepicker for mobile.\n * @displayName Datetimepicker\n * @style _datetimepicker.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"ODatetimepicker\",\n    configField: \"datetimepicker\",\n    inheritAttrs: false,\n});\n\ntype ModelValue = DatetimepickerProps[\"modelValue\"];\n\nconst props = withDefaults(defineProps<DatetimepickerProps>(), {\n    override: undefined,\n    modelValue: undefined,\n    active: false,\n    datepicker: undefined,\n    timepicker: undefined,\n    minDatetime: undefined,\n    maxDatetime: undefined,\n    size: () => getDefault(\"datetimepicker.size\"),\n    expanded: false,\n    rounded: false,\n    placeholder: undefined,\n    readonly: false,\n    disabled: false,\n    inline: false,\n    openOnFocus: () => getDefault(\"datetimepicker.openOnFocus\", true),\n    locale: () => getDefault(\"locale\"),\n    formatter: getDefault(\"datetimepicker.dateFormatter\"),\n    parser: getDefault(\"datetimepicker.dateParser\"),\n    creator: getDefault(\"datetimepicker.datetimeCreator\"),\n    position: undefined,\n    iconPack: () => getDefault(\"datetimepicker.iconPack\"),\n    icon: () => getDefault(\"datetimepicker.icon\"),\n    iconRight: () => getDefault(\"datetimepicker.iconRight\"),\n    iconRightClickable: false,\n    desktopModal: () => getDefault(\"datetimepicker.desktopModal\", false),\n    mobileModal: () => getDefault(\"datetimepicker.mobileModal\", true),\n    mobileNative: () => getDefault(\"datetimepicker.mobileNative\", true),\n    teleport: () => getDefault(\"datetimepicker.teleport\", false),\n    useHtml5Validation: () => getDefault(\"useHtml5Validation\", true),\n    customValidity: \"\",\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {Date} updated modelValue prop\n     */\n    \"update:model-value\": [value: Date];\n    /**\n     * active prop two-way binding\n     * @param value {boolean} updated active prop\n     */\n    \"update:active\": [value: boolean];\n    /**\n     * on range start is selected event\n     * @param value {Date} range start date\n     */\n    \"range-start\": [value: Date];\n    /**\n     * on range end is selected event\n     * @param value {Date} range end date\n     */\n    \"range-end\": [value: Date];\n    /**\n     * on month change event\n     * @param value {number} month number\n     */\n    \"change-month\": [value: number];\n    /**\n     * on year change event\n     * @param value {number} year number\n     */\n    \"change-year\": [value: number];\n    /**\n     * on input focus event\n     * @param event {Event} native event\n     */\n    focus: [event: Event];\n    /**\n     * on input blur event\n     * @param event {Event} native event\n     */\n    blur: [event: Event];\n    /**\n     * on input invalid event\n     * @param event {Event} native event\n     */\n    invalid: [event: Event];\n    /**\n     * on icon click event\n     * @param event {Event} native event\n     */\n    \"icon-click\": [event: Event];\n    /**\n     * on icon right click event\n     * @param event {Event} native event\n     */\n    \"icon-right-click\": [event: Event];\n}>();\n\nconst datepickerRef = useTemplateRef(\"datepickerComponent\");\nconst nativeInputRef = useTemplateRef(\"nativeInputComponent\");\n\nconst timepickerProps = ref<TimepickerProps | undefined>(props.timepicker);\nwatch(\n    () => props.timepicker,\n    (value) => (timepickerProps.value = value),\n    { deep: true },\n);\nconst datepickerProps = ref<DatepickerProps | undefined>(props.datepicker);\nwatch(\n    () => props.datepicker,\n    (value) => (datepickerProps.value = value),\n    { deep: true },\n);\n\nconst isMobileNative = computed(\n    () => props.mobileNative && isMobileAgent.any(),\n);\n\nconst elementRef = computed(() =>\n    isMobileNative.value ? nativeInputRef.value : datepickerRef.value,\n);\n\n// use form input functionality for native input\nconst { setFocus, onBlur, onFocus, onInvalid } = useInputHandler(\n    elementRef,\n    emits,\n    props,\n);\n\nconst { datetimeFormatter, datetimeParser } = useDateimepickerMixins(props);\n\n// the active state of the dropdown, use v-model:active to make it two-way binding\nconst isActive = defineModel<boolean>(\"active\", { default: false });\n\n// the modelvalue of selected date, use v-model to make it two-way binding\nconst vmodel = defineModel<ModelValue>({ default: undefined });\n\nfunction updateVModel(value: Date | Date[] | undefined): void {\n    if (Array.isArray(value)) return updateVModel(value[0]);\n    if (!value) {\n        vmodel.value = undefined;\n        return;\n    }\n\n    let date = new Date(value.getTime());\n    if (props.modelValue) {\n        // restore time part\n        if (\n            (value.getDate() !== props.modelValue.getDate() ||\n                value.getMonth() !== props.modelValue.getMonth() ||\n                value.getFullYear() !== props.modelValue.getFullYear()) &&\n            value.getHours() === 0 &&\n            value.getMinutes() === 0 &&\n            value.getSeconds() === 0\n        ) {\n            date.setHours(\n                props.modelValue.getHours(),\n                props.modelValue.getMinutes(),\n                props.modelValue.getSeconds(),\n                0,\n            );\n        }\n    }\n    // check min and max range\n    if (props.minDatetime && date < props.minDatetime) {\n        date = props.minDatetime;\n    } else if (props.maxDatetime && date > props.maxDatetime) {\n        date = props.maxDatetime;\n    }\n    vmodel.value = new Date(date.getTime());\n}\n\nconst minDate = computed(() => {\n    if (!props.minDatetime) return datepickerProps.value?.minDate;\n    return new Date(\n        props.minDatetime.getFullYear(),\n        props.minDatetime.getMonth(),\n        props.minDatetime.getDate(),\n        0,\n        0,\n        0,\n        0,\n    );\n});\n\nconst maxDate = computed(() => {\n    if (!props.maxDatetime) return datepickerProps.value?.maxDate;\n    return new Date(\n        props.maxDatetime.getFullYear(),\n        props.maxDatetime.getMonth(),\n        props.maxDatetime.getDate(),\n        0,\n        0,\n        0,\n        0,\n    );\n});\n\n// Only enable min/max time if local (not necessarily UTC) date portion matches\nconst minTime = computed(() => {\n    if (\n        !props.minDatetime ||\n        vmodel.value === null ||\n        typeof vmodel.value === \"undefined\" ||\n        vmodel.value.getFullYear() != props.minDatetime.getFullYear() ||\n        vmodel.value.getMonth() != props.minDatetime.getMonth() ||\n        vmodel.value.getDate() != props.minDatetime.getDate()\n    ) {\n        return timepickerProps.value?.minTime;\n    }\n    return props.minDatetime;\n});\n\nconst maxTime = computed(() => {\n    if (\n        !props.maxDatetime ||\n        vmodel.value === null ||\n        typeof vmodel.value === \"undefined\" ||\n        vmodel.value.getFullYear() != props.maxDatetime.getFullYear() ||\n        vmodel.value.getMonth() != props.maxDatetime.getMonth() ||\n        vmodel.value.getDate() != props.maxDatetime.getDate()\n    ) {\n        return timepickerProps.value?.maxTime;\n    }\n    return props.maxDatetime;\n});\n\nconst datepickerSize = computed(\n    () => datepickerProps.value?.size || props.size,\n);\n\nconst timepickerSize = computed(\n    () => timepickerProps.value?.size || props.size,\n);\n\nconst timepickerDisabled = computed(\n    () => timepickerProps.value?.disabled || props.disabled,\n);\n\n// --- Formatter / Parser ---\n\n/** Format date into string */\nfunction format(value: Date): string {\n    return datetimeFormatter(value);\n}\n\n/** Parse string into date */\nfunction parse(value: string): Date | undefined {\n    const date = datetimeParser(value);\n\n    return isDate(date) ? date : undefined;\n}\n\nfunction formatNative(value: ModelValue): string {\n    const date = value ? new Date(value) : undefined;\n    if (date && isDate(date)) {\n        const year = date.getFullYear();\n        const month = date.getMonth() + 1;\n        const day = date.getDate();\n        const hours = date.getHours();\n        const minutes = date.getMinutes();\n        const seconds = date.getSeconds();\n        return (\n            year +\n            \"-\" +\n            pad(month) +\n            \"-\" +\n            pad(day) +\n            \"T\" +\n            pad(hours) +\n            \":\" +\n            pad(minutes) +\n            \":\" +\n            pad(seconds)\n        );\n    }\n    return \"\";\n}\n\n// --- Event Handler ---\n\n/** Parse date from string */\nfunction onChangeNativePicker(event: Event): void {\n    const date = (event.target as HTMLInputElement).value;\n    const s = date ? date.split(/\\D/) : [];\n    if (s.length >= 5) {\n        const year = parseInt(s[0], 10);\n        const month = parseInt(s[1], 10) - 1;\n        const day = parseInt(s[2], 10);\n        const hours = parseInt(s[3], 10);\n        const minutes = parseInt(s[4], 10);\n        // Seconds are omitted intentionally; they are unsupported by input\n        // type=datetime-local and cause the control to fail native validation\n        updateVModel(new Date(year, month, day, hours, minutes));\n    } else {\n        updateVModel(undefined);\n    }\n}\n\n// --- Computed Component Classes ---\n\nconst datepickerWrapperClasses = defineClasses([\n    \"datepickerWrapperClass\",\n    \"o-datetimepicker__date\",\n]);\n\nconst timepickerWrapperClasses = defineClasses([\n    \"timepickerWrapperClass\",\n    \"o-datetimepicker__time\",\n]);\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ focus: setFocus, value: vmodel });\n</script>\n\n<template>\n    <o-datepicker\n        v-if=\"!isMobileNative || inline\"\n        ref=\"datepickerComponent\"\n        v-bind=\"{ ...$attrs, ...datepicker }\"\n        v-model:active=\"isActive\"\n        :model-value=\"vmodel\"\n        data-oruga=\"datetimepicker\"\n        :class=\"datepickerWrapperClasses\"\n        :rounded=\"rounded\"\n        :open-on-focus=\"openOnFocus\"\n        :position=\"position\"\n        :inline=\"inline\"\n        :readonly=\"readonly\"\n        :expanded=\"expanded\"\n        :close-on-click=\"false\"\n        :formatter=\"format\"\n        :parser=\"parse\"\n        :min-date=\"minDate\"\n        :max-date=\"maxDate\"\n        :icon=\"icon\"\n        :icon-right=\"iconRight\"\n        :icon-right-clickable=\"iconRightClickable\"\n        :icon-pack=\"iconPack\"\n        :size=\"datepickerSize\"\n        :placeholder=\"placeholder\"\n        :range=\"false\"\n        :multiple=\"false\"\n        :disabled=\"disabled\"\n        :desktop-modal=\"desktopModal\"\n        :mobile-modal=\"mobileModal\"\n        :mobile-native=\"isMobileNative\"\n        :locale=\"locale\"\n        :teleport=\"teleport\"\n        :use-html5-validation=\"false\"\n        @update:model-value=\"updateVModel\"\n        @focus=\"onFocus\"\n        @blur=\"onBlur\"\n        @invalid=\"onInvalid\"\n        @change-month=\"$emit('change-month', $event)\"\n        @change-year=\"$emit('change-year', $event)\"\n        @icon-click=\"$emit('icon-click', $event)\"\n        @icon-right-click=\"$emit('icon-right-click', $event)\">\n        <template #footer>\n            <div :class=\"timepickerWrapperClasses\">\n                <o-timepicker\n                    v-bind=\"timepicker\"\n                    v-model=\"vmodel\"\n                    inline\n                    :readonly=\"readonly\"\n                    :min-time=\"minTime\"\n                    :max-time=\"maxTime\"\n                    :size=\"timepickerSize\"\n                    :disabled=\"timepickerDisabled\"\n                    :mobile-native=\"isMobileNative\"\n                    :locale=\"locale\" />\n            </div>\n\n            <template v-if=\"$slots.footer\">\n                <!--\n                    @slot Define an additional footer\n                -->\n                <slot name=\"footer\" />\n            </template>\n        </template>\n    </o-datepicker>\n\n    <!-- Native Picker -->\n    <o-input\n        v-else\n        v-bind=\"$attrs\"\n        ref=\"nativeInputComponent\"\n        type=\"datetime-local\"\n        autocomplete=\"off\"\n        :value=\"formatNative(vmodel)\"\n        :max=\"formatNative(maxDate)\"\n        :min=\"formatNative(minDate)\"\n        :placeholder=\"placeholder\"\n        :size=\"datepickerSize\"\n        :icon-pack=\"iconPack\"\n        :icon=\"icon\"\n        :rounded=\"rounded\"\n        :disabled=\"disabled\"\n        :readonly=\"false\"\n        :use-html5-validation=\"false\"\n        @change=\"onChangeNativePicker\"\n        @focus=\"onFocus\"\n        @blur=\"onBlur\"\n        @invalid=\"onInvalid\" />\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Datetimepicker from \"./Datetimepicker.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export datetimepicker plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Datetimepicker);\n    },\n} as Plugin;\n\n/** export datetimepicker components */\nexport { Datetimepicker as ODatetimepicker };\n","import type { App, Plugin } from \"vue\";\n\nimport Dropdown from \"./Dropdown.vue\";\nimport DropdownItem from \"./DropdownItem.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export dropdown plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Dropdown);\n        registerComponent(app, DropdownItem);\n    },\n} as Plugin;\n\n/** export dropdown components */\nexport { Dropdown as ODropdown, DropdownItem as ODropdownItem };\n","<script setup lang=\"ts\">\nimport {\n    computed,\n    ref,\n    useSlots,\n    watch,\n    useId,\n    useTemplateRef,\n    type VNodeArrayChildren,\n} from \"vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { isVNodeEmpty } from \"@/utils/helpers\";\nimport { defineClasses, useMatchMedia } from \"@/composables\";\n\nimport { injectField, provideField, type FieldData } from \"./fieldInjection\";\n\nimport type { FieldProps } from \"./props\";\n\n/**\n * Fields are used to add functionality to controls and to attach/group components and elements together.\n * @displayName Field\n * @style _field.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OField\",\n    configField: \"field\",\n});\n\nconst props = withDefaults(defineProps<FieldProps>(), {\n    override: undefined,\n    variant: undefined,\n    label: undefined,\n    labelSize: () => getDefault(\"field.labelsize\"),\n    labelFor: undefined,\n    labelId: () => useId(),\n    message: undefined,\n    messageTag: () => getDefault(\"field.messageTag\", \"p\"),\n    messageId: () => useId(),\n    grouped: false,\n    addons: false,\n    multiline: false,\n    horizontal: false,\n    mobileBreakpoint: () => getDefault(\"field.mobileBreakpoint\"),\n});\n\nconst { isMobile } = useMatchMedia(props.mobileBreakpoint);\n\n/** the unique id for the input to associate the label with */\nconst inputId = ref(props.labelFor);\nwatch(\n    () => props.labelFor,\n    (v) => (inputId.value = v),\n);\n\n/** set internal variant when prop change */\nconst fieldVariant = ref(props.variant);\nwatch(\n    () => props.variant,\n    (v) => (fieldVariant.value = v),\n);\n\n/** set internal message when prop change */\nconst fieldMessage = ref(props.message);\nwatch(\n    () => props.message,\n    (v) => (fieldMessage.value = v),\n);\n\n/** set parent message if we use Field in Field */\nwatch(fieldMessage, (value) => {\n    if (parentField.value && parentField.value.hasInnerField) {\n        if (!parentField.value.variant)\n            parentField.value.setVariant(fieldVariant.value);\n        if (!parentField.value.message) parentField.value.setMessage(value);\n    }\n});\n\n/** this can be set from inputs to update the focus state */\nconst isFocused = ref(false);\n/** this can be set from inputs to update the filled state */\nconst isFilled = ref(false);\n/** this can be set from sub fields to update the has inner field state */\nconst hasInnerField = ref(false);\n\n// inject parent field component if used inside one\nconst { parentField } = injectField();\n// tell parent field it has an inner field\nif (parentField.value) parentField.value.addInnerField();\n\nconst slots = useSlots();\n\nconst hasLabel = computed(() => props.label || !!slots.label);\n\nconst hasMessage = computed(() => !!fieldMessage.value || !!slots.message);\n\nconst hasBody = computed(\n    () =>\n        props.grouped ||\n        props.multiline ||\n        hasInnerField.value ||\n        hasAddons.value,\n);\n\nconst hasAddons = computed(\n    () => props.addons && !props.horizontal && !!slots.default,\n);\n\nfunction getInnerContent(vnode): VNodeArrayChildren {\n    const slot = vnode();\n    return slot.length === 1 && Array.isArray(slot[0].children)\n        ? slot[0].children\n        : slot;\n}\n\n// --- Field Dependency Injection Feature ---\n\nconst rootRef = useTemplateRef(\"rootElement\");\n\nfunction addInnerField(): void {\n    hasInnerField.value = true;\n}\nfunction setFocus(value: boolean): void {\n    isFocused.value = value;\n}\nfunction setFilled(value: boolean): void {\n    isFilled.value = value;\n}\nfunction setVariant(value?: string): void {\n    fieldVariant.value = value;\n}\nfunction setMessage(value?: string): void {\n    fieldMessage.value = value;\n}\nfunction setInputId(value: string): void {\n    inputId.value = value;\n}\n\nconst inputAttrs = computed(() => ({\n    \"aria-labelledby\": props.labelId,\n    ...(fieldVariant.value === \"error\"\n        ? { \"aria-errormessage\": props.messageId }\n        : { \"aria-describedby\": props.messageId }),\n}));\n\n// Provided data is a computed ref to ensure reactivity.\nconst provideData = computed<FieldData>(() => ({\n    $el: rootRef.value,\n    props,\n    hasInnerField: hasInnerField.value,\n    variant: fieldVariant.value,\n    message: fieldMessage.value,\n    labelId: props.labelId,\n    inputAttrs: inputAttrs.value,\n    addInnerField,\n    setInputId,\n    setFocus,\n    setFilled,\n    setVariant,\n    setMessage,\n}));\n\n// Provide field component data via dependency injection.\nprovideField(provideData);\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-field\"],\n    [\n        \"horizontalClass\",\n        \"o-field--horizontal\",\n        null,\n        computed(() => !!props.horizontal),\n    ],\n    [\"mobileClass\", \"o-field--mobile\", null, isMobile],\n    [\"focusedClass\", \"o-field--focused\", null, isFocused],\n    [\"filledClass\", \"o-field--filled\", null, isFilled],\n);\n\nconst labelClasses = defineClasses(\n    [\"labelClass\", \"o-field__label\"],\n    [\n        \"labelSizeClass\",\n        \"o-field__label-\",\n        computed(() => props.labelSize),\n        computed(() => !!props.labelSize),\n    ],\n    [\n        \"labelVariantClass\",\n        \"o-field__label-\",\n        fieldVariant,\n        computed(() => !!fieldVariant.value),\n    ],\n);\n\nconst horizontalLabelClasses = defineClasses([\n    \"horizontalLabelClass\",\n    \"o-field__horizontal-label\",\n]);\n\nconst horizontalBodyClasses = defineClasses([\n    \"horizontalBodyClass\",\n    \"o-field__horizontal-body\",\n]);\n\nconst bodyClasses = defineClasses([\"bodyClass\", \"o-field__body\"]);\n\nconst innerBodyClasses = defineClasses(\n    [\"rootClass\", \"o-field\"],\n    [\"groupedClass\", \"o-field--grouped\", null, computed(() => props.grouped)],\n    [\n        \"addonsClass\",\n        \"o-field--addons\",\n        null,\n        computed(() => !props.grouped && hasAddons.value),\n    ],\n    [\n        \"multilineClass\",\n        \"o-field--multiline\",\n        null,\n        computed(() => props.multiline),\n    ],\n);\n\nconst messageClasses = defineClasses(\n    [\"messageClass\", \"o-field__message\"],\n    [\n        \"messageVariantClass\",\n        \"o-field__message-\",\n        fieldVariant,\n        computed(() => !!fieldVariant.value),\n    ],\n);\n</script>\n\n<template>\n    <div ref=\"rootElement\" data-oruga=\"field\" :class=\"rootClasses\">\n        <div v-if=\"horizontal\" :class=\"horizontalLabelClasses\">\n            <label\n                v-if=\"hasLabel\"\n                :id=\"labelId\"\n                :for=\"inputId\"\n                :class=\"labelClasses\">\n                <!--\n                    @slot Override the label\n                    @binding {string} label - label property \n                -->\n                <slot name=\"label\" :label=\"label\">{{ label }}</slot>\n            </label>\n        </div>\n\n        <template v-else>\n            <label\n                v-if=\"hasLabel\"\n                :id=\"labelId\"\n                :for=\"inputId\"\n                :class=\"labelClasses\">\n                <!--\n                    @slot Override the label\n                    @binding {string} label - label property \n                -->\n                <slot name=\"label\" :label=\"label\">{{ label }}</slot>\n            </label>\n        </template>\n\n        <div v-if=\"horizontal\" :class=\"horizontalBodyClasses\">\n            <template\n                v-for=\"(element, index) in getInnerContent($slots.default)\"\n                :key=\"index\">\n                <component :is=\"element\" v-if=\"isVNodeEmpty(element)\" />\n\n                <OField\n                    v-else\n                    :variant=\"fieldVariant\"\n                    :addons=\"false\"\n                    :label-id=\"labelId\"\n                    :message-id=\"messageId\"\n                    :message-tag=\"messageTag\"\n                    :message-class=\"messageClass\">\n                    <!-- render inner default slot element -->\n                    <component :is=\"element\" />\n                    <!-- show field message here -->\n                    <template v-if=\"index === 0\" #message>\n                        <slot name=\"message\" :message=\"fieldMessage\">\n                            {{ fieldMessage }}\n                        </slot>\n                    </template>\n                </OField>\n            </template>\n        </div>\n\n        <div v-else-if=\"hasBody\" :class=\"bodyClasses\">\n            <div :class=\"innerBodyClasses\">\n                <!--\n                   @slot Default content\n                -->\n                <slot />\n            </div>\n        </div>\n\n        <template v-else>\n            <!--\n                @slot Default content\n            -->\n            <slot />\n        </template>\n\n        <component\n            :is=\"messageTag\"\n            v-if=\"hasMessage && !horizontal\"\n            :id=\"messageId\"\n            :class=\"messageClasses\">\n            <!--\n                @slot Override the message\n                @binding {string} message - field message \n            -->\n            <slot name=\"message\" :message=\"fieldMessage\">\n                {{ fieldMessage }}\n            </slot>\n        </component>\n    </div>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Field from \"./Field.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export field plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Field);\n    },\n} as Plugin;\n\n/** export field components */\nexport { Field as OField };\n","import type { App, Plugin } from \"vue\";\n\nimport Icon from \"./Icon.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export icon plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Icon);\n    },\n} as Plugin;\n\n/** export icon components */\nexport { Icon as OIcon };\n","import type { App, Plugin } from \"vue\";\n\nimport Input from \"./Input.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export input specific types */\n// no types to export here\n\n/** export input plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Input);\n    },\n} as Plugin;\n\n/** export input components */\nexport { Input as OInput };\n","<script setup lang=\"ts\">\nimport { useTemplateRef, watch } from \"vue\";\n\nimport OIcon from \"../icon/Icon.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { isClient } from \"@/utils/ssr\";\nimport {\n    defineClasses,\n    useEventListener,\n    usePreventScrolling,\n} from \"@/composables\";\n\nimport type { LoadingProps } from \"./props\";\n\n/**\n * A simple loading overlay.\n * @displayName Loading\n * @style _loading.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OLoading\",\n    configField: \"loading\",\n    inheritAttrs: false,\n});\n\nconst props = withDefaults(defineProps<LoadingProps>(), {\n    override: undefined,\n    active: false,\n    fullPage: true,\n    label: undefined,\n    animation: () => getDefault(\"loading.animation\", \"fade\"),\n    cancelable: false,\n    icon: () => getDefault(\"loading.icon\", \"loading\"),\n    iconSpin: () => getDefault(\"loading.iconSpin\", true),\n    iconSize: () => getDefault(\"loading.iconSize\", \"medium\"),\n    clipScroll: () => getDefault(\"loading.clipScroll\", false),\n});\n\nconst emits = defineEmits<{\n    /**\n     * active prop two-way binding\n     * @param value {boolean} - updated active prop\n     */\n    \"update:active\": [value: boolean];\n    /**\n     * fullPage prop two-way binding\n     * @param value {boolean} - updated fullPage prop\n     */\n    \"update:fullPage\": [value: boolean];\n    /**\n     * on component close event\n     * @param value {unknown} - close event data\n     */\n    close: [...args: unknown[]];\n}>();\n\nconst rootRef = useTemplateRef(\"rootElement\");\n\nconst isFullPage = defineModel<boolean>(\"fullPage\", { default: true });\n\nconst isActive = defineModel<boolean>(\"active\", { default: false });\n\nconst toggleScroll = usePreventScrolling(props.clipScroll);\n\nwatch(isActive, (value) => {\n    if (isFullPage.value) toggleScroll(value);\n});\n\n// --- Events Feature ---\n\nif (isClient) {\n    // register onKeyPress event when is active\n    useEventListener(rootRef, \"keyup\", onKeyPress, { trigger: isActive });\n}\n\n/** Keypress event that is bound to the document. */\nfunction onKeyPress(event: KeyboardEvent): void {\n    if (!isActive.value) return;\n    if (event.key === \"Escape\" || event.key === \"Esc\") cancel(\"escape\");\n}\n\n/**\n * Check if method is cancelable.\n * Call close() with action `cancel`.\n * @param method Cancel method\n */\nfunction cancel(method: string): void {\n    // check if method is cancelable\n    if (\n        !props.cancelable ||\n        (Array.isArray(props.cancelable) && !props.cancelable.includes(method))\n    )\n        return;\n    close({ action: \"cancel\", method });\n}\n\n/** set active to false and emit close event */\nfunction close(...args: unknown[]): void {\n    isActive.value = false;\n    emits(\"close\", args);\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-loading\"],\n    [\"fullPageClass\", \"o-loading--fullpage\", null, isFullPage],\n);\n\nconst overlayClasses = defineClasses([\"overlayClass\", \"o-loading__overlay\"]);\n\nconst iconClasses = defineClasses([\"iconClass\", \"o-loading__icon\"]);\n\nconst labelClasses = defineClasses([\"labelClass\", \"o-loading__label\"]);\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ close });\n</script>\n\n<template>\n    <transition :name=\"animation\">\n        <div\n            v-if=\"isActive\"\n            ref=\"rootElement\"\n            data-oruga=\"loading\"\n            :class=\"rootClasses\"\n            role=\"status\"\n            aria-live=\"polite\">\n            <div\n                :class=\"overlayClasses\"\n                :tabindex=\"-1\"\n                @click=\"cancel('outside')\" />\n            <!-- \n                @slot Override icon and label\n                @binding {close} close - function to close the component\n            -->\n            <slot :close=\"close\">\n                <o-icon\n                    :icon=\"icon\"\n                    :spin=\"iconSpin\"\n                    :size=\"iconSize\"\n                    :class=\"iconClasses\"\n                    both />\n                <span v-if=\"label\" :class=\"labelClasses\">\n                    {{ label }}\n                </span>\n            </slot>\n        </div>\n    </transition>\n</template>\n","import type { ComponentInternalInstance } from \"vue\";\n\nexport default class InstanceRegistry<T = ComponentInternalInstance> {\n    entries: Array<T>;\n\n    constructor() {\n        this.entries = [];\n    }\n\n    /** Returns the number of registered active instances. */\n    count(): number {\n        return this.entries.length;\n    }\n\n    /** Returns the first registered active instance. */\n    fist(): T | undefined {\n        return this.entries.at(0);\n    }\n\n    /** Returns the last registered active instance. */\n    last(): T | undefined {\n        return this.entries.at(-1);\n    }\n\n    /** Adds a new instance to the instance stack. */\n    add(entry: T): void {\n        this.entries.push(entry);\n    }\n\n    /** Removes an instance from the instance stack. */\n    remove(entry: T): void {\n        const index = this.entries.indexOf(entry);\n        this.entries.splice(index, 1);\n    }\n\n    /** Call a function for every registered active instance. */\n    walk(callback: (value: T) => boolean | void): void {\n        // Walk a copy of the array so that the callback is allowed to remove the instance\n        this.entries = [...this.entries].filter((e) => {\n            const ret = callback(e);\n            return !(ret === true);\n        });\n    }\n}\n","import {\n    createVNode,\n    defineComponent,\n    getCurrentInstance,\n    onMounted,\n    onUnmounted,\n    type ComponentInternalInstance,\n    type VNode,\n    type VNodeTypes,\n} from \"vue\";\nimport type { ComponentProps } from \"vue-component-type-helpers\";\nimport type InstanceRegistry from \"@/components/programmatic/InstanceRegistry\";\nimport { isClient } from \"@/utils/ssr\";\n\nexport type ProgrammaticComponentProps<C extends VNodeTypes> = {\n    /**\n     * Component to be injected.\n     * Terminate the component by emitting a 'close' event â€” emits('close')\n     */\n    component: C;\n    /**\n     * Props to be binded to the injected component.\n     * Both attributes and properties can be used in props.\n     * Vue automatically picks the right way to assign it.\n     * `class` and `style` have the same object / array value support like in templates.\n     * Event listeners should be passed as onXxx.\n     * @see https://vuejs.org/api/render-function.html#h\n     */\n    props?: ComponentProps<C> | { container?: HTMLElement };\n    /** Programmatic component registry instance */\n    registry?: InstanceRegistry<ComponentInternalInstance>;\n};\n\nexport type ProgrammaticComponentEmits = {\n    /**\n     * On component close event.\n     * This get called when the component emits `close` or the exposed `close` function get called.\n     */\n    close?: (...args: unknown[]) => void;\n    /** On component destroy event which get called when the component should be destroyed. */\n    destroy?: () => void;\n};\n\n// there is a bug with functional defineComponent and extracting the exposed type\n// export type ProgrammaticComponentExpose = ComponentExposed<\n//     typeof ProgrammaticComponent\n// >;\n\nexport type ProgrammaticComponentExpose = {\n    /** Call the close event of the component. */\n    close: (...args: unknown[]) => void;\n    /** Promise which get resolved on the close event. */\n    promise: Promise<unknown>;\n};\n\nexport const ProgrammaticComponent = defineComponent<\n    ProgrammaticComponentProps<any>,\n    ProgrammaticComponentEmits\n>(\n    <C extends VNodeTypes>(\n        props: ProgrammaticComponentProps<C>,\n        { expose, emit, slots },\n    ) => {\n        // getting a hold of the internal instance in setup()\n        const vm = getCurrentInstance();\n        if (!vm)\n            throw new Error(\"ProgrammaticComponent initialisation failed.\");\n\n        // create response promise\n        let resolve: (value?: unknown) => void;\n        const promise = new Promise<unknown>((p1) => (resolve = p1));\n\n        // add component instance to instance register\n        onMounted(() => props.registry?.add(vm));\n\n        // remove component instance from instance register\n        onUnmounted(() => props.registry?.remove(vm));\n\n        function close(...args: unknown[]): void {\n            // emit `onClose` event\n            emit(\"close\", ...args);\n\n            // call promise resolve\n            resolve(...args);\n\n            // emit `destory` event after animation is finished\n            setTimeout(() => {\n                if (isClient)\n                    window.requestAnimationFrame(() => emit(\"destroy\"));\n                else emit(\"destroy\");\n            });\n        }\n\n        /** expose public functionalities for programmatic usage */\n        expose({ close, promise } satisfies ProgrammaticComponentExpose);\n\n        // return render function which renders given component\n        return (): VNode =>\n            createVNode(\n                props.component,\n                { ...props.props, onClose: close },\n                slots[\"default\"],\n            );\n    },\n    {\n        name: \"ProgrammaticApp\",\n        // manual runtime props declaration is currently still needed.\n        props: [\"component\", \"props\", \"registry\"],\n        // manual runtime emits declaration\n        emits: [\"close\", \"destroy\"],\n        // manual runtime slot declaration\n        slots: [\"default\"],\n    },\n);\n","import {\n    createApp,\n    toValue,\n    type App,\n    type ComponentInternalInstance,\n    type EmitsToProps,\n    type MaybeRefOrGetter,\n    type VNodeTypes,\n} from \"vue\";\n\nimport InstanceRegistry from \"@/components/programmatic/InstanceRegistry\";\nimport { VueInstance } from \"@/utils/plugins\";\nimport { useTeleportDefault, resolveElement } from \"@/composables\";\n\nimport {\n    ProgrammaticComponent,\n    type ProgrammaticComponentProps,\n    type ProgrammaticComponentEmits,\n    type ProgrammaticComponentExpose,\n} from \"./ProgrammaticComponent\";\n\ndeclare module \"../../index\" {\n    interface OrugaProgrammatic {\n        programmatic: typeof ComponentProgrammatic;\n    }\n}\n\n/** programmatic global instance registry if no custom is defined */\nconst registry = new InstanceRegistry<ComponentInternalInstance>();\n\n/** useProgrammatic composable `open` function options */\nexport type ProgrammaticOptions<C extends VNodeTypes> = {\n    /**\n     * Specify a target the component get rendered into.\n     * @default `document.body`\n     */\n    target?: MaybeRefOrGetter<string | HTMLElement | null>;\n    /**\n     * Specify the template `id` for the programmatic container element.\n     * @default `programmatic-app`\n     */\n    appId?: string;\n} & Omit<ProgrammaticComponentProps<C>, \"component\"> & // component props\n    EmitsToProps<Omit<ProgrammaticComponentEmits, \"destroy\">>; // component emit props\n\n/** public options interface for programmatically called components */\nexport type ProgrammaticComponentOptions = EmitsToProps<\n    Pick<ProgrammaticComponentEmits, \"close\">\n> &\n    // make the type extendable\n    Record<string, any>;\n\n/** useProgrammatic composable `open` function return value */\nexport type ProgrammaticExpose = ProgrammaticComponentExpose;\n\nexport const ComponentProgrammatic = {\n    /** Returns the number of registered active instances. */\n    count: registry.count,\n    /**\n     * Create a new programmatic component instance.\n     * @param component component to render\n     * @param options render options\n     */\n    open<C extends VNodeTypes>(\n        component: C,\n        options?: ProgrammaticOptions<C>,\n    ): ProgrammaticExpose {\n        options = { registry, ...options };\n\n        const targetQuery = toValue(options.target);\n        // define the target container\n        const target: HTMLElement | null =\n            // either by a given query selector / element\n            (targetQuery && resolveElement(targetQuery)) ||\n            // or by the default teleport target config\n            resolveElement(useTeleportDefault());\n        if (!target)\n            throw new Error(\"ComponentProgrammatic - no target is defined.\");\n\n        // create app container\n        let container: HTMLDivElement | undefined =\n            document.createElement(\"div\");\n        container.id = options.appId || \"programmatic-app\";\n\n        // place the app container into the target element\n        target.appendChild(container);\n\n        // clear instance handler\n        function onDestroy(): void {\n            // destroy app/component\n            if (app) {\n                app.unmount();\n                app = undefined;\n            }\n            // clear container\n            if (container && target) {\n                target.removeChild(container);\n                container = undefined;\n            }\n        }\n\n        // create a new vue app instance with the ProgrammaticComponent as root\n        let app: App | undefined = createApp(ProgrammaticComponent, {\n            registry: options.registry, // programmatic registry instance - can be overriden by given in options\n            component, // the component which should be rendered\n            props: { ...options.props, container: target }, // component props including the target as `container`\n            onClose: options.onClose, // custom onClose handler\n            onDestroy, // node destory cleanup handler\n        });\n\n        // share the current context to the new app instance if running inside a nother app\n        if (VueInstance)\n            app._context = Object.assign(app._context, VueInstance._context);\n\n        // render the new vue instance into the container\n        const instance = app.mount(container);\n\n        // return exposed programmatic functionalities from the mounted component instance\n        return instance as unknown as ProgrammaticExpose;\n    },\n    /** close the last registred instance in the global programmatic instance registry */\n    close(...args: unknown[]): void {\n        registry.last()?.exposed?.close(...args);\n    },\n    /** close all instances in the global programmatic instance registry */\n    closeAll(...args: unknown[]): void {\n        registry.walk((entry) => entry.exposed?.close(...args));\n    },\n};\n\nexport default ComponentProgrammatic;\n","import type { App, Plugin } from \"vue\";\n\nimport ComponentProgrammatic from \"./useProgrammatic\";\n\nimport { registerComponentProgrammatic } from \"@/utils/plugins\";\nimport InstanceRegistry from \"./InstanceRegistry\";\n\n/** export programmatic specific types */\nexport type {\n    ProgrammaticOptions,\n    ProgrammaticExpose,\n    ProgrammaticComponentOptions,\n} from \"./useProgrammatic\";\nexport { InstanceRegistry };\n\n/** export programmatic plugin */\nexport default {\n    install(app: App) {\n        registerComponentProgrammatic(\n            app,\n            \"programmatic\",\n            ComponentProgrammatic,\n        );\n    },\n} as Plugin;\n\n/** export composables here */\nexport { ComponentProgrammatic } from \"./useProgrammatic\";\n","import { type ComponentInternalInstance, type MaybeRefOrGetter } from \"vue\";\nimport {\n    InstanceRegistry,\n    ComponentProgrammatic,\n    type ProgrammaticComponentOptions,\n    type ProgrammaticExpose,\n} from \"../programmatic\";\n\nimport Loading from \"./Loading.vue\";\n\nimport type { LoadingProps } from \"./props\";\n\ndeclare module \"../../index\" {\n    interface OrugaProgrammatic {\n        loading: typeof LoadingProgrammatic;\n    }\n}\n\n/** loading component programmatic instance registry **/\nconst registry = new InstanceRegistry<ComponentInternalInstance>();\n\n/** useLoadingProgrammatic composable options */\nexport type LoadingProgrammaticOptions = Readonly<LoadingProps> &\n    ProgrammaticComponentOptions;\n\nconst LoadingProgrammatic = {\n    /** Returns the number of registered active instances. */\n    count: registry.count,\n    /**\n     * Create a new programmatic loading component instance.\n     * @param options loading label string or loading component props object\n     * @param target specify a target the component get rendered into\n     * @returns ProgrammaticExpose\n     */\n    open(\n        options: string | LoadingProgrammaticOptions,\n        target?: MaybeRefOrGetter<string | HTMLElement | null>,\n    ): ProgrammaticExpose {\n        const _options: LoadingProgrammaticOptions =\n            typeof options === \"string\" ? { label: options } : options;\n\n        const componentProps: LoadingProps = {\n            active: true, // set the active default state to true\n            fullPage: false, // set the full page default state to false\n            ...(_options as LoadingProps),\n        };\n\n        // create programmatic component\n        return ComponentProgrammatic.open(Loading, {\n            registry, // custom programmatic instance registry\n            target, // target the component get rendered into\n            props: componentProps, // component specific props\n            onClose: _options.onClose, // on close event handler\n        });\n    },\n    /** Close the last registred instance in the loading programmatic instance registry. */\n    close(...args: unknown[]): void {\n        registry.last()?.exposed?.close(...args);\n    },\n    /** Close all instances in the programmatic loading instance registry. */\n    closeAll(...args: unknown[]): void {\n        registry.walk((entry) => entry.exposed?.close(...args));\n    },\n};\n\nexport default LoadingProgrammatic;\n","import type { App, Plugin } from \"vue\";\n\nimport Loading from \"./Loading.vue\";\nimport LoadingProgrammatic from \"./useLoadingProgrammatic\";\n\nimport {\n    registerComponent,\n    registerComponentProgrammatic,\n} from \"@/utils/plugins\";\n\n/** export loading specific types */\nexport type { LoadingProgrammaticOptions } from \"./useLoadingProgrammatic\";\n\n/** export loading plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Loading);\n        registerComponentProgrammatic(app, \"loading\", LoadingProgrammatic);\n    },\n} as Plugin;\n\n/** export loading components & composables */\nexport { Loading as OLoading, LoadingProgrammatic };\n","<script setup lang=\"ts\" generic=\"T\">\nimport { computed, ref, useId } from \"vue\";\n\nimport OIcon from \"../icon/Icon.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport {\n    defineClasses,\n    normalizeOptions,\n    useProviderChild,\n    useProviderParent,\n    type ProviderItem,\n} from \"@/composables\";\n\nimport type {\n    MenuComponent,\n    MenuItemComponent,\n    MenuItemProvider,\n} from \"./types\";\nimport type { MenuItemProps } from \"./props\";\n\n/**\n * A menu list item.\n * @displayName Menu Item\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OMenuItem\",\n    configField: \"menu\",\n    inheritAttrs: false,\n});\n\nconst props = withDefaults(defineProps<MenuItemProps<T>>(), {\n    override: undefined,\n    active: false,\n    options: undefined,\n    label: undefined,\n    expanded: false,\n    disabled: false,\n    hidden: false,\n    submenuId: () => useId(),\n    icon: undefined,\n    iconPack: () => getDefault(\"menu.iconPack\"),\n    iconSize: () => getDefault(\"menu.iconSize\"),\n    animation: () => getDefault(\"menu.animation\", \"slide\"),\n    tag: () => getDefault(\"menu.itemTag\", \"button\"),\n});\n\nconst emits = defineEmits<{\n    /**\n     * active prop two-way binding\n     * @param value {boolean} updated active prop\n     */\n    \"update:active\": [value: boolean];\n    /**\n     * onclick event\n     * @param value {string | number | object} value prop data\n     * @param event {event} Native Event\n     */\n    click: [value: T, event: Event];\n}>();\n\nconst itemValue = props.value ?? useId();\n\n// provided data is a computed ref to ensure reactivity\nconst provideData = computed<MenuItemProvider<T>>(() => ({\n    expanded: isExpanded.value,\n    setExpand,\n    triggerReset,\n}));\n\n/** provide functionalities and data to child item components */\nconst { childItems } = useProviderParent({\n    key: \"menu-item\",\n    data: provideData,\n});\n\n/** inject functionalities and data from the parent menu-item component */\nconst menuItem = useProviderChild<MenuItemProvider<T>>({\n    key: \"menu-item\",\n    needParent: false,\n});\n\n// provided data is a computed ref to ensure reactivity\nconst providedData = computed<MenuItemComponent<T>>(() => ({\n    ...props,\n    value: itemValue,\n    parent: menuItem.parent.value,\n    hasChildren: hasChildren.value,\n    expanded: isExpanded.value,\n    setExpand,\n    reset,\n    selectItem,\n}));\n\n/** inject functionalities and data from the parent menu component */\nconst { parent, item } = useProviderChild<\n    MenuComponent<T>,\n    MenuItemComponent<T>\n>({ data: providedData });\n\nconst nextSequence = parent.value.nextSequence;\n\n/** normalized programamtic options */\nconst normalizedOptions = computed(() =>\n    normalizeOptions<T>(props.options, nextSequence),\n);\n\nconst isActive = defineModel<boolean>(\"active\", { default: false });\n\nconst hasChildren = computed(() => !!childItems.value.length);\n\nconst isFocused = computed(\n    () => item.value.identifier === parent.value.focsuedIdentifier,\n);\n\nfunction selectItem(event: Event): void {\n    if (props.disabled || parent.value.disabled) return;\n    triggerReset();\n    isActive.value = !isActive.value;\n    if (parent.value.accordion) isExpanded.value = isActive.value;\n    parent.value.selectItem(isActive.value ? item.value : undefined);\n    emits(\"click\", itemValue as T, event);\n}\n\nfunction triggerReset(childs?: ProviderItem<MenuItemComponent<T>>[]): void {\n    // The point of this method is to collect references to the clicked item and any parent,\n    // this way we can skip resetting those elements.\n    if (typeof menuItem.parent.value?.triggerReset === \"function\") {\n        menuItem.parent.value.triggerReset(\n            childs ? [item.value, ...childs] : [item.value],\n        );\n    }\n    // else if not a sub item reset parent menu\n    else if (typeof parent.value.resetMenu === \"function\") {\n        parent.value.resetMenu(childs ? [item.value, ...childs] : [item.value]);\n    }\n}\n\nconst isExpanded = ref(props.expanded);\n// always expand if not accordion feature\nif (!parent.value.accordion) isExpanded.value = true;\n\nfunction setExpand(state: boolean): void {\n    if (!parent.value.accordion) return;\n    isExpanded.value = state;\n\n    if (typeof menuItem.parent.value?.setExpand === \"function\")\n        menuItem.parent.value.setExpand(state);\n}\n\nfunction reset(): void {\n    if (parent.value.accordion) isExpanded.value = false;\n    isActive.value = false;\n}\n\n// #region --- Computed Component Classes ---\n\nconst itemClasses = defineClasses(\n    [\"itemClass\", \"o-menu__item\"],\n    [\"itemActiveClass\", \"o-menu__item--active\", null, isActive],\n    [\"itemFocusedClass\", \"o-menu__item--focused\", null, isFocused],\n    [\n        \"itemDisabledClass\",\n        \"o-menu__item--disabled\",\n        null,\n        computed(() => props.disabled || parent.value.disabled),\n    ],\n);\n\nconst buttonClasses = defineClasses(\n    [\"itemButtonClass\", \"o-menu__item__button\"],\n    [\"itemButtonActiveClass\", \"o-menu__item__button--active\", null, isActive],\n    [\n        \"itemButtonFocusedClass\",\n        \"o-menu__item__button--focused\",\n        null,\n        isFocused,\n    ],\n    [\n        \"itemButtonDisabledClass\",\n        \"o-menu__item__button--disabled\",\n        null,\n        computed(() => props.disabled || parent.value.disabled),\n    ],\n    [\n        \"itemButtonIconClass\",\n        \"o-menu__item__button--icon\",\n        null,\n        computed(() => !!props.icon),\n    ],\n);\n\nconst submenuClasses = defineClasses([\n    \"itemSubmenuClass\",\n    \"o-menu__item__submenu\",\n]);\n\n// #endregion --- Computed Component Classes ---\n</script>\n\n<template>\n    <li\n        v-show=\"!hidden\"\n        :id=\"`${parent.menuId}-${item.identifier}`\"\n        data-oruga=\"menu-item\"\n        :data-id=\"`menu-${item.identifier}`\"\n        :class=\"itemClasses\"\n        role=\"none\">\n        <component\n            :is=\"tag\"\n            v-bind=\"$attrs\"\n            :class=\"buttonClasses\"\n            :role=\"parent.role + 'item'\"\n            :disabled=\"disabled || parent.disabled\"\n            tabindex=\"-1\"\n            :aria-selected=\"parent.role == 'tree' ? isActive : undefined\"\n            :aria-disabled=\"disabled || parent.disabled\"\n            :aria-expanded=\"hasChildren ? isExpanded : undefined\"\n            :aria-owns=\"hasChildren ? submenuId : undefined\"\n            @click=\"selectItem\"\n            @keydown.enter=\"selectItem\"\n            @keydown.space=\"selectItem\">\n            <o-icon\n                v-if=\"icon\"\n                :icon=\"icon\"\n                :pack=\"iconPack\"\n                :size=\"iconSize\" />\n            <!-- \n                @slot Override label\n                @binding {boolean} expanded - item expanded state\n                @binding {boolean} active - item active state\n            -->\n            <slot name=\"label\" :expanded=\"isExpanded\" :active=\"isActive\">\n                <span>{{ label }}</span>\n            </slot>\n        </component>\n\n        <!-- sub menu items -->\n        <transition v-if=\"$slots.default || options\" :name=\"animation\">\n            <ul\n                v-show=\"isExpanded\"\n                :id=\"submenuId\"\n                :class=\"submenuClasses\"\n                tabindex=\"-1\"\n                role=\"group\">\n                <!--\n                        @slot Place menu items here \n                    -->\n                <slot>\n                    <OMenuItem\n                        v-for=\"option in normalizedOptions\"\n                        :key=\"option.key\"\n                        v-bind=\"option.attrs\"\n                        :value=\"option.value\"\n                        :label=\"option.label\"\n                        :hidden=\"option.hidden\" />\n                </slot>\n            </ul>\n        </transition>\n    </li>\n</template>\n","<script setup lang=\"ts\" generic=\"T\">\nimport { computed, ref, useId, useTemplateRef } from \"vue\";\n\nimport OIcon from \"../icon/Icon.vue\";\nimport OMenuItem from \"../menu/MenuItem.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { mod } from \"@/utils/helpers\";\nimport {\n    defineClasses,\n    isGroupOption,\n    normalizeOptions,\n    useProviderParent,\n    useSequentialId,\n    type ProviderItem,\n} from \"@/composables\";\n\nimport type { MenuChildItem, MenuComponent, MenuItemComponent } from \"./types\";\nimport type { MenuProps } from \"./props\";\n\n/**\n * A simple menu, for any type of vertical navigation.\n * @displayName Menu\n * @requires ./MenuItem.vue\n * @style _menu.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OMenu\",\n    configField: \"menu\",\n});\n\ntype ModelValue = MenuProps<T>[\"modelValue\"];\n\nconst props = withDefaults(defineProps<MenuProps<T>>(), {\n    override: undefined,\n    modelValue: undefined,\n    options: undefined,\n    label: undefined,\n    accordion: true,\n    disabled: false,\n    menuId: () => useId(),\n    labelId: () => useId(),\n    role: () => getDefault(\"menu.role\", \"tree\"),\n    icon: undefined,\n    iconPack: () => getDefault(\"menu.iconPack\"),\n    iconSize: () => getDefault(\"menu.iconSize\"),\n});\n\ndefineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {T} updated modelValue prop\n     */\n    \"update:model-value\": [value: ModelValue];\n}>();\n\nconst rootRef = useTemplateRef(\"rootElement\");\n\n// provided data is a computed ref to ensure reactivity\nconst provideData = computed<MenuComponent<T>>(() => ({\n    focsuedIdentifier: focusedItem.value?.identifier,\n    menuId: props.menuId,\n    accordion: props.accordion,\n    disabled: props.disabled,\n    role: props.role,\n    nextSequence,\n    resetMenu,\n    selectItem,\n}));\n\n/** provide functionalities and data to child item components */\nconst { childItems } = useProviderParent<\n    MenuItemComponent<T>,\n    MenuComponent<T>\n>({ rootRef, data: provideData });\n\n// create a unique id sequence\nconst { nextSequence } = useSequentialId();\n\n/** normalized programamtic options */\nconst normalizedOptions = computed(() =>\n    normalizeOptions<T>(props.options, nextSequence),\n);\n\n/** call reset for every menu item excluding the given one */\nfunction resetMenu(\n    excludedItems: ProviderItem<MenuItemComponent<T>>[] = [],\n): void {\n    childItems.value.forEach((item) => {\n        if (!excludedItems.map((i) => i?.identifier).includes(item.identifier))\n            item.data?.reset();\n    });\n}\n\n// #region --- Select Feature ---\n\n/** The selected item value, use v-model to make it two-way binding */\nconst vmodel = defineModel<ModelValue>({ default: undefined });\n\nconst selectedItem = ref<MenuChildItem<T>>();\n\nfunction selectItem(\n    item: ProviderItem<MenuItemComponent<T>> | undefined,\n): void {\n    const value = item?.data?.value;\n    if (vmodel.value == value) return;\n    vmodel.value = value;\n    selectedItem.value = item;\n}\n\n// #endregion --- Select Feature ---\n\n// #region --- Focus Feature ---\n\nconst focusedItem = ref<MenuChildItem<T>>();\n\n/** is any option visible */\nconst isNotEmpty = computed(() => childItems.value.some(isItemViable));\n\nfunction onCollapse(): void {\n    if (!focusedItem.value) return;\n\n    // collapse the item if already expanded\n    if (focusedItem.value.data?.expanded)\n        focusedItem.value.data?.setExpand(false);\n    // else move focus to the previus item\n    else moveFocus(-1);\n}\n\nfunction onExpend(): void {\n    if (!focusedItem.value) return;\n\n    // expand the item if not already expanded\n    if (\n        focusedItem.value.data?.hasChildren &&\n        !focusedItem.value.data?.expanded\n    )\n        focusedItem.value.data?.setExpand(true);\n    // else move focus to the next item\n    else moveFocus(1);\n}\n\n/** Set focus on a dropdown item. */\nfunction setFocus(item: MenuChildItem<T>): void {\n    focusedItem.value = item;\n}\n\n/** Set focus on a tab item. */\nfunction moveFocus(delta: 1 | -1): void {\n    if (!isNotEmpty.value) return;\n    const item = getFirstViableItem(focusedItem.value?.index || 0, delta);\n    setFocus(item);\n}\n\nfunction onUpPressed(): void {\n    moveFocus(-1);\n}\n\nfunction onDownPressed(): void {\n    moveFocus(1);\n}\n\nfunction onEnter(event: Event): void {\n    if (!focusedItem.value) return;\n    setFocus(focusedItem.value);\n    focusedItem.value.data?.selectItem(event);\n}\n\n/** Go to the first viable item */\nfunction onHomePressed(): void {\n    if (!isNotEmpty.value) return;\n    const item = getFirstViableItem(0, 1);\n    setFocus(item);\n}\n\n/** Go to the last viable item */\nfunction onEndPressed(): void {\n    if (!isNotEmpty.value) return;\n    const item = getFirstViableItem(childItems.value.length - 1, -1);\n    setFocus(item);\n}\n\n/**\n * Get the first 'viable' child, starting at startingIndex and in the direction specified\n * by the boolean parameter forward. In other words, first try to select the child at index\n * startingIndex, and if it is not visible or it is disabled, then go to the index in the\n * specified direction until either returning to startIndex or finding a viable child item.\n */\nfunction getFirstViableItem(\n    startingIndex: number,\n    delta: 1 | -1,\n): MenuChildItem<T> {\n    let newIndex = mod(\n        focusedItem.value?.index == startingIndex\n            ? startingIndex + delta\n            : startingIndex,\n        childItems.value.length,\n    );\n    for (\n        ;\n        newIndex !== focusedItem.value?.index;\n        newIndex = mod(newIndex + delta, childItems.value.length)\n    ) {\n        // Break if the item at this index is viable (not disabled)\n        if (isItemViable(childItems.value[newIndex])) break;\n    }\n\n    return childItems.value[newIndex];\n}\n\nfunction isItemViable(item: MenuChildItem<T>): boolean {\n    return (\n        !item.data?.disabled &&\n        !item.data?.hidden &&\n        (item.data?.parent?.expanded ?? true)\n    );\n}\n\nfunction onFocusLeave(): void {\n    focusedItem.value = undefined;\n}\n\n// #endregion --- Focus Feature ---\n\n// #region --- Computed Component Classes ---\n\nconst rootClasses = defineClasses([\"rootClass\", \"o-menu\"]);\n\nconst listClasses = defineClasses([\"listClass\", \"o-menu__list\"]);\n\nconst labelClasses = defineClasses([\"labelClass\", \"o-menu__label\"]);\n\n// #endregion --- Computed Component Classes ---\n</script>\n\n<template>\n    <nav\n        ref=\"rootElement\"\n        data-oruga=\"menu\"\n        :class=\"rootClasses\"\n        @focusout=\"onFocusLeave\">\n        <div v-if=\"label || $slots.label\" :id=\"labelId\" :class=\"labelClasses\">\n            <!-- \n                @slot Override icon and label\n                @binding {T} focused - the focused item value\n                @binding {number} focusedIndex - index of the focused item\n                @binding {T} selected - the selected item value\n                @binding {number} selectedIndex - index of the selected item\n            -->\n            <slot\n                name=\"label\"\n                :focused=\"focusedItem?.data\"\n                :focused-index=\"focusedItem?.index\"\n                :selected=\"selectedItem?.data\"\n                :selected-index=\"selectedItem?.index\">\n                <o-icon\n                    v-if=\"icon\"\n                    :icon=\"icon\"\n                    :pack=\"iconPack\"\n                    :size=\"iconSize\" />\n                <span>{{ label }}</span>\n            </slot>\n        </div>\n\n        <ul\n            :id=\"menuId\"\n            :class=\"listClasses\"\n            :role=\"role\"\n            :tabindex=\"0\"\n            :aria-labelledby=\"labelId\"\n            @keydown.left=\"onCollapse\"\n            @keydown.right=\"onExpend\"\n            @keydown.enter.prevent=\"onEnter\"\n            @keydown.space.prevent=\"onEnter\"\n            @keydown.up.prevent=\"onUpPressed\"\n            @keydown.down.prevent=\"onDownPressed\"\n            @keydown.home.prevent=\"onHomePressed\"\n            @keydown.end.prevent=\"onEndPressed\">\n            <!--\n                @slot Place menu items here \n                @binding {T} focused - the focused item value\n                @binding {number} focusedIndex - index of the focused item\n                @binding {T} selected - the selected item value\n                @binding {number} selectedIndex - index of the selected item\n            -->\n            <slot\n                :focused=\"focusedItem?.data\"\n                :focused-index=\"focusedItem?.index\"\n                :selected=\"selectedItem?.data\"\n                :selected-index=\"selectedItem?.index\">\n                <template v-for=\"option in normalizedOptions\" :key=\"option.key\">\n                    <OMenuItem\n                        v-if=\"isGroupOption(option)\"\n                        v-bind=\"option.attrs\"\n                        :label=\"option.label\"\n                        :hidden=\"option.hidden\">\n                        <OMenuItem\n                            v-for=\"_option in option.options\"\n                            v-bind=\"_option.attrs\"\n                            :key=\"_option.key\"\n                            :value=\"_option.value\"\n                            :label=\"_option.label\"\n                            :hidden=\"_option.hidden\" />\n                    </OMenuItem>\n\n                    <OMenuItem\n                        v-else\n                        v-bind=\"option.attrs\"\n                        :value=\"option.value\"\n                        :label=\"option.label\"\n                        :hidden=\"option.hidden\" />\n                </template>\n            </slot>\n        </ul>\n    </nav>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Menu from \"./Menu.vue\";\nimport MenuItem from \"./MenuItem.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export menu plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Menu);\n        registerComponent(app, MenuItem);\n    },\n} as Plugin;\n\n/** export menu components */\nexport { Menu as OMenu, MenuItem as OMenuItem };\n","<script setup lang=\"ts\" generic=\"C extends Component\">\nimport {\n    ref,\n    computed,\n    watch,\n    nextTick,\n    onMounted,\n    useTemplateRef,\n    type Component,\n} from \"vue\";\n\nimport OIcon from \"../icon/Icon.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { toCssDimension } from \"@/utils/helpers\";\nimport { isClient } from \"@/utils/ssr\";\nimport {\n    defineClasses,\n    useClickOutside,\n    useEventListener,\n    useMatchMedia,\n    usePreventScrolling,\n    useTeleportDefault,\n    useTrapFocus,\n} from \"@/composables\";\n\nimport type { ModalProps } from \"./props\";\n\n/**\n * Classic modal overlay to include any content you may need.\n * @displayName Modal\n * @style _modal.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OModal\",\n    configField: \"modal\",\n    inheritAttrs: false,\n});\n\nconst props = withDefaults(defineProps<ModalProps<C>>(), {\n    override: undefined,\n    active: false,\n    fullScreen: false,\n    content: undefined,\n    width: () => getDefault(\"modal.width\", 960),\n    animation: () => getDefault(\"modal.animation\", \"zoom-out\"),\n    overlay: () => getDefault(\"modal.overlay\", true),\n    cancelable: () =>\n        getDefault(\"modal.cancelable\", [\"escape\", \"x\", \"outside\"]),\n    trapFocus: () => getDefault(\"modal.trapFocus\", true),\n    role: () => getDefault(\"modal.role\", \"dialog\"),\n    ariaLabel: () => getDefault(\"modal.ariaLabel\"),\n    autoFocus: () => getDefault(\"modal.autoFocus\", true),\n    closeIcon: () => getDefault(\"modal.closeIcon\", \"close\"),\n    closeIconSize: () => getDefault(\"modal.closeIconSize\", \"medium\"),\n    mobileBreakpoint: () => getDefault(\"modal.mobileBreakpoint\"),\n    teleport: () => getDefault(\"modal.teleport\", false),\n    clipScroll: () => getDefault(\"modal.clipScroll\", false),\n    component: undefined,\n    props: undefined,\n    events: undefined,\n});\n\nconst emits = defineEmits<{\n    /**\n     * active prop two-way binding\n     * @param value {boolean} - updated active prop\n     */\n    \"update:active\": [value: boolean];\n    /**\n     * on component close event\n     * @param value {unknown} - close event data\n     */\n    close: [...args: unknown[]];\n}>();\n\nconst { vTrapFocus } = useTrapFocus();\n\nconst rootRef = useTemplateRef(\"rootElement\");\nconst contentRef = useTemplateRef(\"contentElement\");\n\nconst isActive = defineModel<boolean>(\"active\", { default: false });\n\nconst { isMobile } = useMatchMedia(props.mobileBreakpoint);\n\nconst _teleport = computed(() =>\n    typeof props.teleport === \"boolean\"\n        ? { to: useTeleportDefault(), disabled: !props.teleport }\n        : { to: props.teleport, disabled: false },\n);\n\nconst showX = computed(() =>\n    Array.isArray(props.cancelable)\n        ? props.cancelable.indexOf(\"x\") >= 0\n        : props.cancelable,\n);\n\nconst customStyle = computed(() =>\n    !props.fullScreen ? { maxWidth: toCssDimension(props.width) } : null,\n);\n\nconst toggleScroll = usePreventScrolling(props.clipScroll);\n\nwatch(isActive, (value) => {\n    if (props.overlay) toggleScroll(value);\n    // if autoFocus focus the element\n    if (value && props.autoFocus)\n        nextTick(() => {\n            if (rootRef.value) rootRef.value.focus();\n        });\n});\n\nonMounted(() => {\n    if (isActive.value && props.overlay) toggleScroll(isActive.value);\n});\n\n// --- Events Feature ---\n\nif (isClient) {\n    // register onKeyPress event listener when is active\n    useEventListener(rootRef, \"keyup\", onKeyPress, { trigger: isActive });\n\n    if (!props.overlay)\n        // register outside click event listener when is active\n        useClickOutside(contentRef, onClickedOutside, {\n            trigger: isActive,\n        });\n}\n\n/** Keypress event that is bound to the document. */\nfunction onKeyPress(event: KeyboardEvent): void {\n    if (!isActive.value) return;\n    if (event.key === \"Escape\" || event.key === \"Esc\") cancel(\"escape\");\n}\n\n/** Close fixed sidebar if clicked outside. */\nfunction onClickedOutside(event: Event): void {\n    if (!isActive.value || isAnimating.value) return;\n    if (\n        props.overlay ||\n        (contentRef.value && !event.composedPath().includes(contentRef.value))\n    )\n        event.preventDefault();\n    cancel(\"outside\");\n}\n\n/**\n * Check if method is cancelable.\n * Call close() with action `cancel`.\n * @param method Cancel method\n */\nfunction cancel(method: string): void {\n    // check if method is cancelable\n    if (\n        (typeof props.cancelable === \"boolean\" && !props.cancelable) ||\n        !props.cancelable ||\n        (Array.isArray(props.cancelable) && !props.cancelable.includes(method))\n    )\n        return;\n    close({ action: \"cancel\", method });\n}\n\n/** set active to false and emit close event */\nfunction close(...args: unknown[]): void {\n    isActive.value = false;\n    emits(\"close\", args);\n}\n\n// --- Animation Feature ---\n\nconst isAnimating = ref(!props.active);\n\n/** Transition after-enter hook */\nfunction afterEnter(): void {\n    isAnimating.value = false;\n}\n\n/** Transition before-leave hook */\nfunction beforeLeave(): void {\n    isAnimating.value = true;\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-modal\"],\n    [\"mobileClass\", \"o-modal--mobile\", null, isMobile],\n    [\"activeClass\", \"o-modal--active\", null, isActive],\n);\n\nconst overlayClasses = defineClasses([\"overlayClass\", \"o-modal__overlay\"]);\n\nconst contentClasses = defineClasses(\n    [\"contentClass\", \"o-modal__content\"],\n    [\n        \"fullScreenClass\",\n        \"o-modal__content--full-screen\",\n        null,\n        computed(() => props.fullScreen),\n    ],\n);\n\nconst closeClasses = defineClasses([\"closeClass\", \"o-modal__close\"]);\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ close });\n</script>\n\n<template>\n    <Teleport :to=\"_teleport.to\" :disabled=\"_teleport.disabled\">\n        <transition\n            :name=\"animation\"\n            @after-enter=\"afterEnter\"\n            @before-leave=\"beforeLeave\">\n            <div\n                v-show=\"isActive\"\n                ref=\"rootElement\"\n                v-bind=\"$attrs\"\n                v-trap-focus=\"isActive && trapFocus\"\n                data-oruga=\"modal\"\n                :class=\"rootClasses\"\n                :tabindex=\"-1\"\n                :role=\"role\"\n                :aria-label=\"ariaLabel\"\n                :aria-modal=\"isActive\">\n                <div\n                    v-if=\"overlay\"\n                    :class=\"overlayClasses\"\n                    tabindex=\"-1\"\n                    @click=\"onClickedOutside\" />\n\n                <div\n                    ref=\"contentElement\"\n                    :class=\"contentClasses\"\n                    :style=\"customStyle\">\n                    <!-- injected component for programmatic usage -->\n                    <component\n                        :is=\"component\"\n                        v-if=\"component\"\n                        v-bind=\"$props.props\"\n                        v-on=\"$props.events || {}\"\n                        @close=\"close\" />\n                    <!--\n                        @slot Modal default content, default is content prop\n                        @binding {(...args): void} close - function to close the component\n                    -->\n                    <slot v-else :close=\"close\">\n                        <div v-if=\"content\">{{ content }}</div>\n                    </slot>\n\n                    <o-icon\n                        v-if=\"showX\"\n                        v-show=\"!isAnimating\"\n                        clickable\n                        both\n                        :class=\"closeClasses\"\n                        :icon=\"closeIcon\"\n                        :size=\"closeIconSize\"\n                        @click=\"cancel('x')\" />\n                </div>\n            </div>\n        </transition>\n    </Teleport>\n</template>\n","import {\n    type Component,\n    type ComponentInternalInstance,\n    type MaybeRefOrGetter,\n} from \"vue\";\nimport {\n    InstanceRegistry,\n    ComponentProgrammatic,\n    type ProgrammaticComponentOptions,\n    type ProgrammaticExpose,\n} from \"../programmatic\";\n\nimport Modal from \"./Modal.vue\";\n\nimport type { ModalProps } from \"./props\";\n\ndeclare module \"../../index\" {\n    interface OrugaProgrammatic {\n        modal: typeof ModalProgrammatic;\n    }\n}\n\n/** modal component programmatic instance registry **/\nconst registry = new InstanceRegistry<ComponentInternalInstance>();\n\n/** useModalProgrammatic composable options */\nexport type ModalProgrammaticOptions<C extends Component> = Readonly<\n    ModalProps<C>\n> &\n    ProgrammaticComponentOptions;\n\nconst ModalProgrammatic = {\n    /** Returns the number of registered active instances. */\n    count: registry.count,\n    /**\n     * Create a new programmatic modal component instance.\n     * @param options modal content string or modal component props object\n     * @param target specify a target the component get rendered into - default is `document.body`\n     * @returns ProgrammaticExpose\n     */\n    open<C extends Component>(\n        options: string | ModalProgrammaticOptions<C>,\n        target?: MaybeRefOrGetter<string | HTMLElement | null>,\n    ): ProgrammaticExpose {\n        const _options: ModalProgrammaticOptions<C> =\n            typeof options === \"string\" ? { content: options } : options;\n\n        const componentProps: ModalProps<C> = {\n            active: true, // set the active default state to true\n            ...(_options as ModalProps<C>),\n        };\n\n        // create programmatic component\n        return ComponentProgrammatic.open(Modal, {\n            registry, // custom programmatic instance registry\n            target, // target the component get rendered into\n            props: componentProps, // component specific props\n            onClose: _options.onClose, // on close event handler\n        });\n    },\n    /** Close the last registred instance in the modal programmatic instance registry. */\n    close(...args: unknown[]): void {\n        registry.last()?.exposed?.close(...args);\n    },\n    /** Close all instances in the programmatic modal instance registry. */\n    closeAll(...args: unknown[]): void {\n        registry.walk((entry) => entry.exposed?.close(...args));\n    },\n};\n\nexport default ModalProgrammatic;\n","import type { App, Plugin } from \"vue\";\n\nimport Modal from \"./Modal.vue\";\nimport ModalProgrammatic from \"./useModalProgrammatic\";\n\nimport {\n    registerComponent,\n    registerComponentProgrammatic,\n} from \"@/utils/plugins\";\n\n/** export modal specific types */\nexport type { ModalProgrammaticOptions } from \"./useModalProgrammatic\";\n\n/** export modal plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Modal);\n        registerComponentProgrammatic(app, \"modal\", ModalProgrammatic);\n    },\n} as Plugin;\n\n/** export modal components & composables */\nexport { Modal as OModal, ModalProgrammatic };\n","<script setup lang=\"ts\">\nimport { computed } from \"vue\";\n\nimport OIcon from \"../icon/Icon.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { defineClasses } from \"@/composables\";\n\nimport type { NotificationProps } from \"./props\";\n\n/**\n * Bold notification blocks to alert your users of something.\n * @displayName Notification\n * @requires ./NotificationNotice.vue\n * @style _notification.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"ONotification\",\n    configField: \"notification\",\n    inheritAttrs: false,\n});\n\nconst props = withDefaults(defineProps<NotificationProps>(), {\n    override: undefined,\n    message: undefined,\n    active: true,\n    type: undefined,\n    variant: () => getDefault(\"notification.variant\"),\n    position: () => getDefault(\"notification.position\", \"top\"),\n    animation: () => getDefault(\"notification.animation\", \"fade\"),\n    icon: undefined,\n    iconPack: () => getDefault(\"notification.iconPack\"),\n    iconSize: () => getDefault(\"notification.iconSize\", \"large\"),\n    closable: false,\n    closeIcon: () => getDefault(\"notification.closeIcon\", \"close\"),\n    closeIconSize: () => getDefault(\"notification.closeIconSize\"),\n    ariaCloseLabel: () => getDefault(\"notification.ariaCloseLabel\", \"Close\"),\n});\n\nconst emits = defineEmits<{\n    /**\n     * active prop two-way binding\n     * @param value {boolean} - updated active prop\n     */\n    \"update:active\": [value: boolean];\n    /**\n     * on component close event\n     * @param value {unknown} - close event data\n     */\n    close: [...args: unknown[]];\n}>();\n\nconst isActive = defineModel<boolean>(\"active\", { default: true });\n\n/** Icon name (MDI) based on type. */\nconst computedIcon = computed(() => {\n    if (props.icon) return props.icon;\n\n    switch (props.type) {\n        case \"info\":\n            return \"information\";\n        case \"success\":\n            return \"check-circle\";\n        case \"warning\":\n            return \"alert\";\n        case \"danger\":\n            return \"alert-circle\";\n        default:\n            return null;\n    }\n});\n\n/** set active to false and emit close event */\nfunction close(...args: unknown[]): void {\n    isActive.value = false;\n    emits(\"close\", ...args);\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-notification\"],\n    [\n        \"variantClass\",\n        \"o-notification--\",\n        computed(() => props.variant),\n        computed(() => !!props.variant),\n    ],\n    [\n        \"positionClass\",\n        \"o-notification--\",\n        computed(() => props.position),\n        computed(() => !!props.position),\n    ],\n);\n\nconst wrapperClasses = defineClasses([\n    \"wrapperClass\",\n    \"o-notification__wrapper\",\n]);\n\nconst iconClasses = defineClasses([\"iconClass\", \"o-notification__icon\"]);\n\nconst contentClasses = defineClasses([\n    \"contentClass\",\n    \"o-notification__content\",\n]);\n\nconst closeClasses = defineClasses([\"closeClass\", \"o-notification__close\"]);\n</script>\n\n<template>\n    <transition :name=\"animation\">\n        <article\n            v-show=\"isActive\"\n            v-bind=\"$attrs\"\n            data-oruga=\"notification\"\n            :class=\"rootClasses\">\n            <button\n                v-if=\"closable\"\n                :class=\"closeClasses\"\n                type=\"button\"\n                :aria-label=\"ariaCloseLabel\"\n                @click=\"close({ action: 'close', method: 'x' })\">\n                <o-icon\n                    clickable\n                    :pack=\"iconPack\"\n                    :icon=\"closeIcon\"\n                    :size=\"closeIconSize\"\n                    both />\n            </button>\n\n            <!--\n                @slot Notification inner content, outside of the message container\n                @binding {(...args): void} close - function to close the notification\n            -->\n            <slot name=\"inner\" :close=\"close\" />\n\n            <div v-if=\"$slots.default || message\" :class=\"wrapperClasses\">\n                <o-icon\n                    v-if=\"computedIcon\"\n                    :icon=\"computedIcon\"\n                    :pack=\"iconPack\"\n                    :class=\"iconClasses\"\n                    :size=\"iconSize\"\n                    both\n                    aria-hidden />\n                <div :class=\"contentClasses\">\n                    <!--\n                        @slot Notification default content, default is message prop\n                        @binding {(...args): void} close - function to close the notification\n                    -->\n                    <slot :close=\"close\">\n                        <span v-if=\"message\">{{ message }} </span>\n                    </slot>\n                </div>\n            </div>\n        </article>\n    </transition>\n</template>\n","<script setup lang=\"ts\" generic=\"C extends Component\">\nimport {\n    computed,\n    ref,\n    onMounted,\n    onBeforeMount,\n    useTemplateRef,\n    type Component,\n} from \"vue\";\n\nimport ONotification from \"./Notification.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { defineClasses, getActiveClasses } from \"@/composables\";\n\nimport type { NotificationNoticeProps } from \"./props\";\n\n/**\n * Notification Notice is an extension of the Notification component and is used for the programmatic usage.\n * @displayName Notification Notice\n */\ndefineOptions({\n    isOruga: true,\n    name: \"ONotificationNotice\",\n    configField: \"notification\",\n    inheritAttrs: false,\n});\n\nconst props = withDefaults(defineProps<NotificationNoticeProps<C>>(), {\n    override: undefined,\n    container: undefined,\n    variant: () => getDefault(\"notification.variant\"),\n    position: () => getDefault(\"notification.position\", \"top\"),\n    duration: () => getDefault(\"notification.duration\", 2000),\n    infinite: false,\n    queue: () => getDefault(\"notification.queue\"),\n    component: undefined,\n    props: undefined,\n    events: undefined,\n});\n\nconst emits = defineEmits<{\n    /**\n     * on component close event\n     * @param value {unknown} - close event data\n     */\n    close: [...args: unknown[]];\n}>();\n\nconst notificationRef = useTemplateRef(\"notificationComponent\");\n\nconst isActive = ref(true);\n\nconst parentTop = ref<Element | null>(null);\nconst parentBottom = ref<Element | null>(null);\n\nconst timer = ref();\n\n/** Create or inject notice dom container elements. */\nonBeforeMount(() => {\n    if (\n        noticeClasses.value &&\n        positionBottomClasses.value &&\n        positionTopClasses.value\n    ) {\n        const rootClasses = getActiveClasses(noticeClasses.value);\n        const topClasses = getActiveClasses(positionTopClasses.value);\n        const bottomClasses = getActiveClasses(positionBottomClasses.value);\n\n        parentTop.value = props.container.querySelector(\n            `.${rootClasses.join(\".\")}.${topClasses.join(\".\")}`,\n        );\n        parentBottom.value = props.container.querySelector(\n            `.${rootClasses.join(\".\")}.${bottomClasses.join(\".\")}`,\n        );\n\n        if (parentTop.value && parentBottom.value) return;\n\n        // create notices top container if not alread there\n        if (!parentTop.value) {\n            parentTop.value = document.createElement(\"div\");\n            parentTop.value.className = `${rootClasses.join(\n                \" \",\n            )} ${topClasses.join(\" \")}`;\n            parentTop.value.role = \"region\";\n            parentTop.value.ariaLive = \"polite\";\n        }\n\n        // create notices bottom container if not alread there\n        if (!parentBottom.value) {\n            parentBottom.value = document.createElement(\"div\");\n            parentBottom.value.className = `${rootClasses.join(\n                \" \",\n            )} ${bottomClasses.join(\" \")}`;\n            parentBottom.value.role = \"region\";\n            parentBottom.value.ariaLive = \"polite\";\n        }\n\n        // append notices top and bottom container to given container\n        props.container.appendChild(parentTop.value);\n        props.container.appendChild(parentBottom.value);\n\n        if (props.container.tagName !== \"BODY\") {\n            const classes = getActiveClasses(noticeContainerClasses.value);\n            if (classes?.length)\n                classes\n                    .filter((c) => !!c)\n                    .forEach((c: string) => {\n                        parentTop.value?.classList.add(c);\n                        parentBottom.value?.classList.add(c);\n                    });\n        }\n    }\n});\n\nonMounted(() => {\n    showNotice();\n    setAutoClose();\n});\n\nconst correctParent = computed(() => {\n    switch (props.position) {\n        case \"top-right\":\n        case \"top\":\n        case \"top-left\":\n            return parentTop.value;\n\n        case \"bottom-right\":\n        case \"bottom\":\n        case \"bottom-left\":\n            return parentBottom.value;\n        default:\n            return null;\n    }\n});\n\nconst shouldQueue = computed(() =>\n    props.queue && parentTop.value && parentBottom.value\n        ? parentTop.value.childElementCount > 0 ||\n          parentBottom.value.childElementCount > 0\n        : false,\n);\n\nconst isAlert = computed(\n    () => props.variant === \"warning\" || props.variant === \"danger\",\n);\n\n/** move the rendered component template into the correct parent container */\nfunction showNotice(): void {\n    if (!correctParent.value) return;\n\n    if (shouldQueue.value) correctParent.value.innerHTML = \"\";\n    correctParent.value.insertAdjacentElement(\n        \"afterbegin\",\n        notificationRef.value?.$el,\n    );\n}\n\n/** Set timer to auto close message */\nfunction setAutoClose(): void {\n    if (!props.infinite) {\n        // clear old timer\n        if (timer.value) clearTimeout(timer.value);\n        // set new timer\n        timer.value = setTimeout(() => {\n            if (isActive.value) close({ action: \"close\", method: \"timeout\" });\n        }, props.duration);\n    }\n}\n\n/** set active to false and emit close event */\nfunction close(...args: unknown[]): void {\n    isActive.value = false;\n    if (timer.value) clearTimeout(timer.value);\n    emits(\"close\", args);\n}\n\n// --- Computed Component Classes ---\n\nconst noticeClasses = defineClasses([\"noticeClass\", \"o-notices\"]);\n\nconst positionTopClasses = defineClasses([\n    \"noticePositionClass\",\n    \"o-notices--\",\n    \"top\",\n]);\nconst positionBottomClasses = defineClasses([\n    \"noticePositionClass\",\n    \"o-notices--\",\n    \"bottom\",\n]);\n\nconst noticeContainerClasses = defineClasses([\n    \"noticeContainerClass\",\n    \"o-notices__container\",\n]);\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ close });\n</script>\n\n<template>\n    <o-notification\n        ref=\"notificationComponent\"\n        v-bind=\"$attrs\"\n        v-model:active=\"isActive\"\n        :override=\"override\"\n        :position=\"position\"\n        :variant=\"variant\"\n        :role=\"isAlert ? 'alert' : 'status'\"\n        :aria-atomic=\"true\"\n        @close=\"close\">\n        <template #inner=\"{ close }\">\n            <!-- injected component for programmatic usage -->\n            <component\n                v-bind=\"$props.props\"\n                :is=\"component\"\n                v-if=\"component\"\n                v-on=\"$props.events || {}\"\n                @close=\"close\" />\n        </template>\n        <slot />\n    </o-notification>\n</template>\n","import type {\n    Component,\n    ComponentInternalInstance,\n    MaybeRefOrGetter,\n} from \"vue\";\nimport {\n    InstanceRegistry,\n    ComponentProgrammatic,\n    type ProgrammaticComponentOptions,\n    type ProgrammaticExpose,\n} from \"../programmatic\";\nimport { getOption } from \"@/utils/config\";\n\nimport NotificationNotice from \"./NotificationNotice.vue\";\n\nimport type { NotificationProps, NotificationNoticeProps } from \"./props\";\n\ndeclare module \"../../index\" {\n    interface OrugaProgrammatic {\n        notification: typeof NotificationProgrammatic;\n    }\n}\n\n/** notification component programmatic instance registry */\nconst registry = new InstanceRegistry<ComponentInternalInstance>();\n\n/** useNotificationProgrammatic composable options */\nexport type NotificationProgrammaticOptions<C extends Component> = Readonly<\n    Omit<NotificationNoticeProps<C> & NotificationProps, \"container\">\n> &\n    ProgrammaticComponentOptions;\n\nconst NotificationProgrammatic = {\n    /** Returns the number of registered active instances. */\n    count: registry.count,\n    /**\n     * Create a new programmatic notification component instance.\n     * @param options notification message string or notification component props object\n     * @param target specify a target the component get rendered into - default is `document.body`\n     * @returns ProgrammaticExpose\n     */\n    open<C extends Component>(\n        options: string | NotificationProgrammaticOptions<C>,\n        target?: MaybeRefOrGetter<string | HTMLElement | null>,\n    ): ProgrammaticExpose {\n        const _options: NotificationProgrammaticOptions<C> =\n            typeof options === \"string\" ? { message: options } : options;\n\n        const componentProps: NotificationNoticeProps<C> = {\n            position: getOption(\"notification.position\", \"top-right\"),\n            container: document.body,\n            ..._options, // pass all props to the internal notification component\n        };\n\n        // create programmatic component\n        return ComponentProgrammatic.open(NotificationNotice, {\n            registry, // custom programmatic instance registry\n            target, // target the component get rendered into\n            props: componentProps, // component specific props\n            onClose: _options.onClose, // on close event handler\n        });\n    },\n    /** Close the last registred instance in the notification programmatic instance registry. */\n    close(...args: unknown[]): void {\n        registry.last()?.exposed?.close(...args);\n    },\n    /** Close all instances in the programmatic notification instance registry. */\n    closeAll(...args: unknown[]): void {\n        registry.walk((entry) => entry.exposed?.close(...args));\n    },\n};\n\nexport default NotificationProgrammatic;\n","import type { App, Plugin } from \"vue\";\n\nimport Notification from \"./Notification.vue\";\nimport NotificationProgrammatic from \"./useNotificationProgrammatic\";\n\nimport {\n    registerComponent,\n    registerComponentProgrammatic,\n} from \"@/utils/plugins\";\n\n/** export notification specific types */\nexport type { NotificationProgrammaticOptions } from \"./useNotificationProgrammatic\";\n\n/** export notification plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Notification);\n        registerComponentProgrammatic(\n            app,\n            \"notification\",\n            NotificationProgrammatic,\n        );\n    },\n} as Plugin;\n\n/** export notification components & composables */\nexport { Notification as ONotification, NotificationProgrammatic };\n","<script setup lang=\"ts\">\nimport { computed, type PropType } from \"vue\";\n\nimport type { ClassBind, DynamicComponent } from \"@/types\";\n\ndefineOptions({\n    isOruga: true,\n    name: \"OPaginationButton\",\n    configField: \"pagination\",\n});\n\nconst props = defineProps({\n    number: { type: Number, default: undefined },\n    isCurrent: { type: Boolean, default: false },\n    ariaLabel: { type: String, default: undefined },\n    disabled: { type: Boolean, default: false },\n    tag: {\n        type: [String, Object, Function] as PropType<DynamicComponent>,\n        default: \"button\" as DynamicComponent,\n    },\n    rootClass: { type: Array as PropType<ClassBind[]>, default: () => [] },\n    buttonClass: {\n        type: Array as PropType<ClassBind[]>,\n        required: true,\n    },\n    buttonCurrentClass: {\n        type: Array as PropType<ClassBind[]>,\n        required: true,\n    },\n});\n\ndefineEmits<{\n    click: [event: Event];\n}>();\n\n// --- Computed Component Classes ---\n\nconst classes = computed(() => [\n    ...props.rootClass,\n    ...props.buttonClass,\n    ...(props.isCurrent ? props.buttonCurrentClass : []),\n]);\n</script>\n\n<template>\n    <component\n        :is=\"tag\"\n        role=\"button\"\n        :tabindex=\"disabled ? undefined : 0\"\n        :disabled=\"disabled\"\n        :class=\"classes\"\n        :aria-label=\"ariaLabel\"\n        :aria-current=\"isCurrent\"\n        @click.prevent=\"$emit('click', $event)\"\n        @keydown.enter.prevent=\"$emit('click', $event)\">\n        <slot>{{ number }}</slot>\n    </component>\n</template>\n","<script setup lang=\"ts\">\nimport { computed, watch, nextTick } from \"vue\";\n\nimport OPaginationButton from \"./PaginationButton.vue\";\nimport OIcon from \"../icon/Icon.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { defineClasses, useMatchMedia } from \"@/composables\";\n\nimport type { PaginationProps } from \"./props\";\nimport type { DynamicComponent } from \"@/types\";\n\n/**\n * A responsive and flexible pagination.\n * @displayName Pagination\n * @style _pagination.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OPagination\",\n    configField: \"pagination\",\n    inheritAttrs: false,\n});\n\nconst props = withDefaults(defineProps<PaginationProps>(), {\n    override: undefined,\n    total: undefined,\n    perPage: () => getDefault(\"pagination.perPage\", 20),\n    current: 1,\n    rangeBefore: 1,\n    rangeAfter: 1,\n    size: () => getDefault(\"pagination.size\"),\n    simple: () => getDefault(\"pagination.simple\", false),\n    rounded: () => getDefault(\"pagination.rounded\", false),\n    order: () => getDefault(\"pagination.order\", \"right\"),\n    buttonTag: () => getDefault(\"pagination.buttonTag\", \"button\"),\n    iconPack: () => getDefault(\"pagination.iconPack\"),\n    iconPrev: () => getDefault(\"pagination.iconPrev\", \"chevron-left\"),\n    iconNext: () => getDefault(\"pagination.iconNext\", \"chevron-right\"),\n    mobileBreakpoint: () => getDefault(\"pagination.mobileBreakpoint\"),\n    ariaNextLabel: () => getDefault(\"pagination.ariaNextLabel\", \"Next page\"),\n    ariaPreviousLabel: () =>\n        getDefault(\"pagination.ariaPreviousLabel\", \"Previous page\"),\n    ariaPageLabel: () => getDefault(\"pagination.ariaPageLabel\", \"Page\"),\n    ariaCurrentLabel: () =>\n        getDefault(\"pagination.ariaCurrentLabel\", \"Current page\"),\n});\n\nconst emits = defineEmits<{\n    /**\n     * current prop two-way binding\n     * @param value {number} updated current prop\n     */\n    \"update:current\": [value: number];\n    /**\n     * on current change event\n     * @param value {number} current value\n     */\n    change: [event: number];\n}>();\n\nconst { isMobile } = useMatchMedia(props.mobileBreakpoint);\n\nconst currentPage = defineModel<number>(\"current\", { default: 1 });\n\n/** Total page size (count). */\nconst pageCount = computed(() =>\n    Math.ceil((props.total || 0) / Number(props.perPage)),\n);\n\n/** If current page is trying to be greater than page count, set to last. */\nwatch(\n    () => pageCount.value,\n    (value) => {\n        if (props.current > value) last(new Event(\"change\"));\n    },\n);\n\n/** First item of the page (count). */\nconst firstItem = computed(() => {\n    const perPage = Number(props.perPage);\n    const firstItem = props.current * perPage - perPage + 1;\n    return firstItem >= 0 ? firstItem : 0;\n});\n\n/** Check if this is the first page. */\nconst isFirst = computed(() => props.current <= 1);\n\n/** Check if first page button should be visible. */\nconst hasFirst = computed(() => props.current >= props.rangeBefore + 2);\n\n/** Check if first ellipsis should be visible. */\nconst hasFirstEllipsis = computed(() => props.current >= props.rangeBefore + 4);\n\n/** Check if this is the last page. */\nconst isLast = computed(() => props.current >= pageCount.value);\n\n/** Check if last page button should be visible. */\nconst hasLast = computed(\n    () => props.current <= pageCount.value - (1 + props.rangeAfter),\n);\n\n/** Check if last ellipsis should be visible. */\nconst hasLastEllipsis = computed(\n    () => props.current < pageCount.value - (2 + props.rangeAfter),\n);\n\n/**\n * Get near pages, 1 before and 1 after the current.\n * Also add the click event to the array.\n */\nconst pagesInRange = computed<ReturnType<typeof getPage>[]>(() => {\n    if (props.simple) return [];\n\n    let left = Math.max(1, props.current - props.rangeBefore);\n    if (left - 1 === 2) {\n        left--; // Do not show the ellipsis if there is only one to hide\n    }\n    let right = Math.min(props.current + props.rangeAfter, pageCount.value);\n    if (pageCount.value - right === 2) {\n        right++; // Do not show the ellipsis if there is only one to hide\n    }\n\n    const pages: ReturnType<typeof getPage>[] = [];\n    for (let i = left; i <= right; i++) {\n        pages.push(getPage(i));\n    }\n    return pages;\n});\n\n/** Get properties for a page */\nfunction getPage(\n    num: number,\n    ariaLabel?: string,\n): {\n    number: number;\n    isCurrent: boolean;\n    onClick: (event: Event) => void;\n    ariaLabel: string;\n    tag: DynamicComponent;\n} {\n    return {\n        number: num,\n        isCurrent: props.current === num,\n        onClick: (event: Event): void => changePage(num, event),\n        ariaLabel: ariaLabel || getAriaPageLabel(num, props.current === num),\n        tag: props.buttonTag,\n    };\n}\n\n/** Get text for aria-label according to page number. */\nfunction getAriaPageLabel(pageNumber: number, isCurrent: boolean): string {\n    if (props.ariaPageLabel && (!isCurrent || !props.ariaCurrentLabel))\n        return props.ariaPageLabel + \" \" + pageNumber + \".\";\n    else if (props.ariaPageLabel && isCurrent && props.ariaCurrentLabel)\n        return (\n            props.ariaCurrentLabel +\n            \", \" +\n            props.ariaPageLabel +\n            \" \" +\n            pageNumber +\n            \".\"\n        );\n    return \"\";\n}\n\n/** Previous button click listener. */\nfunction prev(event: Event): void {\n    changePage(props.current - 1, event);\n}\n\n/** Next button click listener. */\nfunction next(event: Event): void {\n    changePage(props.current + 1, event);\n}\n\n/** First button click listener. */\nfunction first(event: Event): void {\n    changePage(1, event);\n}\n\n/** Last button click listener. */\nfunction last(event: Event): void {\n    changePage(pageCount.value, event);\n}\n\nfunction changePage(page: number, event: Event): void {\n    if (props.current === page || page < 1 || page > pageCount.value) return;\n    emits(\"change\", page);\n    currentPage.value = page;\n\n    // Set focus on element to keep tab order\n    if (event && event.target)\n        nextTick(() => (event.target as HTMLElement).focus());\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-pagination\"],\n    [\n        \"orderClass\",\n        \"o-pagination--\",\n        computed(() => props.order),\n        computed(() => !!props.order),\n    ],\n    [\n        \"sizeClass\",\n        \"o-pagination--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\"simpleClass\", \"o-pagination--simple\", null, computed(() => props.simple)],\n    [\"mobileClass\", \"o-pagination--mobile\", null, isMobile],\n);\n\nconst infoClasses = defineClasses([\"infoClass\", \"o-pagination__info\"]);\n\nconst ellipsisClasses = defineClasses([\n    \"ellipsisClass\",\n    \"o-pagination__ellipsis\",\n]);\n\nconst listClasses = defineClasses([\"listClass\", \"o-pagination__list\"]);\n\nconst listItemClasses = defineClasses([\"listItemClass\", \"o-pagination__item\"]);\n\nconst buttonClasses = defineClasses(\n    [\"buttonClass\", \"o-pagination__button\"],\n    [\n        \"roundedClass\",\n        \"o-pagination__button--rounded\",\n        null,\n        computed(() => props.rounded),\n    ],\n);\n\nconst buttonCurrentClasses = defineClasses([\n    \"buttonCurrentClass\",\n    \"o-pagination__button--current\",\n]);\n\nconst buttonPrevClasses = defineClasses(\n    [\"buttonPrevClass\", \"o-pagination__button-previous\"],\n    [\"buttonDisabledClass\", \"o-pagination__button--disabled\", null, isFirst],\n);\n\nconst buttonNextClasses = defineClasses(\n    [\"buttonNextClass\", \"o-pagination__button-next\"],\n    [\"buttonDisabledClass\", \"o-pagination__button--disabled\", null, isLast],\n);\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ last, first, prev, next });\n</script>\n\n<template>\n    <nav data-oruga=\"pagination\" :class=\"rootClasses\">\n        <!-- \n            @slot Previous button slot\n            @binding {number} number - page number \n            @binding {boolean} isCurrent - if page is current\n            @binding {(event:Event): void} onClick - click handler\n            @binding {string} ariaLabel - aria-label attribute\n        -->\n        <slot\n            name=\"previous\"\n            v-bind=\"getPage(currentPage - 1, ariaPreviousLabel)\">\n            <o-pagination-button\n                v-bind=\"getPage(currentPage - 1, ariaPreviousLabel)\"\n                :disabled=\"isFirst\"\n                :root-class=\"buttonPrevClasses\"\n                :button-class=\"buttonClasses\"\n                :button-current-class=\"buttonCurrentClasses\">\n                <o-icon\n                    :icon=\"iconPrev\"\n                    :pack=\"iconPack\"\n                    both\n                    aria-hidden=\"true\" />\n            </o-pagination-button>\n        </slot>\n\n        <!-- \n            @slot Next button slot\n            @binding {number} number - page number \n            @binding {boolean} isCurrent - if page is current\n            @binding {(event:Event): void} onClick - click handler\n            @binding {string} ariaLabel - aria-label attribute\n        -->\n        <slot name=\"next\" v-bind=\"getPage(currentPage + 1, ariaNextLabel)\">\n            <o-pagination-button\n                v-bind=\"getPage(currentPage + 1, ariaNextLabel)\"\n                :disabled=\"isLast\"\n                :root-class=\"buttonNextClasses\"\n                :button-class=\"buttonClasses\"\n                :button-current-class=\"buttonCurrentClasses\">\n                <o-icon\n                    :icon=\"iconNext\"\n                    :pack=\"iconPack\"\n                    both\n                    aria-hidden=\"true\" />\n            </o-pagination-button>\n        </slot>\n\n        <small v-if=\"simple\" :class=\"infoClasses\">\n            <template v-if=\"perPage == 1\">\n                {{ firstItem }} / {{ total }}\n            </template>\n            <template v-else>\n                {{ firstItem }}-{{\n                    Math.min(currentPage * Number(perPage), total)\n                }}\n                /\n                {{ total }}\n            </template>\n        </small>\n\n        <ul v-else :class=\"listClasses\">\n            <!--First-->\n            <li v-if=\"hasFirst\" :class=\"listItemClasses\">\n                <slot v-bind=\"getPage(1)\">\n                    <o-pagination-button\n                        v-bind=\"getPage(1)\"\n                        :button-class=\"buttonClasses\"\n                        :button-current-class=\"buttonCurrentClasses\" />\n                </slot>\n            </li>\n\n            <li v-if=\"hasFirstEllipsis\" :class=\"listItemClasses\">\n                <span :class=\"ellipsisClasses\">&hellip;</span>\n            </li>\n\n            <!--Pages-->\n            <li\n                v-for=\"page in pagesInRange\"\n                :key=\"page.number\"\n                :class=\"listItemClasses\">\n                <slot v-bind=\"page\">\n                    <o-pagination-button\n                        v-bind=\"page\"\n                        :button-class=\"buttonClasses\"\n                        :button-current-class=\"buttonCurrentClasses\" />\n                </slot>\n            </li>\n\n            <!--Last-->\n            <li v-if=\"hasLastEllipsis\" :class=\"listItemClasses\">\n                <span :class=\"ellipsisClasses\">&hellip;</span>\n            </li>\n\n            <li v-if=\"hasLast\" :class=\"listItemClasses\">\n                <!-- \n                    @slot Pagination button slot\n                    @binding {number} number - page number \n                    @binding {boolean} isCurrent - if page is current\n                    @binding {(event:Event): void} onClick - click handler\n                    @binding {string} ariaLabel - aria-label attribute\n                -->\n                <slot v-bind=\"getPage(pageCount)\">\n                    <o-pagination-button\n                        v-bind=\"getPage(pageCount)\"\n                        :button-class=\"buttonClasses\"\n                        :button-current-class=\"buttonCurrentClasses\" />\n                </slot>\n            </li>\n        </ul>\n    </nav>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Pagination from \"./Pagination.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export pagination plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Pagination);\n    },\n} as Plugin;\n\n/** export pagination components */\nexport { Pagination as OPagination };\n","<script setup lang=\"ts\" generic=\"T\">\nimport { computed, useAttrs, useId, useSlots, useTemplateRef } from \"vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { defineClasses, useInputHandler } from \"@/composables\";\n\nimport { injectField } from \"../field/fieldInjection\";\n\nimport type { RadioProps } from \"./props\";\n\n/**\n * Select an option from a set of options.\n * @displayName Radio\n * @style _radio.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"ORadio\",\n    configField: \"radio\",\n    inheritAttrs: false,\n});\n\nconst props = withDefaults(defineProps<RadioProps<T>>(), {\n    override: undefined,\n    modelValue: undefined,\n    id: () => useId(),\n    label: undefined,\n    name: undefined,\n    variant: () => getDefault(\"radio.variant\"),\n    size: () => getDefault(\"radio.size\"),\n    disabled: false,\n    required: false,\n    nativeValue: undefined,\n    autocomplete: () => getDefault(\"radio.autocomplete\", \"off\"),\n    useHtml5Validation: () => getDefault(\"useHtml5Validation\", true),\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {T} updated modelValue prop\n     */\n    \"update:model-value\": [value: T];\n    /**\n     * on input change event\n     * @param value {T} input value\n     * @param event {Event} native event\n     */\n    input: [value: T, event: Event];\n    /**\n     * on input focus event\n     * @param event {Event} native event\n     */\n    focus: [event: Event];\n    /**\n     * on input blur event\n     * @param event {Event} native event\n     */\n    blur: [event: Event];\n    /**\n     * on input invalid event\n     * @param event {Event} native event\n     */\n    invalid: [event: Event];\n}>();\n\nconst inputRef = useTemplateRef(\"inputElement\");\n\n// use form input functionalities\nconst { onBlur, onFocus, onInvalid, setFocus } = useInputHandler(\n    inputRef,\n    emits,\n    props,\n);\n\n// inject parent field component if used inside one\nconst { parentField } = injectField();\n\n// set field labelId or create a unique label id if a label is given\nconst labelId =\n    !!parentField.value || !!props.label || !!useSlots().default\n        ? parentField.value?.labelId || useId()\n        : undefined;\n\n// if no `label` is given and `id` is given set as `for` property on o-field wrapper\nif (!props.label && props.id) parentField.value?.setInputId(props.id);\n\nconst vmodel = defineModel<T>({ default: undefined });\n\nconst isChecked = computed(() => vmodel.value === props.nativeValue);\n\nfunction onInput(event: Event): void {\n    emits(\"input\", vmodel.value, event);\n}\n\n// --- Computed Component Classes ---\n\nconst attrs = useAttrs();\n\nconst inputBind = computed(() => ({\n    ...parentField?.value?.inputAttrs,\n    ...attrs,\n}));\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-radio\"],\n    [\n        \"sizeClass\",\n        \"o-radio--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\n        \"variantClass\",\n        \"o-radio--\",\n        computed(() => props.variant),\n        computed(() => !!props.variant),\n    ],\n    [\n        \"disabledClass\",\n        \"o-radio--disabled\",\n        null,\n        computed(() => props.disabled),\n    ],\n    [\"checkedClass\", \"o-radio--checked\", null, isChecked],\n);\n\nconst inputClasses = defineClasses([\"inputClass\", \"o-radio__input\"]);\n\nconst labelClasses = defineClasses([\"labelClass\", \"o-radio__label\"]);\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ focus: setFocus, value: vmodel });\n</script>\n\n<template>\n    <div data-oruga=\"radio\" :class=\"rootClasses\">\n        <input\n            v-bind=\"inputBind\"\n            :id=\"id\"\n            ref=\"inputElement\"\n            v-model=\"vmodel\"\n            type=\"radio\"\n            data-oruga-input=\"radio\"\n            :class=\"inputClasses\"\n            :name=\"name\"\n            :value=\"nativeValue\"\n            :required=\"required\"\n            :disabled=\"disabled\"\n            :autocomplete=\"autocomplete\"\n            :aria-checked=\"isChecked\"\n            :aria-labelledby=\"labelId\"\n            @blur=\"onBlur\"\n            @focus=\"onFocus\"\n            @invalid=\"onInvalid\"\n            @change=\"onInput\" />\n\n        <label\n            v-if=\"label || $slots.default\"\n            :id=\"labelId\"\n            :for=\"id\"\n            :class=\"labelClasses\">\n            <!--\n                @slot Override the label, default is label prop \n            -->\n            <slot>{{ label }}</slot>\n        </label>\n    </div>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Radio from \"./Radio.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export radio plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Radio);\n    },\n} as Plugin;\n\n/** export radio components */\nexport { Radio as ORadio };\n","import type { App, Plugin } from \"vue\";\n\nimport Select from \"./Select.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export select specific types */\n// no types to export here\n\n/** export select plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Select);\n    },\n} as Plugin;\n\n/** export select components */\nexport { Select as OSelect };\n","<script setup lang=\"ts\">\nimport { computed } from \"vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { toCssDimension } from \"@/utils/helpers\";\nimport { defineClasses } from \"@/composables\";\n\nimport type { SkeletonProps } from \"./props\";\n\n/**\n * A placeholder for content to load.\n * @displayName Skeleton\n * @style _skeleton.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OSkeleton\",\n    configField: \"skeleton\",\n});\n\nconst props = withDefaults(defineProps<SkeletonProps>(), {\n    override: undefined,\n    active: true,\n    animated: () => getDefault(\"skeleton.animated\", true),\n    width: undefined,\n    height: undefined,\n    circle: false,\n    rounded: () => getDefault(\"skeleton.rounded\", true),\n    count: 1,\n    size: undefined,\n    position: \"left\",\n});\n\nconst itemStyle = computed(() => ({\n    height: toCssDimension(props.height),\n    width: toCssDimension(props.width),\n    borderRadius: props.circle ? \"50%\" : undefined,\n}));\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-skeleton\"],\n    [\n        \"positionClass\",\n        \"o-skeleton--\",\n        computed(() => props.position),\n        computed(() => !!props.position),\n    ],\n);\n\nconst itemClasses = defineClasses(\n    [\"itemClass\", \"o-skeleton__item\"],\n    [\n        \"roundedClass\",\n        \"o-skeleton__item--rounded\",\n        null,\n        computed(() => props.rounded),\n    ],\n    [\n        \"animatedClass\",\n        \"o-skeleton__item--animated\",\n        null,\n        computed(() => props.animated),\n    ],\n    [\n        \"sizeClass\",\n        \"o-skeleton__item--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n);\n</script>\n\n<template>\n    <div v-if=\"active\" data-oruga=\"skeleton\" :class=\"rootClasses\">\n        <div\n            v-for=\"i in count\"\n            :key=\"i\"\n            :class=\"itemClasses\"\n            :style=\"itemStyle\" />\n    </div>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Skeleton from \"./Skeleton.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export skeleton plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Skeleton);\n    },\n} as Plugin;\n\n/** export skeleton components */\nexport { Skeleton as OSkeleton };\n","<script setup lang=\"ts\" generic=\"C extends Component\">\nimport {\n    ref,\n    computed,\n    watch,\n    onMounted,\n    useTemplateRef,\n    type Component,\n} from \"vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { isClient } from \"@/utils/ssr\";\nimport {\n    defineClasses,\n    useClickOutside,\n    useEventListener,\n    useMatchMedia,\n    usePreventScrolling,\n    useTrapFocus,\n    useTeleportDefault,\n} from \"@/composables\";\n\nimport type { SidebarProps } from \"./props\";\n\n/**\n * A sidebar to use as overlay.\n * @displayName Sidebar\n * @style _sidebar.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OSidebar\",\n    configField: \"sidebar\",\n    inheritAttrs: false,\n});\n\nconst props = withDefaults(defineProps<SidebarProps<C>>(), {\n    override: undefined,\n    active: false,\n    overlay: () => getDefault(\"sidebar.overlay\", false),\n    inline: false,\n    position: () => getDefault(\"sidebar.position\", \"left\"),\n    fullheight: () => getDefault(\"sidebar.fullheight\", false),\n    fullwidth: () => getDefault(\"sidebar.fullwidth\", false),\n    reduce: () => getDefault(\"sidebar.reduce\", false),\n    mobile: () => getDefault(\"sidebar.mobile\"),\n    expandOnHover: () => getDefault(\"sidebar.expandOnHover\", false),\n    animation: () => getDefault(\"sidebar.animation\"),\n    cancelable: () => getDefault(\"sidebar.cancelable\", [\"escape\", \"outside\"]),\n    trapFocus: () => getDefault(\"sidebar.trapFocus\", true),\n    clipScroll: () => getDefault(\"sidebar.clipScroll\", false),\n    mobileBreakpoint: () => getDefault(\"sidebar.mobileBreakpoint\"),\n    teleport: () => getDefault(\"sidebar.teleport\", false),\n    component: undefined,\n    props: undefined,\n    events: undefined,\n});\n\nconst emits = defineEmits<{\n    /**\n     * active prop two-way binding\n     * @param value {boolean} - updated active prop\n     */\n    \"update:active\": [value: boolean];\n    /**\n     * on component close event\n     * @param value {unknown} - close event data\n     */\n    close: [...args: unknown[]];\n}>();\n\nconst { vTrapFocus } = useTrapFocus();\n\nconst rootRef = useTemplateRef(\"rootElement\");\nconst contentRef = useTemplateRef(\"contentElement\");\n\nconst isActive = defineModel<boolean>(\"active\", { default: false });\n\nconst { isMobile } = useMatchMedia(props.mobileBreakpoint);\n\nconst _teleport = computed(() =>\n    typeof props.teleport === \"boolean\"\n        ? { to: useTeleportDefault(), disabled: !props.teleport }\n        : { to: props.teleport, disabled: false },\n);\n\nconst transitionName = computed(() => {\n    if (props.animation) return props.animation;\n\n    const vertical = props.position === \"top\" || props.position === \"bottom\";\n    const right = props.position === \"right\";\n    const open = right ? !isActive.value : isActive.value;\n\n    return open\n        ? vertical\n            ? \"slide-down\"\n            : \"slide-next\"\n        : vertical\n          ? \"slide-up\"\n          : \"slide-prev\";\n});\n\nconst hideOnMobile = computed(\n    () => props.mobile === \"hidden\" && isMobile.value,\n);\n\nconst toggleScroll = usePreventScrolling(props.clipScroll);\n\nwatch(\n    isActive,\n    (value) => {\n        if (props.overlay) toggleScroll(value);\n    },\n    { flush: \"post\" },\n);\n\nonMounted(() => {\n    if (isActive.value && props.overlay) toggleScroll(true);\n});\n\n// --- Events Feature ---\n\nif (isClient) {\n    // register onKeyPress event listener when is active\n    useEventListener(rootRef, \"keyup\", onKeyPress, { trigger: isActive });\n\n    if (!props.overlay)\n        // register outside click event listener when is active\n        useClickOutside(contentRef, clickedOutside, { trigger: isActive });\n}\n\n/** Keypress event that is bound to the document. */\nfunction onKeyPress(event: KeyboardEvent): void {\n    if (!isActive.value) return;\n    if (event.key === \"Escape\" || event.key === \"Esc\") cancel(\"escape\");\n}\n\n/** Close fixed sidebar if clicked outside. */\nfunction clickedOutside(event: Event): void {\n    if (props.inline || !isActive.value || isAnimating.value) return;\n    if (\n        props.overlay ||\n        (contentRef.value && !event.composedPath().includes(contentRef.value))\n    )\n        event.preventDefault();\n    cancel(\"outside\");\n}\n\n/**\n * Check if method is cancelable.\n * Call close() with action `cancel`.\n * @param method Cancel method\n */\nfunction cancel(method: string): void {\n    // check if method is cancelable\n    if (\n        (typeof props.cancelable === \"boolean\" && !props.cancelable) ||\n        !props.cancelable ||\n        (Array.isArray(props.cancelable) && !props.cancelable.includes(method))\n    )\n        return;\n    close({ action: \"cancel\", method });\n}\n\n/** set active to false and emit close event */\nfunction close(...args: unknown[]): void {\n    isActive.value = false;\n    emits(\"close\", args);\n}\n\n// --- Animation Feature ---\n\nconst isAnimating = ref(!props.active);\n\n/** Transition after-enter hook */\nfunction afterEnter(): void {\n    isAnimating.value = false;\n}\n\n/** Transition before-leave hook */\nfunction beforeLeave(): void {\n    isAnimating.value = true;\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-sidebar\"],\n    [\"mobileClass\", \"o-sidebar--mobile\", null, isMobile],\n    [\"activeClass\", \"o-sidebar--active\", null, isActive],\n    [\n        \"teleportClass\",\n        \"o-sidebar--teleport\",\n        null,\n        computed(() => !!props.teleport),\n    ],\n    [\"inlineClass\", \"o-sidebar--inline\", null, computed(() => props.inline)],\n);\n\nconst overlayClasses = defineClasses([\"overlayClass\", \"o-sidebar__overlay\"]);\n\nconst contentClasses = defineClasses(\n    [\"contentClass\", \"o-sidebar__content\"],\n    [\n        \"positionClass\",\n        \"o-sidebar__content--\",\n        computed(() => props.position),\n        computed(() => !!props.position),\n    ],\n    [\n        \"fullheightClass\",\n        \"o-sidebar__content--fullheight\",\n        null,\n        computed(() => props.fullheight),\n    ],\n    [\n        \"fullwidthClass\",\n        \"o-sidebar__content--fullwidth\",\n        null,\n        computed(\n            () =>\n                props.fullwidth ||\n                (isMobile.value && props.mobile === \"expanded\"),\n        ),\n    ],\n    [\n        \"reduceClass\",\n        \"o-sidebar__content--reduced\",\n        null,\n        computed(\n            () =>\n                props.reduce || (isMobile.value && props.mobile === \"reduced\"),\n        ),\n    ],\n    [\n        \"expandOnHoverClass\",\n        \"o-sidebar__content--hover-expand\",\n        null,\n        computed(\n            () =>\n                props.expandOnHover &&\n                (!isMobile.value || props.mobile !== \"expanded\"),\n        ),\n    ],\n    [\"visibleClass\", \"o-sidebar__content--visible\", null, isActive],\n    [\n        \"hiddenClass\",\n        \"o-sidebar__content--hidden\",\n        null,\n        computed(() => !isActive.value),\n    ],\n);\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ close });\n</script>\n\n<template>\n    <Teleport :to=\"_teleport.to\" :disabled=\"_teleport.disabled\">\n        <div\n            v-show=\"!hideOnMobile\"\n            ref=\"rootElement\"\n            v-bind=\"$attrs\"\n            v-trap-focus=\"isActive && !inline && trapFocus\"\n            data-oruga=\"sidebar\"\n            :class=\"rootClasses\">\n            <div\n                v-if=\"overlay && isActive\"\n                :class=\"overlayClasses\"\n                :tabindex=\"-1\"\n                @click=\"clickedOutside\" />\n\n            <transition\n                :name=\"transitionName\"\n                @after-enter=\"afterEnter\"\n                @before-leave=\"beforeLeave\">\n                <div\n                    v-show=\"isActive\"\n                    ref=\"contentElement\"\n                    :class=\"contentClasses\">\n                    <!--\n                        @slot Sidebar default content, default is component prop\n                        @binding {(...args):void} close - function to close the component\n                    -->\n                    <slot :close=\"close\">\n                        <!-- injected component for programmatic usage -->\n                        <component\n                            :is=\"component\"\n                            v-if=\"component\"\n                            v-bind=\"$props.props\"\n                            v-on=\"$props.events || {}\"\n                            @close=\"close\" />\n                    </slot>\n                </div>\n            </transition>\n        </div>\n    </Teleport>\n</template>\n","import {\n    type Component,\n    type ComponentInternalInstance,\n    type MaybeRefOrGetter,\n} from \"vue\";\nimport {\n    InstanceRegistry,\n    ComponentProgrammatic,\n    type ProgrammaticComponentOptions,\n    type ProgrammaticExpose,\n} from \"../programmatic\";\n\nimport Sidebar from \"./Sidebar.vue\";\n\nimport type { SidebarProps } from \"./props\";\n\ndeclare module \"../../index\" {\n    interface OrugaProgrammatic {\n        sidebar: typeof SidebarProgrammatic;\n    }\n}\n\n/** sidebar component programmatic instance registry */\nconst registry = new InstanceRegistry<ComponentInternalInstance>();\n\n/** useSidebarProgrammatic composable options */\nexport type SidebarProgrammaticOptions<C extends Component> = Readonly<\n    SidebarProps<C>\n> &\n    ProgrammaticComponentOptions;\n\nconst SidebarProgrammatic = {\n    /** Returns the number of registered active instances. */\n    count: registry.count,\n    /**\n     * Create a new programmatic sidebar component instance.\n     * @param options sidebar component props object\n     * @param target specify a target the component get rendered into - default is `document.body`\n     * @returns ProgrammaticExpose\n     */\n    open<C extends Component>(\n        options: SidebarProgrammaticOptions<C>,\n        target?: MaybeRefOrGetter<string | HTMLElement | null>,\n    ): ProgrammaticExpose {\n        const componentProps: SidebarProps<C> = {\n            active: true, // set the active default state to true\n            ...options,\n        };\n\n        // create programmatic component\n        return ComponentProgrammatic.open(Sidebar, {\n            registry, // custom programmatic instance registry\n            target, // target the component get rendered into\n            props: componentProps, // component specific props\n            onClose: options.onClose, // on close event handler\n        });\n    },\n    /** Close the last registred instance in the sidebar programmatic instance registry. */\n    close(...args: unknown[]): void {\n        registry.last()?.exposed?.close(...args);\n    },\n    /** Close all instances in the programmatic sidebar instance registry. */\n    closeAll(...args: unknown[]): void {\n        registry.walk((entry) => entry.exposed?.close(...args));\n    },\n};\n\nexport default SidebarProgrammatic;\n","import type { App, Plugin } from \"vue\";\n\nimport Sidebar from \"./Sidebar.vue\";\nimport SidebarProgrammatic from \"./useSidebarProgrammatic\";\n\nimport {\n    registerComponent,\n    registerComponentProgrammatic,\n} from \"@/utils/plugins\";\n\n/** export sidebar specific types */\nexport type { SidebarProgrammaticOptions } from \"./useSidebarProgrammatic\";\n\n/** export sidebar plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Sidebar);\n        registerComponentProgrammatic(app, \"sidebar\", SidebarProgrammatic);\n    },\n} as Plugin;\n\n/** export sidebar components & composables */\nexport { Sidebar as OSidebar, SidebarProgrammatic };\n","<script setup lang=\"ts\">\nimport { ref, computed, watch, nextTick, useId, type Component } from \"vue\";\n\nimport PositionWrapper from \"../utils/PositionWrapper.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { isClient } from \"@/utils/ssr\";\nimport { defineClasses, useClickOutside } from \"@/composables\";\n\nimport type { TooltipProps } from \"./props\";\n\n/**\n * Display a brief helper text to your user.\n * @displayName Tooltip\n * @style _tooltip.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OTooltip\",\n    configField: \"tooltip\",\n});\n\nconst props = withDefaults(defineProps<TooltipProps>(), {\n    override: undefined,\n    active: false,\n    label: undefined,\n    variant: () => getDefault(\"tooltip.variant\"),\n    position: () => getDefault(\"tooltip.position\", \"auto\"),\n    always: false,\n    disabled: false,\n    animation: () => getDefault(\"tooltip.animation\", \"fade\"),\n    multiline: false,\n    triggerTag: () => getDefault(\"tooltip.triggerTag\", \"div\"),\n    triggers: () => getDefault(\"tooltip.triggers\", [\"hover\", \"focus\"]),\n    delay: undefined,\n    closeable: () =>\n        getDefault(\"tooltip.closeable\", [\"escape\", \"outside\", \"content\"]),\n    teleport: () => getDefault(\"dropdown.teleport\", false),\n});\n\nconst emits = defineEmits<{\n    /**\n     * active prop two-way binding\n     * @param value {boolean} - updated active prop\n     */\n    \"update:active\": [value: boolean];\n    /** on active change to false event */\n    close: [];\n    /** on active change to true event */\n    open: [];\n}>();\n\nconst isActive = defineModel<boolean>(\"active\", { default: false });\n\nwatch(isActive, (value) => {\n    if (value) emits(\"open\");\n    else emits(\"close\");\n});\n\nconst tooltipId = useId();\n\nconst timer = ref();\n\nconst autoPosition = ref(props.position);\n\n/** update autoPosition on prop change */\nwatch(\n    () => props.position,\n    (v) => (autoPosition.value = v),\n);\n\n// --- Event Handler ---\n\nconst contentRef = ref<HTMLElement | Component>();\nconst triggerRef = ref<HTMLElement>();\n\nconst cancelOptions = computed<string[]>(() =>\n    typeof props.closeable === \"boolean\"\n        ? props.closeable\n            ? [\"escape\", \"outside\", \"content\"]\n            : []\n        : props.closeable,\n);\n\n// set click outside handler\nif (isClient && cancelOptions.value.includes(\"outside\")) {\n    useClickOutside([contentRef, triggerRef], onClickedOutside, {\n        trigger: isActive,\n        passive: true,\n    });\n}\n\n/** Close tooltip if clicked outside. */\nfunction onClickedOutside(): void {\n    if (!isActive.value || props.always) return;\n    if (!cancelOptions.value.includes(\"outside\")) return;\n    isActive.value = false;\n}\n\n/** Escape keydown event that is bound to the trigger */\nfunction onEscape(): void {\n    if (!isActive.value) return;\n    if (!cancelOptions.value.includes(\"escape\")) return;\n    isActive.value = false;\n}\n\nfunction onClick(): void {\n    if (!props.triggers.includes(\"click\")) return;\n    // if not active, toggle after clickOutside event\n    // this fixes toggling programmatic\n    nextTick(() => setTimeout(() => open()));\n}\n\nfunction onContextMenu(event: Event): void {\n    if (!props.triggers.includes(\"contextmenu\")) return;\n    event.preventDefault();\n    open();\n}\n\nfunction onFocus(): void {\n    if (!props.triggers.includes(\"focus\")) return;\n    open();\n}\n\nfunction onHover(): void {\n    if (!props.triggers.includes(\"hover\")) return;\n    open();\n}\n\nfunction open(): void {\n    if (props.disabled) return;\n    if (props.delay) {\n        timer.value = setTimeout(() => {\n            isActive.value = true;\n            timer.value = null;\n        }, props.delay);\n    } else {\n        isActive.value = true;\n    }\n}\n\nfunction onClose(): void {\n    if (!cancelOptions.value.includes(\"content\")) return;\n    isActive.value = !props.closeable;\n    if (timer.value && props.closeable) clearTimeout(timer.value);\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-tooltip\"],\n    [\n        \"teleportClass\",\n        \"o-tooltip--teleport\",\n        null,\n        computed(() => !!props.teleport),\n    ],\n);\n\nconst triggerClasses = defineClasses([\"triggerClass\", \"o-tooltip__trigger\"]);\n\nconst contentClasses = defineClasses(\n    [\"contentClass\", \"o-tooltip__content\"],\n    [\n        \"positionClass\",\n        \"o-tooltip__content--\",\n        autoPosition,\n        computed(() => !!autoPosition.value),\n    ],\n    [\n        \"variantClass\",\n        \"o-tooltip__content--\",\n        computed(() => props.variant),\n        computed(() => !!props.variant),\n    ],\n    [\n        \"multilineClass\",\n        \"o-tooltip__content--multiline\",\n        null,\n        computed(() => props.multiline),\n    ],\n    [\n        \"alwaysClass\",\n        \"o-tooltip__content--always\",\n        null,\n        computed(() => props.always),\n    ],\n);\n\nconst arrowClasses = defineClasses(\n    [\"arrowClass\", \"o-tooltip__arrow\"],\n    [\n        \"arrowPositionClass\",\n        \"o-tooltip__arrow--\",\n        autoPosition,\n        computed(() => !!autoPosition.value),\n    ],\n    [\n        \"arrowVariantClass\",\n        \"o-tooltip__arrow--\",\n        computed(() => props.variant),\n        computed(() => !!props.variant),\n    ],\n);\n</script>\n\n<template>\n    <div data-oruga=\"tooltip\" :class=\"rootClasses\">\n        <component\n            :is=\"triggerTag\"\n            ref=\"triggerRef\"\n            :class=\"triggerClasses\"\n            aria-haspopup=\"true\"\n            :aria-describedby=\"tooltipId\"\n            @keydown.escape=\"onEscape\"\n            @click=\"onClick\"\n            @contextmenu=\"onContextMenu\"\n            @mouseenter=\"onHover\"\n            @focus.capture=\"onFocus\"\n            @blur.capture=\"onClose\"\n            @mouseleave=\"onClose\">\n            <!--\n                @slot Tooltip trigger slot\n                @binding {boolean} active - tooltip active state\n            -->\n            <slot :active=\"isActive\" />\n        </component>\n\n        <PositionWrapper\n            v-slot=\"{ setContent }\"\n            v-model:position=\"autoPosition\"\n            :teleport=\"teleport\"\n            :class=\"rootClasses\"\n            :trigger=\"triggerRef\"\n            default-position=\"top\"\n            :disabled=\"!isActive\">\n            <transition :name=\"animation\">\n                <div\n                    v-show=\"isActive || (always && !disabled)\"\n                    :id=\"tooltipId\"\n                    :ref=\"(el) => (contentRef = setContent(el as HTMLElement))\"\n                    :class=\"contentClasses\"\n                    role=\"tooltip\">\n                    <span :class=\"arrowClasses\"></span>\n\n                    <!--\n                        @slot Tooltip content, default is label prop\n                    -->\n                    <slot name=\"content\">{{ label }}</slot>\n                </div>\n            </transition>\n        </PositionWrapper>\n    </div>\n</template>\n","<script setup lang=\"ts\" generic=\"IsRange extends boolean = false\">\nimport { computed, ref } from \"vue\";\n\nimport OTooltip from \"../tooltip/Tooltip.vue\";\n\nimport { isClient } from \"@/utils/ssr\";\n\nimport { injectField } from \"../field/fieldInjection\";\n\nimport type { SliderProps } from \"./props\";\nimport type { ClassBind, WithRequired } from \"@/types\";\n\n/**\n * @displayName Slider Thumb\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OSliderThumb\",\n    configField: \"slider\",\n    inheritAttrs: false,\n});\n\nconst props = defineProps<{\n    /** parent slider component props  */\n    sliderProps: WithRequired<SliderProps<IsRange>, \"min\" | \"max\" | \"step\">;\n    modelValue: number;\n    sliderSize: () => number;\n    thumbWrapperClasses: ClassBind[];\n    thumbClasses: ClassBind[];\n}>();\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {number | number[]} updated modelValue prop\n     */\n    \"update:model-value\": [value: number | number[]];\n    /** on value change event */\n    change: [];\n    /** on drag start event */\n    dragstart: [];\n    /** on drag end event */\n    dragend: [];\n}>();\n\n// inject parent field component if used inside one\nconst { parentField } = injectField();\n\nconst isFocused = ref(false);\nconst dragging = ref(false);\nconst startX = ref(0);\nconst startPosition = ref(0);\nconst newPosition = ref<number>();\nconst oldValue = ref(props.modelValue);\n\nconst tooltip = computed(() => props.sliderProps.tooltip);\nconst tooltipAlways = computed(() => props.sliderProps.tooltipAlways);\nconst disabled = computed(() => props.sliderProps.disabled);\nconst max = computed(() => props.sliderProps.max);\nconst min = computed(() => props.sliderProps.min);\nconst step = computed(() => props.sliderProps.step);\nconst indicator = computed(() => props.sliderProps.indicator);\nconst ariaLabel = computed(() => props.sliderProps.ariaLabel);\n\nconst precision = computed(() => {\n    const precisions = [min.value, max.value, step.value].map((item) => {\n        const decimal = (\"\" + item).split(\".\")[1];\n        return decimal ? decimal.length : 0;\n    });\n    return Math.max(...precisions);\n});\n\nconst computedTooltipVariant = computed(() =>\n    props.sliderProps.tooltipVariant\n        ? props.sliderProps.tooltipVariant\n        : props.sliderProps.variant,\n);\n\nconst currentPosition = computed(\n    () =>\n        `${((props.modelValue - min.value) / (max.value - min.value)) * 100}%`,\n);\n\nconst wrapperStyle = computed(() => ({ left: currentPosition.value }));\n\nconst formattedValue = computed(() => {\n    if (typeof props.sliderProps.formatter !== \"undefined\")\n        return props.sliderProps.formatter(props.modelValue);\n\n    if (props.sliderProps.format === \"percent\")\n        return new Intl.NumberFormat(props.sliderProps.locale, {\n            style: \"percent\",\n        }).format((props.modelValue - min.value) / (max.value - min.value));\n\n    return new Intl.NumberFormat(props.sliderProps.locale).format(\n        props.modelValue,\n    );\n});\n\nfunction onFocus(): void {\n    isFocused.value = true;\n}\n\nfunction onBlur(): void {\n    isFocused.value = false;\n}\n\nfunction onButtonDown(event): void {\n    if (disabled.value) return;\n    event.preventDefault();\n    onDragStart(event);\n\n    if (isClient) {\n        document.addEventListener(\"mousemove\", onDragging);\n        document.addEventListener(\"touchmove\", onDragging);\n        document.addEventListener(\"mouseup\", onDragEnd);\n        document.addEventListener(\"touchend\", onDragEnd);\n        document.addEventListener(\"contextmenu\", onDragEnd);\n    }\n}\n\nfunction onLeftKeyDown(): void {\n    if (disabled.value || props.modelValue === min.value) return;\n    newPosition.value =\n        parseFloat(currentPosition.value) -\n        (step.value / (max.value - min.value)) * 100;\n    setPosition(newPosition.value);\n    emits(\"change\");\n}\n\nfunction onRightKeyDown(): void {\n    if (disabled.value || props.modelValue === max.value) return;\n    newPosition.value =\n        parseFloat(currentPosition.value) +\n        (step.value / (max.value - min.value)) * 100;\n    setPosition(newPosition.value);\n    emits(\"change\");\n}\n\nfunction onHomeKeyDown(): void {\n    if (disabled.value || props.modelValue === min.value) return;\n    newPosition.value = 0;\n    setPosition(newPosition.value);\n    emits(\"change\");\n}\n\nfunction onEndKeyDown(): void {\n    if (disabled.value || props.modelValue === max.value) return;\n    newPosition.value = 100;\n    setPosition(newPosition.value);\n    emits(\"change\");\n}\n\nfunction onDragStart(event): void {\n    dragging.value = true;\n    emits(\"dragstart\");\n    if (event.type === \"touchstart\") event.clientX = event.touches[0].clientX;\n\n    startX.value = event.clientX;\n    startPosition.value = parseFloat(currentPosition.value);\n    newPosition.value = startPosition.value;\n}\n\nfunction onDragging(event): void {\n    if (dragging.value) {\n        if (event.type === \"touchmove\")\n            event.clientX = event.touches[0].clientX;\n\n        const diff =\n            ((event.clientX - startX.value) / props.sliderSize()) * 100;\n        newPosition.value = startPosition.value + diff;\n        setPosition(newPosition.value);\n    }\n}\n\nfunction onDragEnd(): void {\n    dragging.value = false;\n    emits(\"dragend\");\n    if (props.modelValue !== oldValue.value) emits(\"change\");\n\n    setPosition(newPosition.value);\n    if (isClient) {\n        document.removeEventListener(\"mousemove\", onDragging);\n        document.removeEventListener(\"touchmove\", onDragging);\n        document.removeEventListener(\"mouseup\", onDragEnd);\n        document.removeEventListener(\"touchend\", onDragEnd);\n        document.removeEventListener(\"contextmenu\", onDragEnd);\n    }\n}\n\nfunction setPosition(percent: number | undefined): void {\n    if (percent === undefined || isNaN(percent)) return;\n    if (percent < 0) percent = 0;\n    else if (percent > 100) percent = 100;\n\n    const stepLength = 100 / ((max.value - min.value) / step.value);\n    const steps = Math.round(percent / stepLength);\n    let value =\n        ((steps * stepLength) / 100) * (max.value - min.value) + min.value;\n    value = parseFloat(value.toFixed(precision.value));\n    emits(\"update:model-value\", value);\n\n    if (!dragging.value && value !== oldValue.value) oldValue.value = value;\n}\n\ndefineExpose({ setPosition });\n</script>\n\n<template>\n    <div\n        data-oruga=\"slider-thumb\"\n        :class=\"thumbWrapperClasses\"\n        :style=\"wrapperStyle\">\n        <o-tooltip\n            :label=\"formattedValue\"\n            :variant=\"computedTooltipVariant\"\n            :disabled=\"disabled || !tooltip\"\n            :always=\"tooltipAlways || dragging || isFocused\">\n            <div\n                v-bind=\"$attrs\"\n                :class=\"thumbClasses\"\n                :tabindex=\"disabled ? undefined : 0\"\n                role=\"slider\"\n                :aria-label=\"ariaLabel\"\n                :aria-labelledby=\"parentField?.labelId\"\n                :aria-valuenow=\"modelValue\"\n                :aria-valuemin=\"min\"\n                :aria-valuemax=\"max\"\n                :aria-disabled=\"disabled\"\n                aria-orientation=\"horizontal\"\n                @mousedown=\"onButtonDown\"\n                @touchstart.passive=\"onButtonDown\"\n                @focus=\"onFocus\"\n                @blur=\"onBlur\"\n                @keydown.left.prevent=\"onLeftKeyDown\"\n                @keydown.right.prevent=\"onRightKeyDown\"\n                @keydown.down.prevent=\"onLeftKeyDown\"\n                @keydown.up.prevent=\"onRightKeyDown\"\n                @keydown.home.prevent=\"onHomeKeyDown\"\n                @keydown.end.prevent=\"onEndKeyDown\">\n                <span v-if=\"indicator\">{{ formattedValue }}</span>\n            </div>\n        </o-tooltip>\n    </div>\n</template>\n","<script setup lang=\"ts\">\nimport { computed, type PropType } from \"vue\";\nimport { defineClasses, useProviderChild } from \"@/composables\";\n\nimport type { SliderComponent } from \"./types\";\nimport type { ComponentClass } from \"@/types\";\n\n/**\n * @displayName Slider Tick\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OSliderTick\",\n    configField: \"slider\",\n});\n\nconst props = defineProps({\n    /** Override existing theme classes completely */\n    override: { type: Boolean, default: undefined },\n    /** Value of single tick */\n    value: { type: Number, required: true },\n    /** Tick label */\n    label: { type: [String, Number], default: undefined },\n    tickClass: {\n        type: [String, Function, Array] as PropType<ComponentClass>,\n        default: undefined,\n    },\n    /** Class when slider tick is hidden */\n    tickHiddenClass: {\n        type: [String, Function, Array] as PropType<ComponentClass>,\n        default: undefined,\n    },\n    /** Class of tick label */\n    tickLabelClass: {\n        type: [String, Function, Array] as PropType<ComponentClass>,\n        default: undefined,\n    },\n});\n\n/** inject functionalities and data from the parent component */\nconst { parent } = useProviderChild<SliderComponent>({ register: false });\n\nconst position = computed(() => {\n    const pos =\n        ((props.value - parent.value.min) /\n            (parent.value.max - parent.value.min)) *\n        100;\n    return pos >= 0 && pos <= 100 ? pos : 0;\n});\n\nconst hidden = computed(\n    () => props.value === parent.value.min || props.value === parent.value.max,\n);\n\nconst tickStyle = computed(() => ({ left: position.value + \"%\" }));\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"tickClass\", \"o-slider__tick\"],\n    [\"tickHiddenClass\", \"o-slider__tick--hidden\", null, hidden],\n);\n\nconst tickLabelClasses = defineClasses([\n    \"tickLabelClass\",\n    \"o-slider__tick-label\",\n]);\n</script>\n\n<template>\n    <div data-oruga=\"slider-tick\" :class=\"rootClasses\" :style=\"tickStyle\">\n        <span v-if=\"$slots.default || label\" :class=\"tickLabelClasses\">\n            <!-- \n                @slot Override tick content, default is label prop\n             -->\n            <slot> {{ label }} </slot>\n        </span>\n    </div>\n</template>\n","<script setup lang=\"ts\" generic=\"IsRange extends boolean = false\">\nimport { computed, ref, useTemplateRef, watch } from \"vue\";\n\nimport OSliderThumb from \"./SliderThumb.vue\";\nimport OSliderTick from \"./SliderTick.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { isTrueish } from \"@/utils/helpers\";\nimport { defineClasses, useProviderParent } from \"@/composables\";\n\nimport type { SliderComponent } from \"./types\";\nimport type { SliderProps } from \"./props\";\n\n/**\n * A slider to select a value or range from a given range.\n * @displayName Slider\n * @requires ./SliderTick.vue\n * @style _slider.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OSlider\",\n    configField: \"slider\",\n});\n\ntype ModelValue = SliderProps<IsRange>[\"modelValue\"];\n\nconst props = withDefaults(defineProps<SliderProps<IsRange>>(), {\n    override: undefined,\n    modelValue: undefined,\n    // range: false,\n    min: 0,\n    max: 100,\n    step: 1,\n    variant: () => getDefault(\"slider.variant\"),\n    size: () => getDefault(\"slider.size\"),\n    ticks: false,\n    tooltip: () => getDefault(\"slider.tooltip\", true),\n    tooltipVariant: () => getDefault(\"slider.tooltipVariant\"),\n    tooltipAlways: false,\n    rounded: () => getDefault(\"slider.rounded\", false),\n    disabled: false,\n    lazy: false,\n    formatter: undefined,\n    biggerSliderFocus: false,\n    indicator: false,\n    format: () => getDefault(\"slider.format\", \"raw\"),\n    locale: () => getDefault(\"locale\"),\n    ariaLabel: () => getDefault(\"slider.ariaLabel\"),\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {number | number[]} updated modelValue prop\n     */\n    \"update:model-value\": [value: ModelValue];\n    /**\n     * on value change event\n     * @param value {number | number[]} updated modelValue prop\n     */\n    change: [value: ModelValue];\n    /**\n     * on dragging event\n     * @param value {number | number[]} updated modelValue prop\n     * */\n    dragging: [value: ModelValue];\n    /** on drag start event */\n    dragstart: [];\n    /** on drag end event */\n    dragend: [];\n}>();\n\nconst sliderRef = useTemplateRef(\"sliderElement\");\nconst thumbStartRef = useTemplateRef(\"thumbStartComponent\");\nconst thumbEndRef = useTemplateRef(\"thumbEndComponent\");\n\n// provided data is a computed ref to ensure reactivity\nconst provideData = computed<SliderComponent>(() => ({\n    max: props.max,\n    min: props.min,\n}));\n\n/** provide functionalities and data to child item components */\nuseProviderParent({ data: provideData });\n\nconst valueStart = ref<number>(0);\nconst valueEnd = ref<number>(0);\nconst dragging = ref(false);\n\nconst isThumbReversed = ref();\nconst isTrackClickDisabled = ref();\n\nconst minValue = computed(() =>\n    Math.min(valueStart.value || props.min, valueEnd.value || props.max),\n);\n\nconst maxValue = computed(() =>\n    Math.max(valueStart.value || props.min, valueEnd.value || props.max),\n);\n\nconst isRange = computed(() => isTrueish(props.range));\n\nconst vmodel = computed<ModelValue>(\n    () =>\n        (isRange.value\n            ? [minValue.value, maxValue.value]\n            : valueStart.value || 0) as ModelValue,\n);\n\n/** update vmodel value on internal value change */\nwatch([valueStart, valueEnd], () => {\n    if (isRange.value)\n        isThumbReversed.value =\n            valueStart.value && valueEnd.value\n                ? valueStart.value > valueEnd.value\n                : false;\n    if (!props.lazy || !dragging.value)\n        emits(\"update:model-value\", vmodel.value); // update external vmodel\n    if (dragging.value) emits(\"dragging\", vmodel.value);\n});\n\n/** When min, max or v-model is changed set the new active step. */\nwatch(\n    [() => props.min, () => props.max, () => props.modelValue],\n    () => setValues(props.modelValue),\n    { immediate: true }, // initialise valueStart and valueEnd\n);\n\nfunction setValues(newValue: number | number[] | undefined): void {\n    if (props.min > props.max) return;\n\n    if (Array.isArray(newValue)) {\n        const smallValue =\n            typeof newValue[0] !== \"number\" || isNaN(newValue[0])\n                ? props.min\n                : Math.min(Math.max(props.min, newValue[0]), props.max);\n        const largeValue =\n            typeof newValue[1] !== \"number\" || isNaN(newValue[1])\n                ? props.max\n                : Math.max(Math.min(props.max, newValue[1]), props.min);\n        valueStart.value = isThumbReversed.value ? largeValue : smallValue;\n        valueEnd.value = isThumbReversed.value ? smallValue : largeValue;\n    } else if (newValue !== undefined) {\n        valueStart.value = isNaN(newValue)\n            ? props.min\n            : Math.min(props.max, Math.max(props.min, newValue));\n        valueEnd.value = 0;\n    } else {\n        valueStart.value = props.min;\n        valueEnd.value = props.min;\n    }\n}\n\nconst tickValues = computed(() => {\n    if (!props.ticks || props.min > props.max || props.step === 0) return [];\n    const result: number[] = [];\n    for (let i = props.min + props.step; i < props.max; i = i + props.step) {\n        result.push(i);\n    }\n    return result;\n});\n\nconst barSize = computed(() =>\n    isRange.value\n        ? `${\n              (100 * (maxValue.value - minValue.value)) /\n              (props.max - props.min)\n          }%`\n        : `${\n              (100 * (valueStart.value - props.min)) / (props.max - props.min)\n          }%`,\n);\n\nconst barStart = computed(() =>\n    isRange.value\n        ? `${(100 * (minValue.value - props.min)) / (props.max - props.min)}%`\n        : \"0%\",\n);\n\nconst barStyle = computed(() => ({\n    width: barSize.value,\n    left: barStart.value,\n}));\n\nfunction getSliderSize(): number {\n    return sliderRef.value?.getBoundingClientRect().width || 0;\n}\n\nfunction onSliderClick(event: MouseEvent): void {\n    if (props.disabled || isTrackClickDisabled.value) return;\n    if (\n        !sliderRef.value ||\n        !thumbStartRef.value ||\n        (isRange.value && !thumbEndRef.value)\n    )\n        return;\n\n    const sliderOffsetLeft = sliderRef.value.getBoundingClientRect().left;\n    const percent =\n        ((event.clientX - sliderOffsetLeft) / getSliderSize()) * 100;\n    const targetValue = props.min + (percent * (props.max - props.min)) / 100;\n    const diffFirst = Math.abs(targetValue - valueStart.value);\n    if (!isRange.value) {\n        if (diffFirst < props.step / 2) return;\n        thumbStartRef.value.setPosition(percent);\n    } else {\n        const diffSecond = Math.abs(targetValue - valueEnd.value);\n        if (diffFirst <= diffSecond) {\n            if (diffFirst < props.step / 2) return;\n            thumbStartRef.value.setPosition(percent);\n        } else {\n            if (diffSecond < props.step / 2) return;\n            if (isRange.value && thumbEndRef.value)\n                thumbEndRef.value.setPosition(percent);\n        }\n    }\n    emits(\"change\", vmodel.value);\n}\n\nfunction onDragStart(): void {\n    dragging.value = true;\n    emits(\"dragstart\");\n}\n\nfunction onDragEnd(): void {\n    isTrackClickDisabled.value = true;\n    // avoid triggering onSliderClick after dragend\n    setTimeout(() => (isTrackClickDisabled.value = false));\n    dragging.value = false;\n    emits(\"dragend\");\n    if (props.lazy) emits(\"update:model-value\", vmodel.value);\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-slider\"],\n    [\n        \"sizeClass\",\n        \"o-slider--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\n        \"disabledClass\",\n        \"o-slider--disabled\",\n        null,\n        computed(() => props.disabled),\n    ],\n);\n\nconst trackClasses = defineClasses([\"trackClass\", \"o-slider__track\"]);\n\nconst fillClasses = defineClasses(\n    [\"fillClass\", \"o-slider__fill\"],\n    [\n        \"variantClass\",\n        \"o-slider__fill--\",\n        computed(() => props.variant),\n        computed(() => !!props.variant),\n    ],\n);\n\nconst thumbWrapperClasses = defineClasses(\n    [\"thumbWrapperClass\", \"o-slider__thumb-wrapper\"],\n    [\n        \"thumbWrapperDraggingClass\",\n        \"o-slider__thumb-wrapper--dragging\",\n        null,\n        dragging,\n    ],\n);\n\nconst thumbClasses = defineClasses(\n    [\"thumbClass\", \"o-slider__thumb\"],\n    [\"thumbDraggingClass\", \"o-slider__thumb--dragging\", null, dragging],\n    [\n        \"thumbRoundedClass\",\n        \"o-slider__thumb--rounded\",\n        null,\n        computed(() => props.rounded),\n    ],\n);\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ value: vmodel });\n</script>\n\n<template>\n    <div data-oruga=\"slider\" :class=\"rootClasses\" @click=\"onSliderClick\">\n        <div ref=\"sliderElement\" :class=\"trackClasses\">\n            <div :class=\"fillClasses\" :style=\"barStyle\" />\n\n            <template v-if=\"ticks\">\n                <o-slider-tick\n                    v-for=\"(val, key) in tickValues\"\n                    :key=\"key\"\n                    :value=\"val\"\n                    :tick-class=\"tickClass\"\n                    :tick-hidden-class=\"tickHiddenClass\"\n                    :tick-label-class=\"tickLabelClass\" />\n            </template>\n\n            <!--\n                @slot Define additional slider ticks here\n             -->\n            <slot />\n\n            <o-slider-thumb\n                ref=\"thumbStartComponent\"\n                v-model=\"valueStart\"\n                :slider-props=\"props\"\n                :slider-size=\"getSliderSize\"\n                :thumb-classes=\"thumbClasses\"\n                :thumb-wrapper-classes=\"thumbWrapperClasses\"\n                @change=\"emits('change', vmodel)\"\n                @dragstart=\"onDragStart\"\n                @dragend=\"onDragEnd\" />\n\n            <o-slider-thumb\n                v-if=\"isRange\"\n                ref=\"thumbEndComponent\"\n                v-model=\"valueEnd\"\n                :slider-props=\"props\"\n                :slider-size=\"getSliderSize\"\n                :thumb-classes=\"thumbClasses\"\n                :thumb-wrapper-classes=\"thumbWrapperClasses\"\n                @change=\"emits('change', vmodel)\"\n                @dragstart=\"onDragStart\"\n                @dragend=\"onDragEnd\" />\n        </div>\n    </div>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Slider from \"./Slider.vue\";\nimport SliderTick from \"./SliderTick.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export slider specific types */\nexport type * from \"./types\";\n\n/** export slider plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Slider);\n        registerComponent(app, SliderTick);\n    },\n} as Plugin;\n\n/** export slider components */\nexport { Slider as OSlider, SliderTick as OSliderTick };\n","<script setup lang=\"ts\" generic=\"T, C extends Component\">\nimport { computed, ref, useSlots, useId, type Component } from \"vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { defineClasses, useProviderChild } from \"@/composables\";\n\nimport type { StepsComponent, StepItemComponent } from \"./types\";\nimport type { StepItemProps } from \"./props\";\n\n/**\n * An step item used by the steps component.\n * @displayName Step Item\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OStepItem\",\n    configField: \"steps\",\n    inheritAttrs: false,\n});\n\nconst props = withDefaults(defineProps<StepItemProps<T, C>>(), {\n    override: undefined,\n    value: undefined,\n    label: undefined,\n    step: undefined,\n    variant: undefined,\n    clickable: undefined,\n    disabled: false,\n    visible: true,\n    icon: () => getDefault(\"steps.icon\"),\n    iconPack: () => getDefault(\"steps.iconPack\"),\n    content: undefined,\n    component: undefined,\n    props: undefined,\n    events: undefined,\n});\n\nconst emits = defineEmits<{\n    /** on step item activate event */\n    activate: [];\n    /** on step item deactivate event */\n    deactivate: [];\n}>();\n\nconst itemValue = props.value ?? useId();\n\nconst slots = useSlots();\n\n// provided data is a computed ref to ensure reactivity\nconst providedData = computed<StepItemComponent<T>>(() => ({\n    ...props,\n    value: itemValue,\n    $slots: slots,\n    stepClasses: stepClasses.value,\n    iconClasses: stepIconClasses.value,\n    labelClasses: stepLabelClasses.value,\n    isClickable: isClickable.value,\n    isTransitioning: isTransitioning.value,\n    activate,\n    deactivate,\n}));\n\n/** inject functionalities and data from the parent component */\nconst { parent, item } = useProviderChild<StepsComponent, StepItemComponent<T>>(\n    { data: providedData },\n);\n\nconst transitionName = ref();\n\nconst isActive = computed(() => item.value.index === parent.value.activeIndex);\n\nconst isTransitioning = ref(false);\n\nconst nextAnimation = computed(() => {\n    const idx =\n        parent.value.vertical && parent.value.animation.length === 4 ? 2 : 0;\n    return parent.value.animation[idx];\n});\n\nconst prevAnimation = computed(() => {\n    const idx =\n        parent.value.vertical && parent.value.animation.length === 4 ? 3 : 1;\n    return parent.value.animation[idx];\n});\n\n/** shows if the step is clickable or not */\nconst isClickable = computed(\n    () => props.clickable || item.value.index < parent.value.activeIndex,\n);\n\n/** Activate element, alter animation name based on the index. */\nfunction activate(oldIndex: number): void {\n    transitionName.value =\n        item.value.index < oldIndex ? nextAnimation.value : prevAnimation.value;\n    // emit event\n    emits(\"activate\");\n}\n\n/** Deactivate element, alter animation name based on the index. */\nfunction deactivate(newIndex: number): void {\n    transitionName.value =\n        newIndex < item.value.index ? nextAnimation.value : prevAnimation.value;\n    // emit event\n    emits(\"deactivate\");\n}\n\n/** Transition after-enter hook */\nfunction afterEnter(): void {\n    isTransitioning.value = true;\n}\n\n/** Transition before-leave hook */\nfunction beforeLeave(): void {\n    isTransitioning.value = true;\n}\n\n// --- Computed Component Classes ---\n\nconst stepClasses = defineClasses(\n    [\"stepClass\", \"o-steps__step\"],\n    [\n        \"stepVariantClass\",\n        \"o-steps__step--\",\n        computed(() => parent.value?.variant || props.variant),\n        computed(() => !!parent.value?.variant || !!props.variant),\n    ],\n    [\"stepActiveClass\", \"o-steps__step--active\", null, isActive],\n    [\"stepClickableClass\", \"o-steps__step--clickable\", null, isClickable],\n    [\n        \"stepDisabledClass\",\n        \"o-steps__step--disabled\",\n        null,\n        computed(() => props.disabled),\n    ],\n    [\n        \"stepPreviousClass\",\n        \"o-steps__step--previous\",\n        null,\n        computed(() => item.value.index < parent.value?.activeIndex),\n    ],\n    [\n        \"stepNextClass\",\n        \"o-steps__step--next\",\n        null,\n        computed(() => item.value.index > parent.value?.activeIndex),\n    ],\n    [\n        \"stepPositionClass\",\n        \"o-steps__step--\",\n        computed(() => parent.value?.labelPosition),\n        computed(() => !!parent.value?.labelPosition),\n    ],\n);\n\nconst stepLabelClasses = defineClasses([\n    \"stepLabelClass\",\n    \"o-steps__step-label\",\n]);\n\nconst stepIconClasses = defineClasses([\"stepIconClass\", \"o-steps__step-icon\"]);\n\nconst panelClasses = defineClasses([\"stepPanelClass\", \"o-steps__panel\"]);\n</script>\n\n<template>\n    <Transition\n        v-if=\"parent\"\n        :css=\"parent.animated\"\n        :name=\"transitionName\"\n        :appear=\"parent.animateInitially\"\n        @after-enter=\"afterEnter\"\n        @before-leave=\"beforeLeave\">\n        <div\n            v-show=\"isActive && visible\"\n            v-bind=\"$attrs\"\n            :id=\"`tabpanel-${item.identifier}`\"\n            data-oruga=\"steps-item\"\n            :data-id=\"`steps-${item.identifier}`\"\n            :class=\"panelClasses\"\n            role=\"tabpanel\"\n            :hidden=\"!isActive\"\n            :aria-labelledby=\"`tab-${item.identifier}`\"\n            aria-roledescription=\"item\">\n            <!-- \n                @slot Step item content\n                @binding {boolean} active - if item is shown \n            -->\n            <slot :active=\"isActive && visible\">\n                <!-- injected component -->\n                <component\n                    :is=\"component\"\n                    v-if=\"component\"\n                    v-bind=\"$props.props\"\n                    v-on=\"$props.events || {}\" />\n\n                <!-- default content prop -->\n                <template v-else>{{ content }}</template>\n            </slot>\n        </div>\n    </Transition>\n</template>\n","<script setup lang=\"ts\" generic=\"T\">\nimport {\n    computed,\n    toValue,\n    nextTick,\n    ref,\n    watch,\n    watchEffect,\n    useTemplateRef,\n} from \"vue\";\n\nimport OStepItem from \"../steps/StepItem.vue\";\nimport OButton from \"../button/Button.vue\";\nimport OIcon from \"../icon/Icon.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { isDefined } from \"@/utils/helpers\";\nimport {\n    defineClasses,\n    normalizeOptions,\n    useProviderParent,\n    useMatchMedia,\n    useSequentialId,\n} from \"@/composables\";\n\nimport type { StepItem, StepItemComponent, StepsComponent } from \"./types\";\nimport type { StepsProps } from \"./props\";\n\n/**\n * Responsive horizontal process steps.\n * @displayName Steps\n * @requires ./StepItem.vue\n * @style _steps.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OSteps\",\n    configField: \"steps\",\n});\n\ntype ModelValue = StepsProps<T>[\"modelValue\"];\n\nconst props = withDefaults(defineProps<StepsProps<T>>(), {\n    override: undefined,\n    modelValue: undefined,\n    options: undefined,\n    variant: () => getDefault(\"steps.variant\"),\n    size: () => getDefault(\"steps.size\"),\n    vertical: false,\n    position: undefined,\n    iconPack: () => getDefault(\"steps.iconPack\"),\n    iconPrev: () => getDefault(\"steps.iconPrev\", \"chevron-left\"),\n    iconNext: () => getDefault(\"steps.iconNext\", \"chevron-right\"),\n    hasNavigation: true,\n    activateOnFocus: false,\n    animated: () => getDefault(\"steps.animated\", true),\n    animation: () =>\n        getDefault(\"steps.animation\", [\n            \"slide-next\",\n            \"slide-prev\",\n            \"slide-down\",\n            \"slide-up\",\n        ]),\n    animateInitially: () => getDefault(\"steps.animateInitially\", false),\n    labelPosition: () => getDefault(\"steps.labelPosition\", \"bottom\"),\n    rounded: true,\n    mobileBreakpoint: () => getDefault(\"steps.mobileBreakpoint\"),\n    ariaLabel: () => getDefault(\"steps.ariaLabel\"),\n    ariaNextLabel: () => getDefault(\"steps.ariaNextLabel\", \"Next\"),\n    ariaPreviousLabel: () => getDefault(\"steps.ariaPreviousLabel\", \"Previous\"),\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {T} updated modelValue prop\n     */\n    \"update:model-value\": [value: ModelValue];\n    /**\n     * on step change event\n     * @param value {T} new step value\n     * @param value {T} old step value\n     */\n    change: [newValue: ModelValue, oldValue: ModelValue];\n}>();\n\nconst { isMobile } = useMatchMedia(props.mobileBreakpoint);\n\nconst rootRef = useTemplateRef(\"rootElement\");\n\n// provided data is a computed ref to ensure reactivity\nconst provideData = computed<StepsComponent>(() => ({\n    activeIndex: activeItem.value?.index ?? 0,\n    labelPosition: props.labelPosition,\n    vertical: props.vertical,\n    animated: props.animated,\n    animation: props.animation,\n    animateInitially: props.animateInitially,\n    variant: props.variant,\n}));\n\n/** provide functionalities and data to child item components */\nconst { childItems } = useProviderParent<StepItemComponent<T>>({\n    rootRef,\n    data: provideData,\n});\n\nconst items = computed<StepItem<T>[]>(() => {\n    if (!childItems.value) return [];\n    return childItems.value.map((column) => ({\n        index: column.index,\n        identifier: column.identifier,\n        ...toValue(column.data!),\n    }));\n});\n\n// create a unique id sequence\nconst { nextSequence } = useSequentialId();\n\n/** normalized programamtic options */\nconst groupedOptions = computed(() =>\n    normalizeOptions<T>(props.options, nextSequence),\n);\n\n/** The selected item value, use v-model to make it two-way binding */\nconst vmodel = defineModel<ModelValue>({ default: undefined });\n\n/** When v-model is changed set the new active step. */\nwatch(\n    () => props.modelValue,\n    (value) => {\n        if (vmodel.value !== value) performAction(value);\n    },\n);\n\n/** the active item */\nconst activeItem = ref<StepItem<T>>();\n\n// set the active item immediate and every time the vmodel changes\nwatchEffect(() => {\n    activeItem.value = isDefined(vmodel.value)\n        ? items.value.find((item) => item.value === vmodel.value) ||\n          items.value[0]\n        : items.value[0];\n});\n\nconst isTransitioning = computed(() =>\n    items.value.some((item) => item.isTransitioning),\n);\n\n// --- EVENT HANDLER ---\n\n/** Activate the item after or before the current active item. */\nfunction activateItem(fowardIndex: 1 | -1): void {\n    const index = (activeItem.value?.index ?? 0) + fowardIndex;\n    if (index < 0 || index >= items.value.length) return;\n    const item = items.value[index];\n    if (vmodel.value !== item.value) performAction(item.value);\n}\n\n/** Item click listener, emit input event and change active child. */\nfunction itemClick(item: StepItem<T>): void {\n    // determines if the step is clickable or not\n    if (!item.isClickable) return;\n    if (vmodel.value !== item.value) performAction(item.value);\n}\n\n/** Check if previous button is available. */\nconst hasPrev = computed(() =>\n    isDefined(getFirstViableIndex((activeItem.value?.index ?? 0) - 1, false)),\n);\n\n/** Check if next button is available. */\nconst hasNext = computed(() =>\n    isDefined(getFirstViableIndex((activeItem.value?.index ?? 0) + 1, true)),\n);\n\n/** Focus the next item if possible. */\nfunction onNext(index: number): void {\n    const viableIndex = getFirstViableIndex(index + 1, true);\n    if (isDefined(viableIndex)) moveFocus(viableIndex);\n}\n\n/** Focus the previous item if possible. */\nfunction onPrev(index: number): void {\n    const viableIndex = getFirstViableIndex(index - 1, false);\n    if (isDefined(viableIndex)) moveFocus(viableIndex);\n}\n\n/** Focus the first viable item. */\nfunction onHomePressed(): void {\n    const viableIndex = getFirstViableIndex(0, true);\n    if (isDefined(viableIndex)) moveFocus(viableIndex);\n}\n\n/** Focus the last viable item. */\nfunction onEndPressed(): void {\n    const viableIndex = getFirstViableIndex(items.value.length - 1, false);\n    if (isDefined(viableIndex)) moveFocus(viableIndex);\n}\n\n/** Set focus on a step item or click it if `activateOnFocus`. */\nfunction moveFocus(index: number): void {\n    if (index < 0 || index >= items.value.length) return;\n    const item = items.value[index];\n\n    if (props.activateOnFocus) {\n        itemClick(item);\n    } else {\n        const el = rootRef.value?.querySelector<HTMLElement>(\n            `#tab-${item.identifier}`,\n        );\n        el?.focus();\n    }\n}\n\n/**\n * Get the first 'viable' child, starting at startingIndex and in the direction specified\n * by the boolean parameter forward. In other words, first try to select the child at index\n * startingIndex, and if it is not visible or it is disabled, then go to the index in the\n * specified direction until either returning to startIndex or finding a viable child item.\n */\nfunction getFirstViableIndex(\n    startingIndex: number,\n    forward: boolean,\n): number | undefined {\n    const direction = forward ? 1 : -1;\n    let newIndex = startingIndex;\n    for (\n        ;\n        newIndex > 0 && newIndex < items.value.length;\n        newIndex += direction\n    ) {\n        const item = items.value[newIndex];\n        // Break if the item at this index is viable (not disabled and is visible)\n        if (item.visible && !item.disabled) break;\n    }\n\n    if (newIndex < 0 || newIndex >= items.value.length) return undefined;\n    return newIndex;\n}\n\n/** Activate next child and deactivate prev child */\nfunction performAction(newValue: ModelValue): void {\n    const oldValue = activeItem.value?.value;\n    const oldItem = activeItem.value;\n    const newItem =\n        items.value.find((item) => item.value === newValue) || items.value[0];\n\n    if (oldItem && newItem) {\n        oldItem.deactivate(newItem.index);\n        newItem.activate(oldItem.index);\n    }\n\n    nextTick(() => {\n        vmodel.value = newValue;\n        emits(\"change\", newValue, oldValue);\n    });\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-steps\"],\n    [\n        \"sizeClass\",\n        \"o-steps--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\n        \"variantClass\",\n        \"o-steps--\",\n        computed(() => props.variant),\n        computed(() => !!props.variant),\n    ],\n    [\n        \"verticalClass\",\n        \"o-steps--vertical\",\n        null,\n        computed(() => props.vertical),\n    ],\n    [\n        \"positionClass\",\n        \"o-steps--position-\",\n        computed(() => props.position),\n        computed(() => !!props.position && props.vertical),\n    ],\n    [\"mobileClass\", \"o-steps--mobile\", null, isMobile],\n);\n\nconst tablistClasses = defineClasses(\n    [\"listClass\", \"o-steps__list\"],\n    [\n        \"animatedClass\",\n        \"o-steps__list--animated\",\n        null,\n        computed(() => props.animated),\n    ],\n);\n\nconst dividerClasses = defineClasses([\"dividerClass\", \"o-steps__divider\"]);\n\nconst markerClasses = defineClasses(\n    [\"markerClass\", \"o-steps__marker\"],\n    [\n        \"markerRoundedClass\",\n        \"o-steps__marker--rounded\",\n        null,\n        computed(() => props.rounded),\n    ],\n);\n\nconst contentClasses = defineClasses(\n    [\"contentClass\", \"o-steps__content\"],\n    [\n        \"transitioningClass\",\n        \"o-steps__content-transitioning\",\n        null,\n        isTransitioning,\n    ],\n);\n\nconst navigationClasses = defineClasses([\n    \"navigationClass\",\n    \"o-steps__navigation\",\n]);\n</script>\n\n<template>\n    <div ref=\"rootElement\" data-oruga=\"steps\" :class=\"rootClasses\">\n        <ol\n            :class=\"tablistClasses\"\n            role=\"tablist\"\n            :aria-label=\"ariaLabel\"\n            :aria-orientation=\"vertical ? 'vertical' : 'horizontal'\">\n            <li\n                v-for=\"(childItem, index) in items\"\n                v-show=\"childItem.visible\"\n                :id=\"`tab-${childItem.identifier}`\"\n                :key=\"childItem.identifier\"\n                :class=\"childItem.stepClasses\"\n                role=\"tab\"\n                :tabindex=\"childItem.value === activeItem?.value ? 0 : -1\"\n                :aria-current=\"\n                    childItem.value === activeItem?.value ? 'step' : undefined\n                \"\n                :aria-controls=\"`tabpanel-${childItem.identifier}`\"\n                :aria-selected=\"childItem.value === activeItem?.value\"\n                @click=\"itemClick(childItem)\"\n                @keydown.enter.prevent=\"itemClick(childItem)\"\n                @keydown.space.prevent=\"itemClick(childItem)\"\n                @keydown.left.prevent=\"onPrev(childItem.index)\"\n                @keydown.right.prevent=\"onNext(childItem.index)\"\n                @keydown.home.prevent=\"onHomePressed\"\n                @keydown.end.prevent=\"onEndPressed\">\n                <span v-if=\"index > 0\" :class=\"dividerClasses\" />\n\n                <div :class=\"markerClasses\">\n                    <o-icon\n                        v-if=\"childItem.icon\"\n                        :class=\"childItem.iconClasses\"\n                        :icon=\"childItem.icon\"\n                        :pack=\"childItem.iconPack\"\n                        :size=\"size\" />\n                    <span v-else-if=\"childItem.step\">\n                        {{ childItem.step }}\n                    </span>\n                </div>\n\n                <div :class=\"childItem.labelClasses\">\n                    {{ childItem.label }}\n                </div>\n            </li>\n        </ol>\n\n        <section :class=\"contentClasses\">\n            <!--\n                @slot Place step items here\n            -->\n            <slot>\n                <o-step-item\n                    v-for=\"option in groupedOptions\"\n                    v-show=\"!option.hidden\"\n                    v-bind=\"option.attrs\"\n                    :key=\"option.key\"\n                    :value=\"option.value\"\n                    :label=\"option.label\" />\n            </slot>\n        </section>\n\n        <!--\n            @slot Override step navigation\n            @binding {{disabled: boolean, action: (): void }} previous - previous button configs\n            @binding {{disabled: boolean, action: (): void }} next - next button configs\n        -->\n        <slot\n            name=\"navigation\"\n            :previous=\"{ disabled: !hasPrev, action: () => activateItem(-1) }\"\n            :next=\"{ disabled: !hasNext, action: () => activateItem(1) }\">\n            <nav v-if=\"hasNavigation\" :class=\"navigationClasses\">\n                <o-button\n                    role=\"button\"\n                    :icon-left=\"iconPrev\"\n                    :icon-pack=\"iconPack\"\n                    icon-both\n                    :disabled=\"!hasPrev\"\n                    :aria-label=\"ariaPreviousLabel\"\n                    @click.prevent=\"activateItem(-1)\" />\n\n                <o-button\n                    role=\"button\"\n                    :icon-left=\"iconNext\"\n                    :icon-pack=\"iconPack\"\n                    icon-both\n                    :disabled=\"!hasNext\"\n                    :aria-label=\"ariaNextLabel\"\n                    @click.prevent=\"activateItem(1)\" />\n            </nav>\n        </slot>\n    </div>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Steps from \"./Steps.vue\";\nimport StepItem from \"./StepItem.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export steps specific types */\nexport type * from \"./types\";\n\n/** export steps plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Steps);\n        registerComponent(app, StepItem);\n    },\n} as Plugin;\n\n/** export steps components */\nexport { Steps as OSteps, StepItem as OStepItem };\n","<script setup lang=\"ts\" generic=\"T\">\nimport { computed, useAttrs, useId, useSlots, useTemplateRef } from \"vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { defineClasses, useInputHandler } from \"@/composables\";\n\nimport { injectField } from \"../field/fieldInjection\";\n\nimport type { SwitchProps } from \"./props\";\n\n/**\n * Switch between two opposing states.\n * @displayName Switch\n * @style _switch.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OSwitch\",\n    configField: \"switch\",\n    inheritAttrs: false,\n});\n\nconst props = withDefaults(defineProps<SwitchProps<T>>(), {\n    override: undefined,\n    modelValue: undefined,\n    id: () => useId(),\n    label: undefined,\n    variant: () => getDefault(\"switch.variant\"),\n    passiveVariant: () => getDefault(\"switch.passiveVariant\"),\n    size: () => getDefault(\"switch.size\"),\n    position: () => getDefault(\"switch.right\", \"position\"),\n    rounded: () => getDefault(\"switch.rounded\", true),\n    required: false,\n    disabled: false,\n    name: undefined,\n    nativeValue: undefined,\n    trueValue: undefined,\n    falseValue: undefined,\n    autocomplete: () => getDefault(\"switch.autocomplete\", \"off\"),\n    useHtml5Validation: () => getDefault(\"useHtml5Validation\", true),\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {T} updated modelValue prop\n     */\n    \"update:model-value\": [value: T];\n    /**\n     * on input change event\n     * @param value {T} input value\n     * @param event {Event} native event\n     */\n    input: [value: T, event: Event];\n    /**\n     * on input focus event\n     * @param event {Event} native event\n     */\n    focus: [event: Event];\n    /**\n     * on input blur event\n     * @param event {Event} native event\n     */\n    blur: [event: Event];\n    /**\n     * on input invalid event\n     * @param event {Event} native event\n     */\n    invalid: [event: Event];\n}>();\n\nconst inputRef = useTemplateRef(\"inputElement\");\n\n// use form input functionalities\nconst { onBlur, onFocus, onInvalid, setFocus } = useInputHandler(\n    inputRef,\n    emits,\n    props,\n);\n\n// inject parent field component if used inside one\nconst { parentField } = injectField();\n\n// set field labelId or create a unique label id if a label is given\nconst labelId =\n    !!parentField.value || !!props.label || !!useSlots().default\n        ? parentField.value?.labelId || useId()\n        : undefined;\n\n// if no `label` is given and `id` is given set as `for` property on o-field wrapper\nif (!props.label && props.id) parentField.value?.setInputId(props.id);\n\nconst vmodel = defineModel<T>({ default: undefined });\n\nconst isChecked = computed(\n    () =>\n        vmodel.value === (props.trueValue ?? true) ||\n        (Array.isArray(vmodel.value) &&\n            vmodel.value.includes(props.nativeValue)),\n);\n\nfunction onInput(event: Event): void {\n    emits(\"input\", vmodel.value, event);\n}\n\n// --- Computed Component Classes ---\n\nconst attrs = useAttrs();\n\nconst inputBind = computed(() => ({\n    ...parentField.value?.inputAttrs,\n    ...attrs,\n}));\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-switch\"],\n    [\n        \"sizeClass\",\n        \"o-switch--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\n        \"variantClass\",\n        \"o-switch--\",\n        computed(() => props.variant),\n        computed(() => !!props.variant),\n    ],\n    [\n        \"passiveVariantClass\",\n        \"o-switch--\",\n        computed(() => props.passiveVariant + \"-passive\"),\n        computed(() => !!props.passiveVariant),\n    ],\n    [\n        \"positionClass\",\n        \"o-switch--\",\n        computed(() => props.position),\n        computed(() => !!props.position),\n    ],\n    [\n        \"disabledClass\",\n        \"o-switch--disabled\",\n        null,\n        computed(() => props.disabled),\n    ],\n    [\"roundedClass\", \"o-switch--rounded\", null, computed(() => props.rounded)],\n    [\"checkedClass\", \"o-switch--checked\", null, isChecked],\n);\n\nconst inputClasses = defineClasses([\"inputClass\", \"o-switch__input\"]);\n\nconst labelClasses = defineClasses([\"labelClass\", \"o-switch__label\"]);\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ focus: setFocus, value: vmodel });\n</script>\n\n<template>\n    <div data-oruga=\"switch\" :class=\"rootClasses\">\n        <input\n            v-bind=\"inputBind\"\n            :id=\"id\"\n            ref=\"inputElement\"\n            v-model=\"vmodel\"\n            type=\"checkbox\"\n            role=\"switch\"\n            data-oruga-input=\"switch\"\n            :class=\"inputClasses\"\n            :name=\"name\"\n            :value=\"nativeValue\"\n            :true-value=\"trueValue ?? true\"\n            :false-value=\"falseValue ?? false\"\n            :required=\"required\"\n            :disabled=\"disabled\"\n            :autocomplete=\"autocomplete\"\n            :aria-checked=\"isChecked\"\n            :aria-labelledby=\"labelId\"\n            @blur=\"onBlur\"\n            @focus=\"onFocus\"\n            @invalid=\"onInvalid\"\n            @change=\"onInput\" />\n\n        <label\n            v-if=\"label || $slots.default\"\n            :id=\"labelId\"\n            :for=\"id\"\n            :class=\"labelClasses\">\n            <!--\n                @slot Override the label, default is label prop \n            -->\n            <slot>{{ label }}</slot>\n        </label>\n    </div>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Switch from \"./Switch.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export switch plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Switch);\n    },\n} as Plugin;\n\n/** export switch components */\nexport { Switch as OSwitch };\n","import {\n    createVNode,\n    defineComponent,\n    type DefineComponent,\n    type VNode,\n    type VNodeTypes,\n} from \"vue\";\nimport type { ComponentProps } from \"vue-component-type-helpers\";\nimport type { DynamicComponent } from \"@/types\";\n\ntype SlotComponentProps<C extends VNodeTypes> = {\n    /** Component to be get the slot from */\n    component: C;\n    /** Props to be binded to the injected component. */\n    props?: ComponentProps<C>;\n    /**\n     * Slot name\n     * @default \"default\"\n     */\n    name?: string;\n    /**\n     * Tag name of the slot wrapper element\n     * @default \"div\"\n     */\n    tag?: DynamicComponent;\n};\n\n/** This components renders a specific slot and only the slot of another component */\nexport default defineComponent<SlotComponentProps<any>>(\n    <C extends DefineComponent>(props: SlotComponentProps<C>, { slots }) => {\n        const _props = { tag: \"div\", name: \"default\", ...props };\n\n        return (): VNode => {\n            const slot = props.component.$slots[_props.name]\n                ? props.component.$slots[_props.name](props.props)\n                : slots.default\n                  ? slots.default()\n                  : {};\n\n            return createVNode(_props.tag as VNode, {}, slot);\n        };\n    },\n    {\n        name: \"OSlotComponent\",\n        // manual runtime props declaration is currently still needed.\n        props: [\"component\", \"props\", \"name\", \"tag\"],\n    },\n);\n","<script setup lang=\"ts\" generic=\"T\">\nimport { computed, watch, ref, type PropType } from \"vue\";\n\nimport OButton from \"@/components/button/Button.vue\";\nimport OSelect from \"@/components/select/Select.vue\";\nimport OIcon from \"@/components/icon/Icon.vue\";\nimport OField from \"@/components/field/Field.vue\";\n\nimport type { TableColumnItem } from \"./types\";\nimport type { ClassBind } from \"@/types\";\n\ndefineOptions({\n    isOruga: true,\n    name: \"OTableMobileSort\",\n    configField: \"table\",\n});\n\nconst props = defineProps({\n    currentSortColumn: {\n        type: Object as PropType<TableColumnItem<T>>,\n        default: undefined,\n    },\n    columns: {\n        type: Array as PropType<TableColumnItem<T>[]>,\n        default: undefined,\n    },\n    placeholder: { type: String, default: undefined },\n    iconPack: { type: String, default: undefined },\n    sortIcon: { type: String, default: \"arrow-up\" },\n    sortIconSize: { type: String, default: \"small\" },\n    isAsc: { type: Boolean, default: false },\n    mobileSortClasses: { type: Array as PropType<ClassBind[]>, required: true },\n});\n\nconst emits = defineEmits<{\n    sort: [column: TableColumnItem<T>, event: Event];\n}>();\n\nconst mobileSort = ref<string | undefined>(props.currentSortColumn?.identifier);\n\nconst showPlaceholder = computed(\n    () =>\n        !props.columns ||\n        props.columns.every((column) => column.identifier !== mobileSort.value),\n);\n\nconst sortableColumns = computed(() =>\n    props.columns ? props.columns.filter((c) => c.sortable) : [],\n);\n\nconst isCurrentSort = computed(\n    () => props.currentSortColumn?.identifier === mobileSort.value,\n);\n\nwatch(mobileSort, (value) => {\n    if (props.currentSortColumn?.identifier === value) return;\n    sort(new Event(\"sort\"));\n});\n\nwatch(\n    () => props.currentSortColumn,\n    (column) => {\n        mobileSort.value = column?.identifier;\n    },\n);\n\nfunction sort(event: Event): void {\n    const column = sortableColumns.value.find(\n        (column) => column.identifier === mobileSort.value,\n    );\n    if (!column) return;\n    emits(\"sort\", column, event);\n}\n</script>\n\n<template>\n    <div :class=\"mobileSortClasses\">\n        <o-field addons>\n            <o-select v-model=\"mobileSort\" expanded>\n                <template v-if=\"placeholder\">\n                    <option\n                        v-show=\"showPlaceholder\"\n                        :value=\"{}\"\n                        selected\n                        disabled\n                        hidden>\n                        {{ placeholder }}\n                    </option>\n                </template>\n                <option\n                    v-for=\"(column, index) in sortableColumns\"\n                    :key=\"column.field || index\"\n                    :value=\"column.identifier\">\n                    {{ column.label }}\n                </option>\n            </o-select>\n\n            <o-button @click=\"sort($event)\">\n                <o-icon\n                    v-show=\"isCurrentSort\"\n                    :icon=\"sortIcon\"\n                    :pack=\"iconPack\"\n                    :size=\"sortIconSize\"\n                    both\n                    :rotation=\"!isAsc ? 180 : 0\" />\n            </o-button>\n        </o-field>\n    </div>\n</template>\n","<script setup lang=\"ts\" generic=\"T, K extends string\">\nimport { computed, getCurrentInstance } from \"vue\";\n\nimport { defineClasses, useProviderChild } from \"@/composables\";\nimport { toCssDimension } from \"@/utils/helpers\";\n\nimport type { TableColumnComponent, TableComponent } from \"./types\";\nimport type { TableColumnProps } from \"./props\";\n\n/**\n * Define a column used by the table component.\n * @displayName Table Column\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OTableColumn\",\n    configField: \"table\",\n});\n\nconst props = withDefaults(defineProps<TableColumnProps<T, K>>(), {\n    label: undefined,\n    field: undefined,\n    formatter: undefined,\n    subheading: undefined,\n    width: undefined,\n    numeric: false,\n    position: undefined,\n    searchable: false,\n    sortable: false,\n    hidden: false,\n    sticky: false,\n    headerSelectable: false,\n    customSort: undefined,\n    customSearch: undefined,\n    thAttrs: undefined,\n    tdAttrs: undefined,\n});\n\nconst style = computed(() => ({\n    width: toCssDimension(props.width),\n}));\n\nconst isHeaderUnselectable = computed(\n    () => !props.headerSelectable && props.sortable,\n);\n\nconst vm = getCurrentInstance();\n\n// provided data is a computed ref to ensure reactivity\nconst providedData = computed<TableColumnComponent<T>>(() => ({\n    ...props,\n    $el: vm!.proxy!,\n    $slots: vm!.slots,\n    style: style.value,\n    thClasses: thClasses.value,\n    tdClasses: tdClasses.value,\n}));\n\n/** inject functionalities and data from the parent component */\nconst { parent, item } = useProviderChild<\n    TableComponent,\n    TableColumnComponent<T>\n>({ data: providedData });\n\n// --- Computed Component Classes ---\n\nconst thClasses = defineClasses(\n    [\n        \"thCurrentSortClass\",\n        \"o-table__th-current-sort\",\n        null,\n        computed(() => parent.value?.isColumnSorted(item.value)),\n    ],\n    [\n        \"thSortableClass\",\n        \"o-table__th--sortable\",\n        null,\n        computed(() => props.sortable),\n    ],\n    [\n        \"thUnselectableClass\",\n        \"o-table__th--unselectable\",\n        null,\n        isHeaderUnselectable,\n    ],\n    [\n        \"thPositionClass\",\n        \"o-table__th--\",\n        computed(() => props.position),\n        computed(() => !!props.position),\n    ],\n    [\n        \"thStickyClass\",\n        \"o-table__th--sticky\",\n        null,\n        computed(() => props.sticky),\n    ],\n);\n\nconst tdClasses = defineClasses(\n    [\n        \"tdPositionClass\",\n        \"o-table__td--\",\n        computed(() => props.position),\n        computed(() => !!props.position),\n    ],\n    [\n        \"tdStickyClass\",\n        \"o-table__td--sticky\",\n        null,\n        computed(() => props.sticky),\n    ],\n);\n\n// --- SLOTS TYPED OBJECTS ---\n\n// these properties are just for type addings\n// slot props will be set in Table.vue\nconst row = {} as any;\nconst column = {} as TableColumnProps<T, K>;\nconst index = 0;\nconst toggle = () => {};\nconst filters = {} as Record<string, string>;\n</script>\n\n<template>\n    <span data-oruga=\"table-column\" :data-id=\"`table-${item.identifier}`\">\n        {{ label }}\n\n        <!--\n            Do not render these slots here.\n            These are only for documentation purposes.\n            Slots are defined in table component.\n        -->\n        <template v-if=\"false\">\n            <!--\n                @slot Default Slot\n                @binding {T} row - row data \n                @binding {TableColumn} column - column definition \n                @binding {number} index - row index \n                @binding {number} colindex - column index \n                @binding {(): void} toggle-details - toggle details function \n            -->\n            <slot\n                :row=\"row\"\n                :column=\"column\"\n                :index=\"index\"\n                :colindex=\"index\"\n                :toggle-details=\"toggle\" />\n            <!--\n                @slot Override header label \n                @binding {TableColumn} column - column definition \n                @binding {number} index - column index \n            -->\n            <slot name=\"header\" :column=\"column\" :index=\"index\" />\n            <!--\n                @slot Override subheading label \n                @binding {TableColumn} column - column definition \n                @binding {number} index - column index \n            -->\n            <slot name=\"subheading\" :column=\"column\" :index=\"index\" />\n\n            <!--\n                @slot Override searchable input \n                @binding {TableColumn} column - column definition \n                @binding {number} index - column index \n                @binding {object} filters - active filters object\n            -->\n            <slot\n                name=\"searchable\"\n                :column=\"column\"\n                :index=\"index\"\n                :filters=\"filters\" />\n        </template>\n    </span>\n</template>\n","<script setup lang=\"ts\">\nimport type { PropType } from \"vue\";\n\nimport OPagination from \"@/components/pagination/Pagination.vue\";\n\nimport type { ComponentClass } from \"@/types\";\n\ndefineOptions({\n    isOruga: true,\n    name: \"OTablePagination\",\n    configField: \"table\",\n    inheritAttrs: false,\n});\n\ndefineProps({\n    current: { type: Number, default: undefined },\n    paginated: { type: Boolean, default: false },\n    rootClass: {\n        type: [String, Array, Object] as PropType<ComponentClass>,\n        default: undefined,\n    },\n});\n\nconst emits = defineEmits<{\n    /**\n     * current prop two-way binding\n     * @param value {number} updated current prop\n     */\n    \"update:current\": [value: number];\n    /**\n     * on current change event\n     * @param value {number} current value\n     */\n    change: [event: number];\n}>();\n\nconst currentPage = defineModel<number>(\"current\");\n\n/** paginator change listener */\nfunction pageChanged(page: number): void {\n    const newPage = page > 0 ? page : 1;\n    currentPage.value = newPage;\n    emits(\"change\", newPage);\n}\n</script>\n\n<template>\n    <div :class=\"rootClass\">\n        <div>\n            <slot />\n        </div>\n\n        <div>\n            <o-pagination\n                v-if=\"paginated\"\n                v-bind=\"$attrs\"\n                :current=\"currentPage\"\n                @change=\"pageChanged\" />\n        </div>\n    </div>\n</template>\n","<script setup lang=\"ts\" generic=\"T\">\nimport {\n    computed,\n    ref,\n    watch,\n    onMounted,\n    nextTick,\n    useSlots,\n    toValue,\n    useTemplateRef,\n    toRaw,\n    triggerRef,\n    type MaybeRefOrGetter,\n} from \"vue\";\n\nimport OCheckbox from \"@/components/checkbox/Checkbox.vue\";\nimport OIcon from \"@/components/icon/Icon.vue\";\nimport OInput from \"@/components/input/Input.vue\";\nimport OLoading from \"@/components/loading/Loading.vue\";\nimport OSlotComponent from \"@/components/utils/SlotComponent\";\n\nimport OTableMobileSort from \"./TableMobileSort.vue\";\nimport OTableColumn from \"./TableColumn.vue\";\nimport OTablePagination from \"./TablePagination.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport {\n    getValueByPath,\n    toCssDimension,\n    escapeRegExpChars,\n    removeDiacriticsFromString,\n    sortBy,\n    isDefined,\n    getPropertyValue,\n} from \"@/utils/helpers\";\nimport {\n    defineClasses,\n    getActiveClasses,\n    useProviderParent,\n    useMatchMedia,\n    useDebounce,\n    isOptionViable,\n    filterOptionsItems,\n    useSequentialId,\n} from \"@/composables\";\n\nimport type { ClassBind, DeepType } from \"@/types\";\nimport type {\n    TableColumn,\n    TableRow,\n    TableColumnItem,\n    TableColumnComponent,\n    TableComponent,\n} from \"./types\";\nimport type { TableProps } from \"./props\";\n\n/**\n * Tabulated data are sometimes needed, it's even better when it's responsive.\n * @displayName Table\n * @requires ./TableColumn.vue\n * @style _table.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OTable\",\n    configField: \"table\",\n    inheritAttrs: false,\n});\n\nconst props = withDefaults(defineProps<TableProps<T>>(), {\n    override: undefined,\n    data: undefined,\n    columns: undefined,\n    rowKey: () => getDefault(\"table.rowKey\"),\n    rowClass: getDefault(\"table.rowClass\", () => \"\"),\n    thAttrs: undefined,\n    tdAttrs: undefined,\n    customCompare: undefined,\n    bordered: () => getDefault(\"table.bordered\", false),\n    striped: () => getDefault(\"table.striped\", false),\n    narrowed: () => getDefault(\"table.narrowed\", false),\n    hoverable: () => getDefault(\"table.hoverable\", false),\n    selected: undefined,\n    selectable: () => getDefault(\"table.selectable\", false),\n    isRowSelectable: () => true,\n    showHeader: () => getDefault(\"table.showHeader\", true),\n    draggable: false,\n    draggableColumn: false,\n    scrollable: undefined,\n    stickyHeader: false,\n    height: undefined,\n    checkable: false,\n    stickyCheckbox: false,\n    checkableHeader: true,\n    checkedRows: () => [],\n    checkboxPosition: () => getDefault(\"table.checkboxPosition\", \"left\"),\n    checkboxVariant: () => getDefault(\"table.checkboxVariant\"),\n    isRowChecked: undefined,\n    isRowCheckable: getDefault(\"table.isRowCheckable\", () => true),\n    backendSorting: () => getDefault(\"table.backendSorting\", false),\n    defaultSort: () => getDefault(\"table.defaultSort\"),\n    defaultSortDirection: () => getDefault(\"table.defaultSortDirection\", \"asc\"),\n    sortIcon: () => getDefault(\"table.sortIcon\", \"arrow-up\"),\n    sortIconSize: () => getDefault(\"table.sortIconSize\", \"small\"),\n    iconPack: () => getDefault(\"table.iconPack\"),\n    detailed: false,\n    detailedRows: () => [],\n    isDetailedVisible: getDefault(\"table.isDetailedVisible\", () => true),\n    showDetailIcon: () => getDefault(\"table.showDetailIcon\", true),\n    detailIcon: () => getDefault(\"table.detailIcon\", \"chevron-right\"),\n    customDetailRow: false,\n    detailTransition: () => getDefault(\"table.detailTransition\", \"slide\"),\n    paginated: () => getDefault(\"table.paginated\", false),\n    backendPagination: false,\n    total: 0,\n    currentPage: 1,\n    perPage: () => getDefault(\"table.perPage\", 20),\n    paginationPosition: () => getDefault(\"table.paginationPosition\", \"bottom\"),\n    paginationSize: () => getDefault(\"table.paginationSize\", \"small\"),\n    paginationRounded: () => getDefault(\"table.paginationRounded\", false),\n    paginationSimple: () => getDefault(\"table.paginationSimple\", false),\n    paginationOrder: () => getDefault(\"table.paginationOrder\"),\n    backendFiltering: () => getDefault(\"table.backendFiltering\", false),\n    filtersIcon: () => getDefault(\"table.filterIcon\"),\n    filtersPlaceholder: () => getDefault(\"table.filterPlaceholder\"),\n    filtersEvent: \"\",\n    filterDebounce: () => getDefault(\"table.filterDebounce\", 300),\n    emptyLabel: () => getDefault(\"table.emptyLabel\"),\n    emptyIcon: () => getDefault(\"table.emptyIcon\"),\n    emptyIconSize: () => getDefault(\"table.emptyIconSize\"),\n    loading: false,\n    loadingIcon: () => getDefault(\"table.loadingIcon\", \"loading\"),\n    loadingLabel: () => getDefault(\"table.loadingLabel\"),\n    mobileBreakpoint: () => getDefault(\"table.mobileBreakpoint\"),\n    mobileCards: () => getDefault(\"table.mobileCards\", true),\n    mobileSortPlaceholder: () => getDefault(\"table.mobileSortPlaceholder\"),\n    ariaNextLabel: () => getDefault(\"table.ariaNextLabel\"),\n    ariaPreviousLabel: () => getDefault(\"table.ariaPreviousLabel\"),\n    ariaPageLabel: () => getDefault(\"table.ariaPageLabel\"),\n    ariaCurrentLabel: () => getDefault(\"table.ariaCurrentLabel\"),\n});\n\nconst emits = defineEmits<{\n    /**\n     * currentPage prop two-way binding\n     * @param value {number} updated currentPage prop\n     */\n    \"update:currentPage\": [value: number];\n    /**\n     * on pagination page change event\n     * @param page {number} updated page\n     */\n    \"page-change\": [page: number];\n    /**\n     * select prop two-way binding\n     * @param value {T} updated select prop\n     */\n    \"update:selected\": [value: T];\n    /**\n     * on row select event\n     * @param newRow {T} new select value\n     * @param oldRow {T} old select value\n     */\n    select: [newRow: T, oldRow: T];\n    /**\n     * on row checked event\n     * @param value {T[]} all checked rows\n     * @param row {T} row data\n     */\n    check: [value: T[], row: T];\n    /**\n     * on all rows checked event\n     * @param value {T[]} all checked rows\n     */\n    \"check-all\": [value: T[]];\n    /**\n     * checkedRows prop two-way binding\n     * @param value {T[]} updated checkedRows prop\n     */\n    \"update:checkedRows\": [value: T[]];\n    /**\n     * on column sort change event\n     * @param column {TableColumn} column data\n     * @param direction {string}  'asc' or 'desc'\n     * @param event {Event} native  event\n     */\n    sort: [column: TableColumn<T>, direction: \"asc\" | \"desc\", event: Event];\n    /**\n     * on filter change event\n     * @param filters {object} filter object\n     */\n    \"filters-change\": [value: Record<string, string>];\n    /**\n     * on native filter event based on props filtersEvent\n     * @param filtersEvent {string} props filtersEvent value\n     * @param filters {object} filter object\n     * @param event {Event} native  event\n     */\n    \"filters-event\": [\n        filtersEvent: string,\n        filters: Record<string, string>,\n        event: Event,\n    ];\n    /**\n     * detailedRows prop two-way binding\n     * @param value {T[]} updated detailedRows prop\n     */\n    \"update:detailedRows\": [value: T[]];\n    /**\n     * on details open event\n     * @param row {T} row data\n     */\n    \"details-open\": [row: T];\n    /**\n     * on details close event\n     * @param row {T} row data\n     */\n    \"details-close\": [row: T];\n    /**\n     * on row click event\n     * @param row {T} row data\n     * @param index {number} index of clicked row\n     * @param event {Event} native click event\n     */\n    click: [row: T, index: number, event: Event];\n    /**\n     * on row double click event\n     * @param row {T} row data\n     * @param index {number} index of clicked row\n     * @param event {Event} native click event\n     */\n    dblclick: [row: T, index: number, event: Event];\n    /**\n     * on row right click event\n     * @param row {T} row data\n     * @param index {number} index of clicked row\n     * @param event {Event} native contextmenu event\n     */\n    contextmenu: [row: T, index: number, event: Event];\n    /**\n     * on row mouseenter event\n     * @param row {T} row data\n     * @param index {number} index of clicked row\n     * @param event {Event} native mouseenter event\n     */\n    mouseenter: [row: T, index: number, event: Event];\n    /**\n     * on row mouseleave event\n     * @param row {T} row data\n     * @param index {number} index of clicked row\n     * @param event {Event} native mouseleave event\n     */\n    mouseleave: [row: T, index: number, event: Event];\n    /**\n     * on cell click event\n     * @param row {T} row data\n     * @param column {TableColumn} column data\n     * @param index {number} row index\n     * @param colindex {number} column index\n     * @param event {Event} native click event\n     */\n    \"cell-click\": [\n        row: T,\n        column: TableColumn<T>,\n        index: number,\n        colindex: number,\n        event: Event,\n    ];\n    /**\n     * on row dragstart event\n     * @param row {T} row data\n     * @param index {number} index of draged row\n     * @param event {DragEvent} native dragstart event\n     */\n    dragstart: [row: T, index: number, event: DragEvent];\n    /**\n     * on row dragend event\n     * @param row {T} row data\n     * @param index {number} index of draged row\n     * @param event {DragEvent} native dragend event\n     */\n    dragend: [row: T, index: number, event: DragEvent];\n    /**\n     * on row drop event\n     * @param row {T} row data\n     * @param index {number} index of draged row\n     * @param event {DragEvent} native drop event\n     */\n    drop: [row: T, index: number, event: DragEvent];\n    /**\n     * on row dragleave event\n     * @param row {T} row data\n     * @param index {number} index of draged row\n     * @param event {DragEvent} native dragleave event\n     */\n    dragleave: [row: T, index: number, event: DragEvent];\n    /**\n     * on row dragover event\n     * @param row {T} row data\n     * @param index {number} index of draged row\n     * @param event {DragEvent} native dragover event\n     */\n    dragover: [row: T, index: number, event: DragEvent];\n    /**\n     * on column columndragstart event\n     * @param column {TableColumn} column data\n     * @param index {number} index of draged column\n     * @param event {DragEvent} native columndragstart event\n     */\n    columndragstart: [column: TableColumn<T>, index: number, event: DragEvent];\n    /**\n     * on column columndragend event\n     * @param column {TableColumn} column data\n     * @param index {number} index of draged column\n     * @param event {DragEvent} native columndragend event\n     */\n    columndragend: [column: TableColumn<T>, index: number, event: DragEvent];\n    /**\n     * on column columndrop event\n     * @param column {TableColumn} column data\n     * @param index {number} index of draged column\n     * @param event {DragEvent} native columndrop event\n     */\n    columndrop: [column: TableColumn<T>, index: number, event: DragEvent];\n    /**\n     * on column columndragleave event\n     * @param column {TableColumn} column data\n     * @param index {number} index of draged column\n     * @param event {DragEvent} native columndragleave event\n     */\n    columndragleave: [column: TableColumn<T>, index: number, event: DragEvent];\n    /**\n     * on column columndragover event\n     * @param column {TableColumn} column data\n     * @param index {number} index of draged column\n     * @param event {DragEvent} native columndragover event\n     */\n    columndragover: [column: TableColumn<T>, index: number, event: DragEvent];\n}>();\n\nconst slots = useSlots();\n\nconst { isMobile } = useMatchMedia(props.mobileBreakpoint);\n\nconst isMobileActive = computed(() => props.mobileCards && isMobile.value);\n\nconst slotsRef = useTemplateRef(\"slotsWrapper\");\n\n// provided data is a computed ref to ensure reactivity\nconst provideData = computed<TableComponent>(() => ({\n    isColumnSorted,\n}));\n\n/** provide functionalities and data to child item components */\nconst { childItems } = useProviderParent<TableColumnComponent<T>>({\n    rootRef: slotsRef,\n    data: provideData,\n});\n\n// #region --- TABLE COLUMNS ---\n\n/** all defined columns */\nconst tableColumns = computed<TableColumnItem<T>[]>(() => {\n    if (!childItems.value.length) return [];\n    return childItems.value.map((columnItem) => {\n        const column = toValue(columnItem.data!);\n\n        // create additional th attrs data\n        let thAttrsData =\n            typeof props.thAttrs === \"function\" ? props.thAttrs(column) : {};\n        thAttrsData = Object.assign(thAttrsData, column.thAttrs);\n\n        // create additional td attrs data\n        const tdAttrsData = (props.data ?? []).map((data) => {\n            const tdAttrs =\n                typeof props.tdAttrs === \"function\"\n                    ? props.tdAttrs(data, column)\n                    : {};\n            return Object.assign(tdAttrs, column.tdAttrs);\n        });\n\n        return {\n            ...column,\n            value: column,\n            index: columnItem.index,\n            identifier: columnItem.identifier,\n            thAttrsData: thAttrsData,\n            tdAttrsData: tdAttrsData,\n        };\n    });\n});\n\n/** total columns count */\nconst columnCount = computed(() => {\n    let i = tableColumns.value.length;\n    if (showDetailRowIcon.value) i++;\n    if (props.checkable) i++;\n    return i;\n});\n\n/** aria-colindex start value for ths */\nconst ariaColIndexStart = computed(() => {\n    let i = 1;\n    if (showDetailRowIcon.value) i++;\n    if (props.checkable && props.checkboxPosition === \"left\") i++;\n    return i;\n});\n\n/** check if table has subheadings  */\nconst hasSubheadings = computed(() => {\n    if (slots.subheading) return true;\n    return tableColumns.value.some((column) => !!column.subheading);\n});\n\n/** check if table is scrollable */\nconst isScrollable = computed(() => {\n    if (props.scrollable) return true;\n    return tableColumns.value.some((column) => column.sticky);\n});\n\n// #endregion --- TABLE COLUMNS ---\n\n// #region --- TABLE ROWS ---\n\nconst tableCurrentPage = defineModel<number>(\"currentPage\", { default: 1 });\n\n// recompute table rows visibility on page change or data change\nwatch([tableCurrentPage, () => props.perPage, () => props.data], () =>\n    filterTableRows(),\n);\n\n// create a unique id sequence\nconst { nextSequence } = useSequentialId();\n\n/** all defined data elements as normalized options with a unique key*/\nconst tableRows = computed<TableRow<T>[]>(() => {\n    if (!props.data) return [];\n    return props.data.map((value: T, idx: number) => ({\n        label: \"row \" + idx, // row display label\n        value: toValue(value), // normalizes wrapped ref values\n        index: idx, // row index\n        key:\n            // if no key is given and data is object, create unique row id for each row\n            String(\n                getValueByPath(\n                    value,\n                    props.rowKey,\n                    nextSequence() as DeepType<T, string>,\n                ),\n            ),\n    }));\n});\n\n/** visible rows which are filtered by viability */\nconst availableRows = computed<TableRow<T>[]>(() =>\n    tableRows.value.filter(isOptionViable),\n);\n\n/** applies visability filter of reactive tableRows */\nfunction filterTableRows(): void {\n    // calculate pagination information\n    const currentPage = tableCurrentPage.value;\n    const perPage = Number(props.perPage);\n    const pageStart = (currentPage - 1) * perPage;\n    const pageEnd = pageStart + perPage;\n\n    // update hidden state for each row\n    filterOptionsItems(tableRows, (row, idx) => {\n        // if paginated not backend paginated, paginate row\n        if (props.paginated || !props.backendPagination) {\n            // if not only one page and not on active page\n            if (\n                tableRows.value.length > perPage &&\n                (idx < pageStart || idx >= pageEnd)\n            )\n                // return row is invisible (filtered out)\n                return true;\n        }\n\n        // if not backend filtered, filter row\n        if (!props.backendFiltering)\n            // return row is visible based on filters\n            return !isRowFiltered(row.value);\n\n        // return row is visible (not filtered out)\n        return false;\n    });\n}\n\n/*\n * Total data count.\n * If backend paginated, use props total else use rows data length as pagination total.\n */\nconst tableTotal = computed(() =>\n    props.backendPagination ? props.total : tableRows.value.length,\n);\n\n/** total rows count  */\nconst rowCount = computed(() => {\n    return tableTotal.value + ariaRowIndexStart.value;\n});\n\n/** aria-rowindex start value for tds based if it's Searchable or has subheadings */\nconst ariaRowIndexStart = computed(() => {\n    let i = 1;\n    if (hasSearchableColumns.value) i++;\n    if (hasSubheadings.value) i++;\n    return i;\n});\n\n/**\n * Check if footer slot has custom content.\n * Must be called during rendering.\n */\nfunction hasCustomFooterSlot(): boolean {\n    if (!slots.footer) return false;\n\n    const footer = slots.footer({\n        columnCount: columnCount.value,\n        rowCount: rowCount.value,\n    });\n    if (footer.length > 1) return true;\n\n    const tag = footer[0][\"type\"];\n    return tag === \"th\" || tag === \"td\";\n}\n\n/** get the formated row value for a column */\nfunction getColumnValue(row: T, column: TableColumn<T>): string {\n    return getPropertyValue(row, column.field, column.formatter);\n}\n\n/** check if two rows are equal by a custom compare function or the rowKey attribute */\nfunction isRowEqual(\n    sourceRow: MaybeRefOrGetter<T>,\n    targetRow: MaybeRefOrGetter<T>,\n): boolean {\n    const el1 = toRaw(toValue(sourceRow));\n    const el2 = toRaw(toValue(targetRow));\n    if (!isDefined(targetRow)) return false;\n    if (typeof props.customCompare === \"function\")\n        return props.customCompare(el1, el2);\n    if (props.rowKey)\n        return (\n            getPropertyValue(el1, props.rowKey) ==\n            getPropertyValue(el2, props.rowKey)\n        );\n    return el1 == el2;\n}\n\n// #endregion  --- TABLE ROWS ---\n\n// #region --- Select Feature ---\n\nconst tableSelectedRow = defineModel<T>(\"selected\", { default: undefined });\n\n/** table arrow keys listener, change selection */\nfunction onArrowPressed(delta: 1 | -1, event: KeyboardEvent): void {\n    if (!availableRows.value.length) return;\n\n    let index =\n        availableRows.value.findIndex((row) =>\n            isRowEqual(row.value, tableSelectedRow.value),\n        ) + delta;\n\n    // check if index overflow\n    index =\n        index > availableRows.value.length - 1\n            ? availableRows.value.length - 1\n            : index;\n    // check if index underflow\n    index = index < 0 ? 0 : index;\n\n    // get row element\n    const row = availableRows.value[index];\n\n    if (!props.isRowSelectable(row.value)) {\n        let newIndex: number | undefined;\n        if (delta > 0) {\n            for (\n                let i = index;\n                i < availableRows.value.length && newIndex === undefined;\n                i++\n            ) {\n                if (props.isRowSelectable(availableRows.value[i].value))\n                    newIndex = i;\n            }\n        } else {\n            for (let i = index; i >= 0 && newIndex === undefined; i--) {\n                if (props.isRowSelectable(availableRows.value[i].value))\n                    newIndex = i;\n            }\n        }\n        if (newIndex != undefined && newIndex >= 0)\n            selectRow(availableRows.value[newIndex], event);\n    } else {\n        selectRow(row, event);\n    }\n}\n\n/**\n * Row click listener.\n * Emit all necessary events.\n */\nfunction selectRow(row: TableRow<T>, event: Event): void {\n    emits(\"click\", row.value, row.index, event);\n\n    if (!props.selectable) return;\n\n    if (isRowEqual(tableSelectedRow, row.value)) return;\n    if (!props.isRowSelectable(row.value)) return;\n\n    tableSelectedRow.value = row.value;\n    // emit new and old row\n    emits(\"select\", row.value, tableSelectedRow.value);\n}\n\n// #endregion --- Select Feature ---\n\n// #region --- Filter Feature ---\n\n/** search filter record alias { fieldKey: filterValue } */\nconst filters = ref<Record<string, string>>({});\n\n/** check if has any searchable column */\nconst hasSearchableColumns = computed(() =>\n    tableColumns.value.some((column) => column.searchable),\n);\n\nlet debouncedFilter: ReturnType<\n    typeof useDebounce<Parameters<typeof handleFiltersChange>>\n>;\n\n// initialise and update debounces filter function\nwatch(\n    () => props.filterDebounce,\n    (debounce) =>\n        (debouncedFilter = useDebounce(handleFiltersChange, debounce || 0)),\n    { immediate: true },\n);\n\n// react on filters got changed\nwatch(filters, (value) => debouncedFilter(value), { deep: true });\n\nfunction handleFiltersChange(value: Record<string, string>): void {\n    emits(\"filters-change\", value);\n    // if not backend filtered, recompute rows visibility with updated filters\n    if (!props.backendFiltering) {\n        filterTableRows();\n        // force tableRows reactivity to update\n        triggerRef(tableRows);\n    }\n}\n\nfunction onFiltersEvent(event: Event): void {\n    emits(\"filters-event\", props.filtersEvent, filters.value, event);\n}\n\n/**\n * check whether a row is filtered by active filters or not\n * @param row - row element\n *\n * @returns is row filtered in\n * */\nfunction isRowFiltered(row: T): boolean {\n    if (!Object.values(filters.value).filter(Boolean).length) return true;\n    return Object.entries(filters.value).some(([key, filter]) => {\n        if (!filter) return false;\n        // get column for filter\n        const column = tableColumns.value.find((c) => c.field === key);\n        // if column has onSearch return result\n        if (typeof column?.customSearch === \"function\")\n            return column.customSearch(row, filter);\n\n        const value =\n            typeof row === \"object\" && !!row ? getValueByPath(row, key) : row;\n        if (value == null) return false;\n        // if number compare values\n        if (Number.isInteger(value)) return value === Number(filter);\n        const re = new RegExp(escapeRegExpChars(filter), \"i\");\n        if (Array.isArray(value))\n            return value.some(\n                (val) =>\n                    re.test(removeDiacriticsFromString(val)) || re.test(val),\n            );\n        if (typeof value !== \"string\") return !!value;\n        return re.test(removeDiacriticsFromString(value)) || re.test(value);\n    });\n}\n\n// #endregion --- Filter Feature ---\n\n// #region --- Sort Feature ---\n\nconst currentSortColumn = ref<TableColumnItem<T>>();\nconst isAsc = ref(true);\n\n/** check if has any sortable column */\nconst hasSortableColumns = computed(() =>\n    tableColumns.value.some((column) => column.sortable),\n);\n\n/** check if the column is the current sort column */\nfunction isColumnSorted(column: TableColumnItem<T>): boolean {\n    return currentSortColumn.value?.identifier === column.identifier;\n}\n\n// call initSort only first time (for example async data)\n// initSort must be called after async TableColumns got initialised first time\nonMounted(() => nextTick(() => initSort()));\n\n/** initial sorted column based on the default-sort prop */\nfunction initSort(): void {\n    if (!tableColumns.value.length || currentSortColumn.value) return;\n    if (!props.defaultSort) return;\n    let sortField = \"\";\n    let sortDirection = props.defaultSortDirection;\n    if (Array.isArray(props.defaultSort)) {\n        sortField = props.defaultSort[0];\n        if (props.defaultSort[1]) sortDirection = props.defaultSort[1];\n    } else {\n        sortField = props.defaultSort;\n    }\n    sortByField(sortField, sortDirection);\n}\n\nfunction sortByField(field: string, direction: \"asc\" | \"desc\"): void {\n    const sortColumn = tableColumns.value.find(\n        (column) => column.field === field,\n    );\n    if (sortColumn) {\n        isAsc.value = direction.toLowerCase() === \"asc\";\n        sort(sortColumn);\n    }\n}\n\n/**\n * Sort the column.\n * Toggle current direction on column if it's sortable\n * and not just updating the prop.\n */\nfunction sort(\n    column: TableColumnItem<T>,\n    updateDirection = false,\n    event?: Event,\n): void {\n    if (!column?.sortable) return;\n\n    if (updateDirection)\n        isAsc.value = isColumnSorted(column)\n            ? !isAsc.value\n            : props.defaultSortDirection.toLowerCase() === \"asc\";\n\n    // if not first time sort\n    if (currentSortColumn.value)\n        emits(\n            \"sort\",\n            column,\n            isAsc.value ? \"asc\" : \"desc\",\n            event || new Event(\"sort\"),\n        );\n\n    currentSortColumn.value = column;\n\n    // if not backend sorted\n    if (!props.backendSorting) {\n        // sort rows by mutating the tableRows array\n        sortByColumn(tableRows.value);\n\n        // recalculate the page filter\n        filterTableRows();\n    }\n}\n\nfunction sortByColumn(rows: TableRow<T>[]): TableRow<T>[] {\n    const column = currentSortColumn.value;\n    if (!column) return rows;\n    return sortBy<TableRow<T>>(\n        rows,\n        column?.field ? \"value.\" + column.field : \"\",\n        column?.customSort\n            ? (a, b, asc): number => column.customSort!(a.value, b.value, asc)\n            : undefined,\n        isAsc.value,\n        true,\n    );\n}\n\n// #endregion --- Sort Feature ---\n\n// #region --- Checkable Feature ---\n\nconst tableCheckedRows = defineModel<T[]>(\"checkedRows\", {\n    default: [],\n});\n\n/** check if all rows in the page are checked */\nconst isAllChecked = computed(() => {\n    const validVisibleData = availableRows.value.filter((row) =>\n        props.isRowCheckable(row.value),\n    );\n    if (validVisibleData.length === 0) return false;\n    return validVisibleData.every((currentVisibleRow) =>\n        isChecked(currentVisibleRow),\n    );\n});\n\n/** check if all rows in the page are checkable */\nconst isAllUncheckable = computed(\n    () => !availableRows.value.some((row) => props.isRowCheckable(row.value)),\n);\n\n/** check if the row is checked (is added to the array) */\nfunction isChecked(row: TableRow<T>): boolean {\n    if (typeof props.isRowChecked === \"function\")\n        return props.isRowChecked(row.value);\n    else return tableCheckedRows.value.some((r) => isRowEqual(r, row.value));\n}\n\n/** add a checked row to the the array */\nfunction addCheckedRow(row: TableRow<T>): void {\n    tableCheckedRows.value = [...tableCheckedRows.value, row.value];\n}\n\n/** remove a checked row from the array */\nfunction removeCheckedRow(row: TableRow<T>): void {\n    const idx = tableCheckedRows.value.findIndex((r) =>\n        isRowEqual(r, row.value),\n    );\n    if (idx >= 0)\n        tableCheckedRows.value = tableCheckedRows.value.toSpliced(idx, 1);\n}\n\n/**\n * Header checkbox click listener.\n * Add or remove all rows in current page.\n */\nfunction checkAll(): void {\n    if (isAllChecked.value)\n        // if all rows are already checked, check nothing\n        tableCheckedRows.value = [];\n    else {\n        // else set all visible rows as checked\n        tableCheckedRows.value = availableRows.value\n            .filter((row) => props.isRowCheckable(row.value))\n            .map((row) => row.value);\n    }\n\n    // emit event after the reactive checked rows list got updated\n    nextTick(() => emits(\"check-all\", tableCheckedRows.value));\n}\n\n/** row checkbox click listener */\nfunction checkRow(row: TableRow<T>): void {\n    if (!props.isRowCheckable(row.value)) return;\n\n    if (isChecked(row)) removeCheckedRow(row);\n    else addCheckedRow(row);\n\n    // emit event after the reactive checked rows list got updated\n    nextTick(() => emits(\"check\", tableCheckedRows.value, row.value));\n}\n\n// #endregion --- Checkable Feature ---\n\n// #region --- Detail Row Feature ---\n\nconst visibleDetailedRows = defineModel<T[]>(\"detailedRows\", {\n    default: [],\n});\n\n/**\n * Return if detailed row tabled.\n * Will be with chevron column & icon or not.\n */\nconst showDetailRowIcon = computed(\n    () => props.detailed && props.showDetailIcon,\n);\n\n/** toggle to show/hide details slot */\nfunction toggleDetails(row: TableRow<T>): void {\n    if (isDetailRowVisible(row)) {\n        closeDetailRow(row);\n        emits(\"details-close\", row.value);\n    } else {\n        openDetailRow(row);\n        emits(\"details-open\", row.value);\n    }\n}\n\nfunction openDetailRow(row: TableRow<T>): void {\n    visibleDetailedRows.value = [...visibleDetailedRows.value, row.value];\n}\n\nfunction closeDetailRow(row: TableRow<T>): void {\n    const idx = visibleDetailedRows.value.findIndex((r) =>\n        isRowEqual(r, row.value),\n    );\n    if (idx >= 0)\n        visibleDetailedRows.value = visibleDetailedRows.value.toSpliced(idx, 1);\n}\n\nfunction isDetailRowVisible(row: TableRow<T>): boolean {\n    return (\n        props.detailed &&\n        visibleDetailedRows.value.some((r) => isRowEqual(r, row.value))\n    );\n}\n\n// #endregion --- Detail Row Feature ---\n\n// #region --- Drag&Drop Feature ---\n\nconst isDraggingRow = ref(false);\nconst isDraggingColumn = ref(false);\n\nconst canDragRow = computed(() => props.draggable && !isDraggingColumn.value);\n\nconst canDragColumn = computed(\n    () => props.draggableColumn && !isDraggingRow.value,\n);\n\n/** emits drag start event */\nfunction handleDragStart(row: TableRow<T>, event: DragEvent): void {\n    if (!props.draggable) return;\n    emits(\"dragstart\", row.value, row.index, event);\n}\n\n/** emits drag leave event */\nfunction handleDragEnd(row: TableRow<T>, event: DragEvent): void {\n    if (!props.draggable) return;\n    emits(\"dragend\", row.value, row.index, event);\n}\n\n/** emits drop event */\nfunction handleDrop(row: TableRow<T>, event: DragEvent): void {\n    if (!props.draggable) return;\n    emits(\"drop\", row.value, row.index, event);\n}\n\n/** emits drag over event */\nfunction handleDragOver(row: TableRow<T>, event: DragEvent): void {\n    if (!props.draggable) return;\n    emits(\"dragover\", row.value, row.index, event);\n}\n\n/** emits drag leave event */\nfunction handleDragLeave(row: TableRow<T>, event: DragEvent): void {\n    if (!props.draggable) return;\n    emits(\"dragleave\", row.value, row.index, event);\n}\n\n/** emits drag start event (column) */\nfunction handleColumnDragStart(\n    column: TableColumnItem<T>,\n    event: DragEvent,\n): void {\n    if (!canDragColumn.value) return;\n    isDraggingColumn.value = true;\n    emits(\"columndragstart\", column.value, column.index, event);\n}\n\n/** emits drag leave event (column) */\nfunction handleColumnDragEnd(\n    column: TableColumnItem<T>,\n    event: DragEvent,\n): void {\n    if (!canDragColumn.value) return;\n    isDraggingColumn.value = false;\n    emits(\"columndragend\", column.value, column.index, event);\n}\n\n/** emits drop event (column) */\nfunction handleColumnDrop(column: TableColumnItem<T>, event: DragEvent): void {\n    if (!canDragColumn.value) return;\n    emits(\"columndrop\", column.value, column.index, event);\n}\n\n/** emits drag over event (column) */\nfunction handleColumnDragOver(\n    column: TableColumnItem<T>,\n    event: DragEvent,\n): void {\n    if (!canDragColumn.value) return;\n    emits(\"columndragover\", column.value, column.index, event);\n}\n\n/** emits drag leave event (column) */\nfunction handleColumnDragLeave(\n    column: TableColumnItem<T>,\n    event: DragEvent,\n): void {\n    if (!canDragColumn.value) return;\n    emits(\"columndragleave\", column.value, column.index, event);\n}\n\n// #endregion --- Drag&Drop Feature ---\n\n// #region --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-table__root\"],\n    [\"mobileClass\", \"o-table__root--mobile\", null, isMobileActive],\n);\n\nconst tableWrapperClasses = defineClasses(\n    [\"wrapperClass\", \"o-table__wrapper\"],\n    [\n        \"stickyHeaderClass\",\n        \"o-table__wrapper--sticky-header\",\n        null,\n        computed(() => props.stickyHeader),\n    ],\n    [\"scrollableClass\", \"o-table__wrapper--scrollable\", null, isScrollable],\n    [\"mobileClass\", \"o-table__wrapper--mobile\", null, isMobileActive],\n);\n\nconst tableWrapperStyle = computed(() => ({\n    height: toCssDimension(props.height),\n}));\n\nconst tableClasses = defineClasses(\n    [\"tableClass\", \"o-table\"],\n    [\n        \"borderedClass\",\n        \"o-table--bordered\",\n        null,\n        computed(() => props.bordered),\n    ],\n    [\"stripedClass\", \"o-table--striped\", null, computed(() => props.striped)],\n    [\n        \"narrowedClass\",\n        \"o-table--narrowed\",\n        null,\n        computed(() => props.narrowed),\n    ],\n    [\n        \"hoverableClass\",\n        \"o-table--hoverable\",\n        null,\n        computed(\n            () =>\n                (props.hoverable || props.selectable) &&\n                !!availableRows.value.length,\n        ),\n    ],\n    [\n        \"emptyClass\",\n        \"o-table--empty\",\n        null,\n        computed(() => !availableRows.value.length),\n    ],\n);\n\nconst thBaseClasses = defineClasses([\"thClass\", \"o-table__th\"]);\n\nconst thCheckboxClasses = defineClasses(\n    [\"thCheckboxClass\", \"o-table__th-checkbox\"],\n    [\n        \"thStickyClass\",\n        \"o-table__th--sticky\",\n        null,\n        computed(() => props.stickyCheckbox),\n    ],\n);\n\nconst thDetailedClasses = defineClasses([\n    \"thDetailedClass\",\n    \"o-table__th-detailed\",\n]);\n\nconst thSubheadingClasses = defineClasses([\n    \"thSubheadingClass\",\n    \"o-table__th-subheading\",\n]);\n\nconst thSortIconClasses = defineClasses([\n    \"thSortIconClass\",\n    \"o-table__th__sort-icon\",\n]);\n\nconst trSelectedClasses = defineClasses([\n    \"trSelectedClass\",\n    \"o-table__tr--selected\",\n]);\n\nconst trCheckedClasses = defineClasses([\n    \"trCheckedClass\",\n    \"o-table__tr--checked\",\n]);\n\nconst trEmptyClasses = defineClasses([\"trEmptyClass\", \"o-table__tr-empty\"]);\n\nconst trDetailedClasses = defineClasses([\n    \"trDetailedClass\",\n    \"o-table__tr-detail\",\n]);\n\nconst tdBaseClasses = defineClasses([\"tdClass\", \"o-table__td\"]);\n\nconst tdCheckboxClasses = defineClasses(\n    [\"tdCheckboxClass\", \"o-table__td-checkbox\"],\n    [\n        \"thStickyClass\",\n        \"o-table__th--sticky\",\n        null,\n        computed(() => props.stickyCheckbox),\n    ],\n);\n\nconst tdDetailedChevronClasses = defineClasses([\n    \"tdDetailedChevronClass\",\n    \"o-table__td-chevron\",\n]);\n\nconst footerClasses = defineClasses([\"footerClass\", \"o-table__footer\"]);\n\nconst mobileSortClasses = defineClasses([\n    \"mobileSortClass\",\n    \"o-table__mobile-sort\",\n]);\n\nconst paginationWrapperClasses = defineClasses([\n    \"paginationWrapperClass\",\n    \"o-table__pagination\",\n]);\n\nconst paginationWrapperRootClasses = computed(() =>\n    getActiveClasses(paginationWrapperClasses),\n);\n\nfunction rowClasses(row: TableRow<T>): ClassBind[] {\n    const selectedClasses = isRowEqual(row.value, tableSelectedRow.value)\n        ? trSelectedClasses.value\n        : [];\n\n    const checkedClasses = isChecked(row) ? trCheckedClasses.value : [];\n\n    const rowClass =\n        typeof props.rowClass === \"function\"\n            ? props.rowClass(row.value, row.index) || \"\"\n            : \"\";\n\n    return [...selectedClasses, ...checkedClasses, { [rowClass]: true }];\n}\n\n// #endregion --- Computed Component Classes ---\n\n// compute initial row visibility\nfilterTableRows();\n\n// #region --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ rows: tableRows, sort: sortByField });\n\n// #endregion\n</script>\n\n<template>\n    <div data-oruga=\"table\" :class=\"rootClasses\">\n        <div ref=\"slotsWrapper\" style=\"display: none\">\n            <!--\n                @slot Place o-table-column here\n            -->\n            <slot>\n                <!--\n                    @slot Place extra `o-table-column` components here, even if you have some columns defined by prop\n                -->\n                <slot name=\"before\" />\n\n                <template v-if=\"columns?.length\">\n                    <o-table-column\n                        v-for=\"(column, idx) in columns\"\n                        :key=\"column.field || idx\"\n                        v-slot=\"{ row }\"\n                        v-bind=\"column\">\n                        {{ getColumnValue(row, column) }}\n                    </o-table-column>\n                </template>\n\n                <!--\n                    @slot Place extra `o-table-column` components here, even if you have some columns defined by prop\n                -->\n                <slot name=\"after\" />\n            </slot>\n        </div>\n\n        <o-table-mobile-sort\n            v-if=\"isMobileActive && hasSortableColumns\"\n            :current-sort-column=\"currentSortColumn\"\n            :columns=\"tableColumns\"\n            :placeholder=\"mobileSortPlaceholder\"\n            :icon-pack=\"iconPack\"\n            :sort-icon=\"sortIcon\"\n            :sort-icon-size=\"sortIconSize\"\n            :is-asc=\"isAsc\"\n            :mobile-sort-classes=\"mobileSortClasses\"\n            @sort=\"(column, event) => sort(column, true, event)\" />\n\n        <template\n            v-if=\"\n                paginated &&\n                (paginationPosition === 'top' || paginationPosition === 'both')\n            \">\n            <!--\n                @slot Override pagination label\n                @binding {number} current - current page\n                @binding {number} per-page - rows per page\n                @binding {number} total - total rows count\n                @binding {(page: number): void } change - on page change event\n            -->\n            <slot\n                name=\"pagination\"\n                :current=\"tableCurrentPage\"\n                :per-page=\"perPage\"\n                :total=\"tableTotal\"\n                :change=\"(page) => (tableCurrentPage = page)\">\n                <o-table-pagination\n                    v-model:current=\"tableCurrentPage\"\n                    :paginated=\"paginated\"\n                    :per-page=\"perPage\"\n                    :total=\"tableTotal\"\n                    :rounded=\"paginationRounded\"\n                    :size=\"paginationSize\"\n                    :order=\"paginationOrder\"\n                    :simple=\"paginationSimple\"\n                    :icon-pack=\"iconPack\"\n                    :aria-next-label=\"ariaNextLabel\"\n                    :aria-previous-label=\"ariaPreviousLabel\"\n                    :aria-page-label=\"ariaPageLabel\"\n                    :aria-current-label=\"ariaCurrentLabel\"\n                    :root-class=\"paginationWrapperRootClasses\"\n                    @change=\"(page) => $emit('page-change', page)\">\n                    <!--\n                        @slot Additional slot if table is paginated\n                    -->\n                    <slot name=\"top-left\" />\n                </o-table-pagination>\n            </slot>\n        </template>\n\n        <div :class=\"tableWrapperClasses\" :style=\"tableWrapperStyle\">\n            <table\n                v-if=\"tableColumns.length\"\n                v-bind=\"$attrs\"\n                :class=\"tableClasses\"\n                :tabindex=\"selectable || isScrollable ? 0 : undefined\"\n                :aria-rowcount=\"rowCount\"\n                :aria-colcount=\"columnCount\"\n                @keydown.prevent.up=\"onArrowPressed(-1, $event)\"\n                @keydown.prevent.down=\"onArrowPressed(1, $event)\"\n                @keydown.prevent.home=\"selectRow(availableRows[0], $event)\"\n                @keydown.prevent.end=\"\n                    selectRow(availableRows[availableRows.length - 1], $event)\n                \">\n                <caption v-if=\"$slots.caption\">\n                    <!--\n                        @slot Define a table caption here\n                    -->\n                    <slot name=\"caption\" />\n                </caption>\n\n                <thead v-if=\"showHeader\">\n                    <!--\n                        @slot Define preheader content here\n                    -->\n                    <slot name=\"preheader\" />\n\n                    <tr :aria-rowindex=\"1\">\n                        <!-- detailed toggle column -->\n                        <th\n                            v-if=\"showDetailRowIcon\"\n                            :class=\"[...thBaseClasses, ...thDetailedClasses]\"\n                            :aria-colindex=\"1\"\n                            aria-hidden=\"true\" />\n\n                        <!-- checkable column left -->\n                        <th\n                            v-if=\"checkable && checkboxPosition === 'left'\"\n                            :class=\"[...thBaseClasses, ...thCheckboxClasses]\"\n                            :aria-colindex=\"showDetailRowIcon ? 2 : 1\">\n                            <!--\n                                @slot Override check all checkbox\n                                @binding {boolean} is-all-checked - if all rows are checked\n                                @binding {boolean} is-all-uncheckable - if check all is uncheckable\n                                @binding {(): void} check-all - check all function\n                            -->\n                            <slot\n                                v-if=\"checkableHeader\"\n                                name=\"check-all\"\n                                :is-all-checked=\"isAllChecked\"\n                                :is-all-uncheckable=\"isAllUncheckable\"\n                                :check-all=\"checkAll\">\n                                <o-checkbox\n                                    :model-value=\"isAllChecked\"\n                                    autocomplete=\"off\"\n                                    name=\"row_check_all\"\n                                    :variant=\"checkboxVariant\"\n                                    :disabled=\"isAllUncheckable\"\n                                    aria-label=\"Check all\"\n                                    @update:model-value=\"checkAll\" />\n                            </slot>\n                        </th>\n\n                        <!-- row data columns -->\n                        <template\n                            v-for=\"column in tableColumns\"\n                            :key=\"column.identifier\">\n                            <th\n                                v-if=\"!column.hidden\"\n                                v-bind=\"column.thAttrsData\"\n                                :class=\"[...thBaseClasses, ...column.thClasses]\"\n                                :style=\"isMobileActive ? {} : column.style\"\n                                :draggable=\"canDragColumn\"\n                                :aria-sort=\"\n                                    isColumnSorted(column)\n                                        ? isAsc\n                                            ? 'ascending'\n                                            : 'descending'\n                                        : undefined\n                                \"\n                                :aria-colindex=\"\n                                    ariaColIndexStart + column.index\n                                \"\n                                @click.stop=\"sort(column, true, $event)\"\n                                @dragstart=\"\n                                    handleColumnDragStart(column, $event)\n                                \"\n                                @dragend=\"handleColumnDragEnd(column, $event)\"\n                                @drop=\"handleColumnDrop(column, $event)\"\n                                @dragover=\"handleColumnDragOver(column, $event)\"\n                                @dragleave=\"\n                                    handleColumnDragLeave(column, $event)\n                                \">\n                                <o-slot-component\n                                    v-if=\"column.$slots?.header\"\n                                    :component=\"column.$el\"\n                                    name=\"header\"\n                                    tag=\"span\"\n                                    :props=\"{\n                                        column: column.value,\n                                        index: column.index,\n                                    }\" />\n\n                                <span v-else>\n                                    {{ column.label }}\n                                    <span\n                                        v-if=\"column.sortable\"\n                                        v-show=\"isColumnSorted(column)\"\n                                        :class=\"thSortIconClasses\"\n                                        :aria-hidden=\"!isColumnSorted(column)\">\n                                        <o-icon\n                                            :icon=\"sortIcon\"\n                                            :pack=\"iconPack\"\n                                            both\n                                            :size=\"sortIconSize\"\n                                            :rotation=\"!isAsc ? 180 : 0\" />\n                                    </span>\n                                </span>\n                            </th>\n                        </template>\n\n                        <!-- checkable column right -->\n                        <th\n                            v-if=\"checkable && checkboxPosition === 'right'\"\n                            :class=\"[...thBaseClasses, ...thCheckboxClasses]\"\n                            :aria-colindex=\"\n                                ariaColIndexStart + tableColumns.length\n                            \">\n                            <!--\n                                @slot Override check all checkbox\n                                @binding {boolean} is-all-checked - if all rows are checked\n                                @binding {boolean} is-all-uncheckable - if check all is uncheckable\n                                @binding {(): void} check-all - check all function\n                            -->\n                            <slot\n                                v-if=\"checkableHeader\"\n                                name=\"check-all\"\n                                :is-all-checked=\"isAllChecked\"\n                                :is-all-uncheckable=\"isAllUncheckable\"\n                                :check-all=\"checkAll\">\n                                <o-checkbox\n                                    :model-value=\"isAllChecked\"\n                                    autocomplete=\"off\"\n                                    name=\"row_check_all\"\n                                    :variant=\"checkboxVariant\"\n                                    :disabled=\"isAllUncheckable\"\n                                    aria-label=\"Check all\"\n                                    @update:model-value=\"checkAll\" />\n                            </slot>\n                        </th>\n                    </tr>\n\n                    <tr v-if=\"hasSearchableColumns\" :aria-rowindex=\"2\">\n                        <!-- detailed toggle column -->\n                        <th\n                            v-if=\"showDetailRowIcon\"\n                            :class=\"[...thBaseClasses, ...thDetailedClasses]\"\n                            aria-hidden=\"true\" />\n\n                        <!-- checkable column left -->\n                        <th v-if=\"checkable && checkboxPosition === 'left'\" />\n\n                        <!-- row data columns -->\n                        <template\n                            v-for=\"column in tableColumns\"\n                            :key=\"column.identifier\">\n                            <th\n                                v-if=\"!column.hidden\"\n                                v-bind=\"column.thAttrsData\"\n                                :class=\"[...thBaseClasses, ...column.thClasses]\"\n                                :style=\"isMobileActive ? {} : column.style\">\n                                <template v-if=\"column.searchable\">\n                                    <template v-if=\"column.$slots?.searchable\">\n                                        <o-slot-component\n                                            :component=\"column.$el\"\n                                            name=\"searchable\"\n                                            tag=\"span\"\n                                            :props=\"{\n                                                column: column.value,\n                                                index: column.index,\n                                                filters,\n                                            }\" />\n                                    </template>\n                                    <o-input\n                                        v-else-if=\"column.field\"\n                                        v-model=\"filters[column.field]\"\n                                        :name=\"`column_${column.field}_filter`\"\n                                        :type=\"\n                                            column.numeric ? 'number' : 'search'\n                                        \"\n                                        :placeholder=\"filtersPlaceholder\"\n                                        :icon=\"filtersIcon\"\n                                        :pack=\"iconPack\"\n                                        size=\"small\"\n                                        :aria-label=\"`${column.label} search`\"\n                                        @[filtersEvent]=\"onFiltersEvent\" />\n                                </template>\n                            </th>\n                        </template>\n\n                        <!-- checkable column right -->\n                        <th v-if=\"checkable && checkboxPosition === 'right'\" />\n                    </tr>\n\n                    <tr\n                        v-if=\"hasSubheadings\"\n                        :aria-rowindex=\"hasSearchableColumns ? 3 : 2\">\n                        <!-- detailed toggle column -->\n                        <th\n                            v-if=\"showDetailRowIcon\"\n                            :class=\"[...thBaseClasses, ...thDetailedClasses]\" />\n\n                        <!-- checkable column left -->\n                        <th v-if=\"checkable && checkboxPosition === 'left'\" />\n\n                        <!-- row data columns -->\n                        <template\n                            v-for=\"column in tableColumns\"\n                            :key=\"column.identifier\">\n                            <th\n                                v-if=\"!column.hidden\"\n                                :style=\"isMobileActive ? {} : column.style\"\n                                :class=\"[\n                                    ...thBaseClasses,\n                                    ...thSubheadingClasses,\n                                ]\">\n                                <o-slot-component\n                                    v-if=\"column.$slots?.subheading\"\n                                    :component=\"column.$el\"\n                                    name=\"subheading\"\n                                    tag=\"span\"\n                                    :props=\"{\n                                        column: column.value,\n                                        index: column.index,\n                                    }\" />\n                                <span v-else>\n                                    <slot name=\"subheading\">\n                                        {{ column.subheading }}\n                                    </slot>\n                                </span>\n                            </th>\n                        </template>\n\n                        <!-- checkable column right -->\n                        <th v-if=\"checkable && checkboxPosition === 'right'\" />\n                    </tr>\n                </thead>\n\n                <tbody>\n                    <!-- table rows -->\n                    <template\n                        v-for=\"(row, rowIndex) in tableRows\"\n                        :key=\"row.key\">\n                        <tr\n                            v-if=\"!row.hidden\"\n                            :class=\"rowClasses(row)\"\n                            :draggable=\"canDragRow\"\n                            :aria-rowindex=\"ariaRowIndexStart + rowIndex + 1\"\n                            @click=\"selectRow(row, $event)\"\n                            @dblclick=\"\n                                $emit('dblclick', row.value, row.index, $event)\n                            \"\n                            @mouseenter=\"\n                                $emit(\n                                    'mouseenter',\n                                    row.value,\n                                    row.index,\n                                    $event,\n                                )\n                            \"\n                            @mouseleave=\"\n                                $emit(\n                                    'mouseleave',\n                                    row.value,\n                                    row.index,\n                                    $event,\n                                )\n                            \"\n                            @contextmenu=\"\n                                $emit(\n                                    'contextmenu',\n                                    row.value,\n                                    row.index,\n                                    $event,\n                                )\n                            \"\n                            @dragstart=\"handleDragStart(row, $event)\"\n                            @dragend=\"handleDragEnd(row, $event)\"\n                            @drop=\"handleDrop(row, $event)\"\n                            @dragover=\"handleDragOver(row, $event)\"\n                            @dragleave=\"handleDragLeave(row, $event)\">\n                            <!-- detailed toggle column -->\n                            <td\n                                v-if=\"showDetailRowIcon\"\n                                :class=\"[\n                                    ...tdBaseClasses,\n                                    ...tdDetailedChevronClasses,\n                                ]\">\n                                <o-icon\n                                    v-if=\"isDetailedVisible(row.value)\"\n                                    :icon=\"detailIcon\"\n                                    :pack=\"iconPack\"\n                                    :rotation=\"isDetailRowVisible(row) ? 90 : 0\"\n                                    role=\"button\"\n                                    tabindex=\"0\"\n                                    clickable\n                                    both\n                                    :aria-label=\"`Open ${row.label} details`\"\n                                    @click.prevent=\"toggleDetails(row)\"\n                                    @keydown.prevent.enter=\"toggleDetails(row)\"\n                                    @keydown.prevent.space=\"\n                                        toggleDetails(row)\n                                    \" />\n                            </td>\n\n                            <!-- checkable column left -->\n                            <td\n                                v-if=\"checkable && checkboxPosition === 'left'\"\n                                :class=\"[\n                                    ...thBaseClasses,\n                                    ...tdCheckboxClasses,\n                                ]\">\n                                <o-checkbox\n                                    :model-value=\"isChecked(row)\"\n                                    autocomplete=\"off\"\n                                    :name=\"`row_${row.index}_check`\"\n                                    :variant=\"checkboxVariant\"\n                                    :disabled=\"!isRowCheckable(row.value)\"\n                                    :aria-label=\"`Check ${row.label}`\"\n                                    @update:model-value=\"checkRow(row)\" />\n                            </td>\n\n                            <!-- row data columns -->\n                            <template\n                                v-for=\"column in tableColumns\"\n                                :key=\"column.identifier\">\n                                <o-slot-component\n                                    v-if=\"!column.hidden\"\n                                    v-bind=\"column.tdAttrsData[row.index]\"\n                                    :component=\"column.$el\"\n                                    name=\"default\"\n                                    tag=\"td\"\n                                    :class=\"[\n                                        ...tdBaseClasses,\n                                        ...column.tdClasses,\n                                    ]\"\n                                    :data-label=\"column.label\"\n                                    :style=\"isMobileActive ? {} : column.style\"\n                                    :props=\"{\n                                        row: row.value,\n                                        index: row.index,\n                                        column: column.value,\n                                        colindex: column.index,\n                                        toggleDetails: () => toggleDetails(row),\n                                    }\"\n                                    @click=\"\n                                        $emit(\n                                            'cell-click',\n                                            row.value,\n                                            column.value,\n                                            row.index,\n                                            column.index,\n                                            $event,\n                                        )\n                                    \">\n                                    {{ getColumnValue(row.value, column) }}\n                                </o-slot-component>\n                            </template>\n\n                            <!-- checkable column right -->\n                            <td\n                                v-if=\"checkable && checkboxPosition === 'right'\"\n                                :class=\"[\n                                    ...thBaseClasses,\n                                    ...tdCheckboxClasses,\n                                ]\">\n                                <o-checkbox\n                                    :model-value=\"isChecked(row)\"\n                                    autocomplete=\"off\"\n                                    :variant=\"checkboxVariant\"\n                                    :disabled=\"!isRowCheckable(row.value)\"\n                                    :aria-label=\"`Check ${row.label}`\"\n                                    @update:model-value=\"checkRow(row)\" />\n                            </td>\n                        </tr>\n\n                        <transition-group\n                            v-if=\"props.detailed\"\n                            :name=\"detailTransition\">\n                            <template v-if=\"isDetailRowVisible(row)\">\n                                <!--\n                                    @slot Place row detail content here\n                                    @binding {T} row - row content\n                                    @binding {number} index - row index\n                                -->\n                                <slot\n                                    v-if=\"customDetailRow\"\n                                    name=\"detail\"\n                                    :row=\"row.value\"\n                                    :index=\"row.index\" />\n                                <tr\n                                    v-else\n                                    :key=\"`${row.key}_detail`\"\n                                    :class=\"trDetailedClasses\">\n                                    <td :colspan=\"columnCount\">\n                                        <!--\n                                            @slot Place row detail content here\n                                            @binding {T} row - row content\n                                            @binding {number} index - row index\n                                        -->\n                                        <slot\n                                            name=\"detail\"\n                                            :row=\"row.value\"\n                                            :index=\"row.index\" />\n                                    </td>\n                                </tr>\n                            </template>\n                        </transition-group>\n                    </template>\n\n                    <tr v-if=\"!availableRows.length\" :class=\"trEmptyClasses\">\n                        <td :colspan=\"columnCount\">\n                            <!--\n                                @slot Define content if table is empty\n                            -->\n                            <slot name=\"empty\">\n                                <o-icon\n                                    v-if=\"emptyIcon\"\n                                    :icon=\"emptyIcon\"\n                                    :size=\"emptyIconSize\"\n                                    :pack=\"iconPack\"\n                                    both />\n                                {{ emptyLabel }}\n                            </slot>\n                        </td>\n                    </tr>\n                </tbody>\n\n                <tfoot v-if=\"$slots.footer\">\n                    <tr :class=\"footerClasses\">\n                        <!--\n                            @slot Define a custom footer\n                            @binding {number} column-count - counts of visible columns\n                            @binding {number} row-count - counts of visible rows\n                        -->\n                        <slot\n                            v-if=\"hasCustomFooterSlot()\"\n                            name=\"footer\"\n                            :column-count=\"columnCount\"\n                            :row-count=\"rowCount\" />\n                        <th v-else :colspan=\"columnCount\">\n                            <!--\n                                @slot Define a custom footer\n                                @binding {number} column-count - counts of visible columns\n                                @binding {number} row-count - counts of visible rows\n                            -->\n                            <slot\n                                name=\"footer\"\n                                :column-count=\"columnCount\"\n                                :row-count=\"rowCount\" />\n                        </th>\n                    </tr>\n                </tfoot>\n            </table>\n\n            <!--\n                @slot Override loading component\n                @binding {boolean} loading - is loading state enabled\n            -->\n            <slot name=\"loading\" :loading=\"loading\">\n                <o-loading\n                    v-bind=\"loadingClasses\"\n                    :full-page=\"false\"\n                    :active=\"loading\"\n                    :icon=\"loadingIcon\"\n                    :label=\"loadingLabel\" />\n            </slot>\n        </div>\n\n        <template\n            v-if=\"\n                (checkable && $slots['bottom-left']) ||\n                (paginated &&\n                    (paginationPosition === 'bottom' ||\n                        paginationPosition === 'both'))\n            \">\n            <!--\n                @slot Override pagination label\n                @binding {number} current - current page\n                @binding {number} per-page - rows per page\n                @binding {number} total - total rows count\n                @binding {(page: number): void } change - on page change event\n            -->\n            <slot\n                name=\"pagination\"\n                :current=\"tableCurrentPage\"\n                :per-page=\"perPage\"\n                :total=\"tableTotal\"\n                :change=\"(page) => (tableCurrentPage = page)\">\n                <o-table-pagination\n                    v-model:current=\"tableCurrentPage\"\n                    :paginated=\"paginated\"\n                    :per-page=\"perPage\"\n                    :total=\"tableTotal\"\n                    :rounded=\"paginationRounded\"\n                    :size=\"paginationSize\"\n                    :order=\"paginationOrder\"\n                    :simple=\"paginationSimple\"\n                    :icon-pack=\"iconPack\"\n                    :aria-next-label=\"ariaNextLabel\"\n                    :aria-previous-label=\"ariaPreviousLabel\"\n                    :aria-page-label=\"ariaPageLabel\"\n                    :aria-current-label=\"ariaCurrentLabel\"\n                    :root-class=\"paginationWrapperRootClasses\"\n                    @change=\"(page) => $emit('page-change', page)\">\n                    <!--\n                        @slot Additional slot if table is paginated\n                    -->\n                    <slot name=\"bottom-left\" />\n                </o-table-pagination>\n            </slot>\n        </template>\n    </div>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Table from \"./Table.vue\";\nimport TableColumn from \"./TableColumn.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export table specific types */\nexport type { TableColumn, TableRow } from \"./types\";\n\n/** export table plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Table);\n        registerComponent(app, TableColumn);\n    },\n} as Plugin;\n\n/** export table components */\nexport { Table as OTable, TableColumn as OTableColumn };\n","<script setup lang=\"ts\" generic=\"T, C extends Component\">\nimport { computed, ref, useSlots, useId, type Component } from \"vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { defineClasses, useProviderChild } from \"@/composables\";\n\nimport type { TabsComponent, TabItemComponent } from \"./types\";\nimport type { TabItemProps } from \"./props\";\n\n/**\n * An tab item used by the tabs component.\n * @displayName Tab Item\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OTabItem\",\n    configField: \"tabs\",\n    inheritAttrs: false,\n});\n\nconst props = withDefaults(defineProps<TabItemProps<T, C>>(), {\n    override: undefined,\n    value: undefined,\n    label: undefined,\n    disabled: false,\n    visible: true,\n    icon: () => getDefault(\"tabs.icon\"),\n    iconPack: () => getDefault(\"tabs.iconPack\"),\n    tag: () => getDefault(\"tabs.itemTag\", \"button\"),\n    content: undefined,\n    component: undefined,\n    props: undefined,\n    events: undefined,\n});\n\nconst emits = defineEmits<{\n    /** on tab item activate event */\n    activate: [];\n    /** on tab item deactivate event */\n    deactivate: [];\n}>();\n\nconst itemValue = props.value ?? useId();\n\nconst slots = useSlots();\n\n// provided data is a computed ref to ensure reactivity\nconst providedData = computed<TabItemComponent<T>>(() => ({\n    ...props,\n    value: itemValue,\n    $slots: slots,\n    tabClasses: tabClasses.value,\n    iconClasses: tabIconClasses.value,\n    labelClasses: tabLabelClasses.value,\n    isTransitioning: isTransitioning.value,\n    activate,\n    deactivate,\n}));\n\n/** inject functionalities and data from the parent component */\nconst { parent, item } = useProviderChild<TabsComponent, TabItemComponent<T>>({\n    data: providedData,\n});\n\nconst transitionName = ref();\n\nconst isActive = computed(() => item.value.index === parent.value.activeIndex);\n\nconst isTransitioning = ref(false);\n\nconst nextAnimation = computed(() => {\n    const idx =\n        parent.value.vertical && parent.value.animation.length === 4 ? 2 : 0;\n    return parent.value.animation[idx];\n});\n\nconst prevAnimation = computed(() => {\n    const idx =\n        parent.value.vertical && parent.value.animation.length === 4 ? 3 : 1;\n    return parent.value.animation[idx];\n});\n\n/** Activate element, alter animation name based on the index. */\nfunction activate(oldIndex: number): void {\n    transitionName.value =\n        item.value.index < oldIndex ? nextAnimation.value : prevAnimation.value;\n\n    // emit event\n    emits(\"activate\");\n}\n\n/** Deactivate element, alter animation name based on the index. */\nfunction deactivate(newIndex: number): void {\n    transitionName.value =\n        newIndex < item.value.index ? nextAnimation.value : prevAnimation.value;\n\n    // emit event\n    emits(\"deactivate\");\n}\n\n/** Transition after-enter hook */\nfunction afterEnter(): void {\n    isTransitioning.value = true;\n}\n\n/** Transition before-leave hook */\nfunction beforeLeave(): void {\n    isTransitioning.value = true;\n}\n\n// --- Computed Component Classes ---\n\nconst tabClasses = defineClasses(\n    [\"tabClass\", \"o-tabs__tab\"],\n    [\"tabActiveClass\", \"o-tabs__tab--active\", null, isActive],\n    [\n        \"tabDisabledClass\",\n        \"o-tabs__tab--disabled\",\n        null,\n        computed(() => props.disabled),\n    ],\n    [\n        \"tabPreviousClass\",\n        \"o-tabs__tab--previous\",\n        null,\n        computed(() => item.value.index < parent.value?.activeIndex),\n    ],\n    [\n        \"tabNextClass\",\n        \"o-tabs__tab--next\",\n        null,\n        computed(() => item.value.index > parent.value?.activeIndex),\n    ],\n);\n\nconst tabIconClasses = defineClasses([\"tabIconClass\", \"o-tabs__tab-icon\"]);\n\nconst tabLabelClasses = defineClasses([\"tabLabelClass\", \"o-tabs__tab-label\"]);\n\nconst panelClasses = defineClasses([\"tabPanelClass\", \"o-tabs__panel\"]);\n</script>\n\n<template>\n    <Transition\n        v-if=\"parent\"\n        :css=\"parent.animated\"\n        :name=\"transitionName\"\n        :appear=\"parent.animateInitially\"\n        @after-enter=\"afterEnter\"\n        @before-leave=\"beforeLeave\">\n        <div\n            v-show=\"isActive && visible\"\n            v-bind=\"$attrs\"\n            :id=\"`tabpanel-${item.identifier}`\"\n            data-oruga=\"tabs-item\"\n            :data-id=\"`tabs-${item.identifier}`\"\n            :class=\"panelClasses\"\n            role=\"tabpanel\"\n            :hidden=\"!isActive\"\n            :aria-labelledby=\"`tab-${item.identifier}`\"\n            aria-roledescription=\"item\">\n            <!-- \n                @slot Override tab panel content\n                @binding {boolean} active - if item is shown \n            -->\n            <slot :active=\"isActive && visible\">\n                <!-- injected component -->\n                <component\n                    :is=\"component\"\n                    v-if=\"component\"\n                    v-bind=\"$props.props\"\n                    v-on=\"$props.events || {}\" />\n\n                <!-- default content prop -->\n                <template v-else>{{ content }}</template>\n            </slot>\n\n            <!--\n                Do not render these slots here.\n                These are only for documentation purposes.\n                Slots are defined in tabs component.\n            -->\n            <template v-if=\"false\">\n                <!--\n                    @slot Override tab header label\n                    @binding {boolean} active - if item is shown \n                -->\n                <slot name=\"header\" :active=\"isActive && visible\" />\n            </template>\n        </div>\n    </Transition>\n</template>\n","<script setup lang=\"ts\" generic=\"T\">\nimport {\n    computed,\n    ref,\n    watch,\n    watchEffect,\n    toValue,\n    nextTick,\n    onMounted,\n    useTemplateRef,\n} from \"vue\";\n\nimport OTabItem from \"../tabs/TabItem.vue\";\nimport OIcon from \"../icon/Icon.vue\";\nimport OSlotComponent from \"../utils/SlotComponent\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { mod, isDefined } from \"@/utils/helpers\";\nimport {\n    defineClasses,\n    normalizeOptions,\n    useProviderParent,\n    useSequentialId,\n} from \"@/composables\";\n\nimport type { TabsComponent, TabItem, TabItemComponent } from \"./types\";\nimport type { TabsProps } from \"./props\";\n\n/**\n * Responsive horizontal navigation tabs, switch between contents with ease.\n * @displayName Tabs\n * @requires ./TabItem.vue\n * @style _tabs.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OTabs\",\n    configField: \"tabs\",\n});\n\ntype ModelValue = TabsProps<T>[\"modelValue\"];\n\nconst props = withDefaults(defineProps<TabsProps<T>>(), {\n    override: undefined,\n    modelValue: undefined,\n    options: undefined,\n    variant: () => getDefault(\"tabs.variant\"),\n    size: () => getDefault(\"tabs.size\"),\n    vertical: () => getDefault(\"tabs.vertical\", false),\n    position: undefined,\n    type: () => getDefault(\"tabs.type\", \"default\"),\n    tag: () => getDefault(\"tabs.tag\", \"div\"),\n    expanded: false,\n    activateOnFocus: false,\n    animated: () => getDefault(\"tabs.animated\", true),\n    animation: () =>\n        getDefault(\"tabs.animation\", [\n            \"slide-next\",\n            \"slide-prev\",\n            \"slide-down\",\n            \"slide-up\",\n        ]),\n    animateInitially: () => getDefault(\"tabs.animateInitially\", false),\n    multiline: false,\n    ariaLabel: () => getDefault(\"tabs.ariaLabel\"),\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {T} updated modelValue prop\n     */\n    \"update:model-value\": [value: ModelValue];\n    /**\n     * on tab change event\n     * @param value {T} new tab value\n     * @param value {T} old tab value\n     */\n    change: [newValue: ModelValue, oldValue: ModelValue];\n}>();\n\nconst rootRef = useTemplateRef(\"rootElement\");\n\n// provided data is a computed ref to ensure reactivity\nconst provideData = computed<TabsComponent>(() => ({\n    activeIndex: activeItem.value?.index ?? 0,\n    type: props.type,\n    vertical: props.vertical,\n    animated: props.animated,\n    animation: props.animation,\n    animateInitially: props.animateInitially,\n}));\n\n/** provide functionalities and data to child item components */\nconst { childItems } = useProviderParent<TabItemComponent<T>>({\n    rootRef,\n    data: provideData,\n});\n\nconst items = computed<TabItem<T>[]>(() => {\n    if (!childItems.value) return [];\n    return childItems.value.map((column) => ({\n        index: column.index,\n        identifier: column.identifier,\n        ...toValue(column.data!),\n    }));\n});\n\n// create a unique id sequence\nconst { nextSequence } = useSequentialId();\n\n/** normalized programamtic options */\nconst normalizedOptions = computed(() =>\n    normalizeOptions<T>(props.options, nextSequence),\n);\n\n/** The selected item value, use v-model to make it two-way binding */\nconst vmodel = defineModel<ModelValue>({ default: undefined });\n\n/**  When v-model is changed set the new active tab. */\nwatch(\n    () => props.modelValue,\n    (value) => {\n        if (vmodel.value !== value) performAction(value as T);\n    },\n);\n\n/** the active item */\nconst activeItem = ref<TabItem<T>>();\n\n// set the active item immediate and every time the vmodel changes\nwatchEffect(() => {\n    activeItem.value = isDefined(vmodel.value)\n        ? items.value.find((item) => item.value === vmodel.value) ||\n          items.value[0]\n        : items.value[0];\n});\n\nconst isTransitioning = computed(() =>\n    items.value.some((item) => item.isTransitioning),\n);\n\nonMounted(() => {\n    // set first tab as default if not defined\n    if (!vmodel.value) vmodel.value = items.value[0]?.value;\n});\n\n// --- EVENT HANDLER ---\n\n/** Tab item click listener, emit input event and change active child. */\nfunction itemClick(item: TabItem<T>): void {\n    if (vmodel.value !== item.value) performAction(item.value);\n}\n\n/** Focus the next item or wrap around. */\nfunction onNext(event: KeyboardEvent, index: number): void {\n    if (\n        (props.vertical && event.key == \"ArrowDown\") ||\n        (!props.vertical && event.key == \"ArrowRight\")\n    ) {\n        const newIndex = mod(index + 1, items.value.length);\n        const item = getFirstViableItem(newIndex, true);\n        moveFocus(item);\n    }\n}\n\n/** Focus the previous item or wrap around. */\nfunction onPrev(event: KeyboardEvent, index: number): void {\n    if (\n        (props.vertical && event.key == \"ArrowUp\") ||\n        (!props.vertical && event.key == \"ArrowLeft\")\n    ) {\n        const newIndex = mod(index - 1, items.value.length);\n        const item = getFirstViableItem(newIndex, false);\n        moveFocus(item);\n    }\n}\n\n/** Focus to the first viable item. */\nfunction onHomePressed(): void {\n    if (items.value.length < 1) return;\n    const item = getFirstViableItem(0, true);\n    moveFocus(item);\n}\n\n/** Focus to the last viable item. */\nfunction onEndPressed(): void {\n    if (items.value.length < 1) return;\n    const item = getFirstViableItem(items.value.length - 1, false);\n    moveFocus(item);\n}\n\n/** Set focus on a tab item or click it if `activateOnFocus`. */\nfunction moveFocus(item: TabItem<T>): void {\n    if (props.activateOnFocus) {\n        itemClick(item);\n    } else {\n        const el = rootRef.value?.querySelector<HTMLElement>(\n            `#tab-${item.identifier}`,\n        );\n        el?.focus();\n    }\n}\n\n/**\n * Get the first 'viable' child, starting at startingIndex and in the direction specified\n * by the boolean parameter forward. In other words, first try to select the child at index\n * startingIndex, and if it is not visible or it is disabled, then go to the index in the\n * specified direction until either returning to startIndex or finding a viable child item.\n */\nfunction getFirstViableItem(\n    startingIndex: number,\n    forward: boolean,\n): TabItem<T> {\n    const direction = forward ? 1 : -1;\n    let newIndex = startingIndex;\n    for (\n        ;\n        newIndex !== activeItem.value?.index;\n        newIndex = mod(newIndex + direction, items.value.length)\n    ) {\n        // Break if the item at this index is viable (not disabled and is visible)\n        if (items.value[newIndex].visible && !items.value[newIndex].disabled)\n            break;\n    }\n\n    return items.value[newIndex];\n}\n\n/** Activate next child and deactivate prev child. */\nfunction performAction(newValue: ModelValue): void {\n    const oldValue = vmodel.value;\n    const oldItem = activeItem.value;\n    const newItem =\n        items.value.find((item) => item.value === newValue) || items.value[0];\n\n    if (oldItem && newItem) {\n        oldItem.deactivate(newItem.index);\n        newItem.activate(oldItem.index);\n    }\n\n    nextTick(() => {\n        vmodel.value = newValue;\n        emits(\"change\", newValue, oldValue);\n    });\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-tabs\"],\n    [\n        \"positionClass\",\n        \"o-tabs--\",\n        computed(() => props.position),\n        computed(() => !!props.position),\n    ],\n    [\n        \"sizeClass\",\n        \"o-tabs--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\n        \"typeClass\",\n        \"o-tabs--\",\n        computed(() => props.type),\n        computed(() => !!props.type),\n    ],\n    [\"expandedClass\", \"o-tabs--expanded\", null, computed(() => props.expanded)],\n    [\"verticalClass\", \"o-tabs--vertical\", null, computed(() => props.vertical)],\n    [\n        \"multilineClass\",\n        \"o-tabs--multiline\",\n        null,\n        computed(() => props.multiline),\n    ],\n);\n\nconst tablistClasses = defineClasses([\"listClass\", \"o-tabs__list\"]);\n\nconst contentClasses = defineClasses(\n    [\"contentClass\", \"o-tabs__content\"],\n    [\n        \"transitioningClass\",\n        \"o-tabs__content--transitioning\",\n        null,\n        isTransitioning,\n    ],\n);\n</script>\n\n<template>\n    <div ref=\"rootElement\" data-oruga=\"tabs\" :class=\"rootClasses\">\n        <component\n            :is=\"props.tag\"\n            :class=\"tablistClasses\"\n            role=\"tablist\"\n            :aria-label=\"ariaLabel\"\n            :aria-orientation=\"vertical ? 'vertical' : 'horizontal'\">\n            <!--\n                @slot Additional slot before tabs\n            -->\n            <slot name=\"before\" />\n\n            <o-slot-component\n                v-for=\"childItem in items\"\n                v-show=\"childItem.visible\"\n                :id=\"`tab-${childItem.identifier}`\"\n                :key=\"childItem.identifier\"\n                :component=\"childItem\"\n                :tag=\"childItem.tag\"\n                name=\"header\"\n                :class=\"childItem.tabClasses\"\n                role=\"tab\"\n                :tabindex=\"childItem.value === activeItem?.value ? 0 : -1\"\n                :aria-current=\"\n                    childItem.value === activeItem?.value ? 'true' : undefined\n                \"\n                :aria-controls=\"`tabpanel-${childItem.identifier}`\"\n                :aria-selected=\"childItem.value === activeItem?.value\"\n                @click=\"itemClick(childItem)\"\n                @keydown.enter.prevent=\"itemClick(childItem)\"\n                @keydown.space.prevent=\"itemClick(childItem)\"\n                @keydown.left.prevent=\"onPrev($event, childItem.index)\"\n                @keydown.right.prevent=\"onNext($event, childItem.index)\"\n                @keydown.up.prevent=\"onPrev($event, childItem.index)\"\n                @keydown.down.prevent=\"onNext($event, childItem.index)\"\n                @keydown.home.prevent=\"onHomePressed\"\n                @keydown.end.prevent=\"onEndPressed\">\n                <o-icon\n                    v-if=\"childItem.icon\"\n                    :class=\"childItem.iconClasses\"\n                    :icon=\"childItem.icon\"\n                    :pack=\"childItem.iconPack\"\n                    :size=\"size\" />\n                <span :class=\"childItem.labelClasses\">\n                    {{ childItem.label }}\n                </span>\n            </o-slot-component>\n\n            <!--\n                @slot Additional slot after tabs\n            -->\n            <slot name=\"after\" />\n        </component>\n\n        <section :class=\"contentClasses\">\n            <!--\n                @slot Place tab items here\n            -->\n            <slot>\n                <o-tab-item\n                    v-for=\"option in normalizedOptions\"\n                    v-show=\"!option.hidden\"\n                    v-bind=\"option.attrs\"\n                    :key=\"option.key\"\n                    :value=\"option.value\"\n                    :label=\"option.label\" />\n            </slot>\n        </section>\n    </div>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Tabs from \"./Tabs.vue\";\nimport TabItem from \"./TabItem.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export tabs specific types */\nexport type * from \"./types\";\n\n/** export tabs plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Tabs);\n        registerComponent(app, TabItem);\n    },\n} as Plugin;\n\n/** export tabs components */\nexport { Tabs as OTabs, TabItem as OTabItem };\n","<script setup lang=\"ts\" generic=\"T = string\">\nimport {\n    computed,\n    useAttrs,\n    useTemplateRef,\n    useId,\n    watchEffect,\n    ref,\n    type Component,\n} from \"vue\";\n\nimport OIcon from \"../icon/Icon.vue\";\nimport OAutocomplete from \"../autocomplete/Autocomplete.vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport {\n    defineClasses,\n    getActiveClasses,\n    normalizeOptions,\n    findOption,\n    useInputHandler,\n    useSequentialId,\n    toOptionsGroup,\n    type OptionsGroupItem,\n} from \"@/composables\";\n\nimport type { TaginputProps } from \"./props\";\n\n/**\n * A simple tag input field that can have autocomplete functionality.\n * @displayName Taginput\n * @style _taginput.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OTaginput\",\n    configField: \"taginput\",\n    inheritAttrs: false,\n});\n\ntype ModelValue = TaginputProps<T>[\"modelValue\"];\n\nconst props = withDefaults(defineProps<TaginputProps<T>>(), {\n    override: undefined,\n    modelValue: undefined,\n    input: \"\",\n    options: undefined,\n    filter: undefined,\n    size: () => getDefault(\"taginput.size\"),\n    variant: () => getDefault(\"taginput.variant\"),\n    maxitems: undefined,\n    maxlength: undefined,\n    counter: () => getDefault(\"taginput.counter\", true),\n    openOnFocus: () => getDefault(\"taginput.openOnFocus\", true),\n    keepOpen: () => getDefault(\"taginput.keepOpen\", false),\n    placeholder: undefined,\n    expanded: false,\n    disabled: false,\n    keepFirst: () => getDefault(\"taginput.keepFirst\", false),\n    allowNew: () => getDefault(\"taginput.allowNew\", false),\n    allowDuplicates: () => getDefault(\"taginput.allowDuplicates\", false),\n    validateItem: () => true,\n    createItem: (item: T | string) => item as T,\n    checkScroll: () => getDefault(\"taginput.checkScroll\", false),\n    closable: () => getDefault(\"taginput.closable\", true),\n    iconPack: () => getDefault(\"taginput.iconPack\"),\n    icon: () => getDefault(\"taginput.icon\"),\n    closeIcon: () => getDefault(\"taginput.closeIcon\", \"close\"),\n    ariaCloseLabel: () => getDefault(\"taginput.ariaCloseLabel\", \"Remove\"),\n    autocomplete: () => getDefault(\"taginput.autocomplete\", \"off\"),\n    useHtml5Validation: () => getDefault(\"useHtml5Validation\", true),\n    customValidity: undefined,\n    teleport: () => getDefault(\"taginput.teleport\", false),\n    autocompleteClasses: () => getDefault(\"taginput.autocompleteClasses\", {}),\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {string[] | number[] | object[]} updated modelValue prop\n     */\n    \"update:model-value\": [value: ModelValue[]];\n    /**\n     * input prop two-way binding\n     * @param value {string} updated input prop\n     */\n    \"update:input\": [value: string];\n    /**\n     * on input change event\n     * @param value {string} input value\n     * @param event {Event} native event\n     */\n    input: [value: string, event: Event];\n    /**\n     * new item got added\n     * @param value {string | number | object} added item\n     */\n    add: [value: T];\n    /**\n     * item got removed\n     * @param value {string | number | object} removed item\n     */\n    remove: [value: T];\n    /**\n     * on input focus event\n     * @param event {Event} native event\n     */\n    focus: [event: Event];\n    /**\n     * on input blur event\n     * @param event {Event} native event\n     */\n    blur: [event: Event];\n    /**\n     * on input invalid event\n     * @param event {Event} native event\n     */\n    invalid: [event: Event];\n    /**\n     * on icon click event\n     * @param event {Event} native event\n     */\n    \"icon-click\": [event: Event];\n    /**\n     * on icon right click event\n     * @param event {Event} native event\n     */\n    \"icon-right-click\": [event: Event];\n    /** the list inside the dropdown reached the start */\n    \"scroll-start\": [];\n    /** the list inside the dropdown reached it's end */\n    \"scroll-end\": [];\n}>();\n\n// define as Component to prevent docs memmory overload\nconst autocompleteRef = useTemplateRef<Component>(\"autocompleteComponent\");\n\n// use form input functionalities\nconst { setFocus, onFocus, onBlur, onInvalid } = useInputHandler(\n    autocompleteRef,\n    emits,\n    props,\n);\n\nconst isDropdownActive = ref(false);\n\n// the selected items, use v-model to make it two-way binding\nconst selectedItems = defineModel<ModelValue>({ default: undefined });\n\n// the value of the inner input, use v-model:input to make it two-way binding\nconst inputValue = defineModel<string>(\"input\", { default: \"\" });\n\nconst inputLength = computed(() => inputValue.value.trim().length);\nconst itemsLength = computed(() => selectedItems.value?.length || 0);\n\n// create a unique id sequence\nconst { nextSequence } = useSequentialId();\n\n/** normalized programamtic options */\nconst groupedOptions = computed<OptionsGroupItem<T>[]>(() => {\n    const normalizedOptions = normalizeOptions<T>(props.options, nextSequence);\n    const groupedOptions = toOptionsGroup<T>(normalizedOptions, nextSequence());\n    return groupedOptions;\n});\n\n/** map the selected items into option items */\nconst selectedOptions = computed(() => {\n    if (!selectedItems.value) return [];\n    return selectedItems.value.map((value) => {\n        const option = findOption<T>(groupedOptions, value);\n        // return the found option or create a new option object\n        if (option) return option;\n        else return { label: value, value, key: useId() };\n    });\n});\n\n/** show the input field if a maxitems hasn't been set or reached */\nconst hasInput = computed(\n    () => props.maxitems == null || itemsLength.value < Number(props.maxitems),\n);\n\nwatchEffect(() => {\n    // blur if input is empty\n    if (!hasInput.value) onBlur(new Event(\"blur\"));\n});\n\nfunction addItem(item?: T | string): void {\n    item = item || inputValue.value.trim();\n\n    if (item) {\n        const itemToAdd = props.createItem(item);\n\n        if (!selectedItems.value?.length) {\n            // Add the item input if not items are set yet\n            if (props.validateItem(item)) {\n                selectedItems.value = [itemToAdd];\n                emits(\"add\", itemToAdd);\n            }\n        } else {\n            // Add the item input if it is not blank\n            // or previously added (if not allowDuplicates).\n            const add = !props.allowDuplicates\n                ? !selectedItems.value.includes(itemToAdd)\n                : true;\n\n            if (add && props.validateItem(item)) {\n                selectedItems.value = [...selectedItems.value, itemToAdd];\n                emits(\"add\", itemToAdd);\n            }\n        }\n    }\n\n    // after autocomplete events\n    requestAnimationFrame(() => {\n        inputValue.value = \"\";\n        emits(\"input\", \"\", new Event(\"input\"));\n    });\n}\n\nfunction removeItem(index: number, event?: Event): void {\n    if (!selectedItems.value?.length) return;\n    const item = selectedItems.value.at(index);\n    if (!item) return;\n    selectedItems.value = selectedItems.value.toSpliced(index, 1);\n    emits(\"remove\", item);\n    if (event) event.stopPropagation();\n    if (props.openOnFocus && autocompleteRef.value) setFocus();\n}\n\n// --- Event Handler ---\n\nfunction onSelect(option: T | undefined): void {\n    if (!option) return;\n    addItem(option);\n}\n\nfunction onInput(value: string, event: Event): void {\n    emits(\"input\", value?.trim(), event);\n}\n\nfunction onBackspace(): void {\n    if (!inputValue.value?.length && itemsLength.value > 0)\n        // remove last item\n        removeItem(itemsLength.value - 1);\n}\n\nfunction onEnter(): void {\n    // Add item if not select only and dropdown selection is closed\n    if (props.allowNew && !isDropdownActive.value) addItem();\n}\n\n// --- Computed Component Classes ---\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-taginput\"],\n    [\n        \"sizeClass\",\n        \"o-taginput--\",\n        computed(() => props.size),\n        computed(() => !!props.size),\n    ],\n    [\n        \"variantClass\",\n        \"o-taginput--\",\n        computed(() => props.variant),\n        computed(() => !!props.variant),\n    ],\n    [\n        \"expandedClass\",\n        \"o-taginput--expanded\",\n        null,\n        computed(() => props.expanded),\n    ],\n);\n\nconst containerClasses = defineClasses([\n    \"containerClass\",\n    \"o-taginput__container\",\n]);\n\nconst itemClasses = defineClasses(\n    [\"itemClass\", \"o-taginput__item\"],\n    [\n        \"variantClass\",\n        \"o-taginput__item--\",\n        computed(() => props.variant),\n        computed(() => !!props.variant),\n    ],\n);\n\nconst closeClasses = defineClasses([\"closeClass\", \"o-taginput__item__close\"]);\n\nconst counterClasses = defineClasses([\"counterClass\", \"o-taginput__counter\"]);\n\nconst autocompleteRootClasses = defineClasses([\n    \"autocompleteClasses.rootClass\",\n    \"o-taginput__autocomplete\",\n]);\n\nconst autocompleteInputClasses = defineClasses([\n    \"autocompleteClasses.inputClasses.inputClass\",\n    \"o-taginput__input\",\n]);\n\nconst attrs = useAttrs();\n\nconst autocompleteBind = computed(() => ({\n    ...attrs,\n    \"root-class\": getActiveClasses(autocompleteRootClasses),\n    \"input-classes\": {\n        \"input-class\": getActiveClasses(autocompleteInputClasses),\n    },\n    ...props.autocompleteClasses,\n}));\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ focus: setFocus, value: selectedItems });\n</script>\n\n<template>\n    <div data-oruga=\"taginput\" :class=\"rootClasses\">\n        <div :class=\"containerClasses\" @focus=\"onFocus\" @blur=\"onBlur\">\n            <!--\n                @slot Override selected items\n                @binding {(string, object)[]} items - selected items\n                @binding {object[]} options - selected options\n            -->\n            <slot\n                name=\"selected\"\n                :items=\"selectedItems\"\n                :options=\"selectedOptions\"\n                :remove-item=\"removeItem\">\n                <span\n                    v-for=\"(option, index) in selectedOptions\"\n                    :key=\"option.key\"\n                    :class=\"itemClasses\">\n                    <span> {{ option.label }}</span>\n\n                    <o-icon\n                        v-if=\"closable && !disabled\"\n                        :class=\"closeClasses\"\n                        :pack=\"iconPack\"\n                        :icon=\"closeIcon\"\n                        clickable\n                        tabindex=\"0\"\n                        role=\"button\"\n                        :aria-label=\"ariaCloseLabel\"\n                        both\n                        @keydown.enter=\"removeItem(index, $event)\"\n                        @click=\"removeItem(index, $event)\" />\n                </span>\n            </slot>\n\n            <o-autocomplete\n                v-show=\"hasInput\"\n                ref=\"autocompleteComponent\"\n                v-model:active=\"isDropdownActive\"\n                v-model:input=\"inputValue\"\n                v-bind=\"autocompleteBind\"\n                :options=\"options\"\n                :filter=\"filter\"\n                :placeholder=\"placeholder\"\n                :icon=\"icon\"\n                :icon-pack=\"iconPack\"\n                :maxlength=\"maxlength\"\n                :size=\"size\"\n                :disabled=\"disabled\"\n                :autocomplete=\"autocomplete\"\n                :open-on-focus=\"openOnFocus\"\n                :keep-first=\"keepFirst\"\n                :keep-open=\"keepOpen\"\n                :check-scroll=\"checkScroll\"\n                :teleport=\"teleport\"\n                :has-counter=\"false\"\n                :use-html5-validation=\"false\"\n                expanded\n                @input=\"onInput\"\n                @focus=\"onFocus\"\n                @blur=\"onBlur\"\n                @invalid=\"onInvalid\"\n                @keydown.enter=\"onEnter\"\n                @keydown.tab=\"onEnter\"\n                @keydown.backspace=\"onBackspace\"\n                @select=\"onSelect\"\n                @scroll-start=\"$emit('scroll-start')\"\n                @scroll-end=\"$emit('scroll-end')\"\n                @icon-click=\"$emit('icon-click', $event)\"\n                @icon-right-click=\"$emit('icon-right-click', $event)\">\n                <template v-if=\"$slots.header\" #header>\n                    <!--\n                        @slot Define an additional header\n                    -->\n                    <slot name=\"header\" />\n                </template>\n\n                <template\n                    v-if=\"$slots.default\"\n                    #default=\"{ option, index, value }\">\n                    <!--\n                        @slot Override the select option\n                        @binding {object} option - option object\n                        @binding {number} index - option index\n                        @binding {unknown} value - option value\n                    -->\n                    <slot :option=\"option\" :index=\"index\" :value=\"value\" />\n                </template>\n\n                <template v-if=\"$slots.empty\" #empty>\n                    <!--\n                        @slot Define content for empty state \n                    -->\n                    <slot name=\"empty\" />\n                </template>\n\n                <template v-if=\"$slots.footer\" #footer>\n                    <!--\n                        @slot Define an additional footer\n                    -->\n                    <slot name=\"footer\" />\n                </template>\n            </o-autocomplete>\n        </div>\n\n        <small\n            v-if=\"counter && (maxitems || maxlength)\"\n            :class=\"counterClasses\">\n            <template v-if=\"maxlength && inputLength > 0\">\n                <!--\n                    @slot Override the counter\n                    @binding {number} items - items count\n                    @binding {number} total - total count\n                -->\n                <slot name=\"counter\" :items=\"inputLength\" :total=\"maxlength\">\n                    {{ inputLength }} / {{ maxlength }}\n                </slot>\n            </template>\n\n            <template v-else-if=\"maxitems\">\n                <!--\n                    @slot Override the counter\n                    @binding {number} items - items count\n                    @binding {number} total - total count\n                -->\n                <slot name=\"counter\" :items=\"itemsLength\" :total=\"maxitems\">\n                    {{ itemsLength }} / {{ maxitems }}\n                </slot>\n            </template>\n        </small>\n    </div>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Taginput from \"./Taginput.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export taginput plugin */\nexport default {\n    install(Vue: App) {\n        registerComponent(Vue, Taginput);\n    },\n} as Plugin;\n\n/** export taginput components */\nexport { Taginput as OTaginput };\n","import type { App, Plugin } from \"vue\";\n\nimport Timepicker from \"./Timepicker.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export timepicker plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Timepicker);\n    },\n} as Plugin;\n\n/** export timepicker components */\nexport { Timepicker as OTimepicker };\n","import type { App, Plugin } from \"vue\";\n\nimport Tooltip from \"./Tooltip.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export tooltip plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Tooltip);\n    },\n} as Plugin;\n\n/** export tooltip components */\nexport { Tooltip as OTooltip };\n","<script\n    setup\n    lang=\"ts\"\n    generic=\"\n        T extends object | typeof File,\n        IsMultiple extends boolean = false\n    \">\nimport { computed, ref, useAttrs, useTemplateRef, watch } from \"vue\";\n\nimport { getDefault } from \"@/utils/config\";\nimport { File } from \"@/utils/ssr\";\nimport { isTrueish } from \"@/utils/helpers\";\nimport { defineClasses, useInputHandler } from \"@/composables\";\n\nimport { injectField } from \"../field/fieldInjection\";\n\nimport type { UploadProps } from \"./props\";\n\n/**\n * Upload one or more files.\n * @displayName Upload\n * @style _upload.scss\n */\ndefineOptions({\n    isOruga: true,\n    name: \"OUpload\",\n    configField: \"upload\",\n    inheritAttrs: false,\n});\n\ntype ModelValue = UploadProps<T, IsMultiple>[\"modelValue\"];\n\nconst props = withDefaults(defineProps<UploadProps<T, IsMultiple>>(), {\n    override: undefined,\n    modelValue: undefined,\n    // multiple: false,\n    variant: () => getDefault(\"upload.variant\"),\n    disabled: false,\n    accept: undefined,\n    dragDrop: false,\n    expanded: false,\n    native: true,\n    useHtml5Validation: () => getDefault(\"useHtml5Validation\", true),\n    customValidity: \"\",\n});\n\nconst emits = defineEmits<{\n    /**\n     * modelValue prop two-way binding\n     * @param value {object | object[] | File | File[]} updated modelValue prop\n     */\n    \"update:model-value\": [value: ModelValue];\n    /**\n     * on input focus event\n     * @param event {Event} native event\n     */\n    focus: [event: Event];\n    /**\n     * on input blur event\n     * @param event {Event} native event\n     */\n    blur: [event: Event];\n    /**\n     * on input invalid event\n     * @param event {Event} native event\n     */\n    invalid: [event: Event];\n}>();\n\nconst inputRef = useTemplateRef(\"inputElement\");\n\n// use form input functionality\nconst { checkHtml5Validity, onFocus, onBlur, onInvalid, isValid, setFocus } =\n    useInputHandler(inputRef, emits, props);\n\n// inject parent field component if used inside one\nconst { parentField } = injectField();\n\nconst vmodel = defineModel<ModelValue>({ default: undefined });\n\nconst dragDropFocus = ref(false);\n\n/**\n * When v-model is changed:\n * 1. Reset interna input file value\n * 2. If it's invalid, validate again.\n */\nwatch(vmodel, (value) => {\n    if (!value || (Array.isArray(value) && value.length === 0))\n        if (inputRef.value) inputRef.value.value = \"\";\n    if (!isValid.value && !props.dragDrop) checkHtml5Validity();\n});\n\n/**\n * Listen change event on input type 'file',\n * emit 'input' event and validate\n */\nfunction onFileChange(event: Event | DragEvent): void {\n    if (props.disabled) return;\n    if (props.dragDrop) updateDragDropFocus(false);\n    const value =\n        (event.target as HTMLInputElement).files ||\n        (event as DragEvent).dataTransfer?.files ||\n        [];\n    // no file selected\n    if (value.length === 0) {\n        if (!vmodel.value) return;\n        if (props.native) vmodel.value = undefined;\n    }\n\n    // multiple upload\n    if (isTrueish(props.multiple)) {\n        // always new values if native or undefined local\n        const values =\n            props.native || !vmodel.value || !Array.isArray(vmodel.value)\n                ? []\n                : [...vmodel.value];\n\n        for (let i = 0; i < value.length; i++) {\n            const file = value[i];\n            // add file when type is valid\n            if (checkType(file)) values.push(file);\n        }\n        vmodel.value = values as ModelValue;\n    }\n    // single uplaod\n    else {\n        // only one element in case drag drop mode and isn't multiple\n        if (props.dragDrop && value.length !== 1) return;\n        else {\n            const file = value[0];\n            // add file when type is valid\n            if (checkType(file)) vmodel.value = file as ModelValue;\n            // else clear input\n            else if (vmodel.value) {\n                vmodel.value = undefined;\n                clearInput();\n            } else {\n                // Force input back to empty state and recheck validity\n                clearInput();\n                checkHtml5Validity();\n                return;\n            }\n        }\n    }\n\n    if (!props.dragDrop) checkHtml5Validity();\n}\n\n/** Reset file input value */\nfunction clearInput(): void {\n    if (inputRef.value) inputRef.value.value = \"\";\n}\n\n/** Listen drag-drop to update internal variable */\nfunction updateDragDropFocus(focus: boolean): void {\n    if (!props.disabled) dragDropFocus.value = focus;\n}\n\n/** Check mime type of file s*/\nfunction checkType(file: File): boolean {\n    if (!props.accept) return true;\n    const types = props.accept.split(\",\");\n    if (types.length === 0) return true;\n    for (let i = 0; i < types.length; i++) {\n        const type = types[i].trim();\n        if (type) {\n            if (type.substring(0, 1) === \".\") {\n                const extension = file.name.toLowerCase().slice(-type.length);\n                if (extension === type.toLowerCase()) return true;\n            } else {\n                // check mime type\n                if (file.type.match(type)) return true;\n            }\n        }\n    }\n    return false;\n}\n\nfunction onClick(event: Event): void {\n    if (props.disabled) return;\n\n    // click input if not drag and drop is used\n    if (!props.dragDrop) {\n        event.preventDefault();\n        if (inputRef.value) inputRef.value.click();\n    }\n}\n\n// --- Computed Component Classes ---\n\nconst attrs = useAttrs();\n\nconst inputBind = computed(() => ({\n    ...parentField?.value?.inputAttrs,\n    ...attrs,\n}));\n\nconst rootClasses = defineClasses(\n    [\"rootClass\", \"o-upload\"],\n    [\n        \"expandedClass\",\n        \"o-upload--expanded\",\n        null,\n        computed(() => props.expanded),\n    ],\n    [\n        \"disabledClass\",\n        \"o-upload--disabled\",\n        null,\n        computed(() => props.disabled),\n    ],\n);\n\nconst draggableClasses = defineClasses(\n    [\"draggableClass\", \"o-upload__draggable\"],\n    [\n        \"hoveredClass\",\n        \"o-upload__draggable--hovered\",\n        null,\n        computed(() => !props.variant && dragDropFocus.value),\n    ],\n    [\n        \"variantClass\",\n        \"o-upload__draggable--hovered-\",\n        computed(() => props.variant),\n        computed(() => !!props.variant && dragDropFocus.value),\n    ],\n);\n\n// --- Expose Public Functionalities ---\n\n/** expose functionalities for programmatic usage */\ndefineExpose({ focus: setFocus, value: vmodel });\n</script>\n\n<template>\n    <label data-oruga=\"upload\" :class=\"rootClasses\">\n        <template v-if=\"!dragDrop\">\n            <!--\n                @slot Default content\n                @binding {(event:Event): void} onclick - click handler, only needed if a button is used\n            -->\n            <slot :onclick=\"onClick\" />\n        </template>\n\n        <div\n            v-else\n            :class=\"draggableClasses\"\n            role=\"button\"\n            tabindex=\"0\"\n            @mouseenter=\"updateDragDropFocus(true)\"\n            @mouseleave=\"updateDragDropFocus(false)\"\n            @dragover.prevent=\"updateDragDropFocus(true)\"\n            @dragleave.prevent=\"updateDragDropFocus(false)\"\n            @dragenter.prevent=\"updateDragDropFocus(true)\"\n            @drop.prevent=\"onFileChange\">\n            <!--\n                @slot Default content     \n                @binding {(event:Event): void} onclick - click handler, only needed if a button is used\n            -->\n            <slot :onclick=\"onClick\" />\n        </div>\n\n        <input\n            v-bind=\"inputBind\"\n            ref=\"inputElement\"\n            type=\"file\"\n            data-oruga-input=\"file\"\n            :multiple=\"props.multiple\"\n            :accept=\"accept\"\n            :disabled=\"disabled\"\n            @change=\"onFileChange\"\n            @focus=\"onFocus\"\n            @blur=\"onBlur\"\n            @invalid=\"onInvalid\" />\n    </label>\n</template>\n","import type { App, Plugin } from \"vue\";\n\nimport Upload from \"./Upload.vue\";\n\nimport { registerComponent } from \"@/utils/plugins\";\n\n/** export upload plugin */\nexport default {\n    install(app: App) {\n        registerComponent(app, Upload);\n    },\n} as Plugin;\n\n/** export upload components */\nexport { Upload as OUpload };\n","import type { App, Plugin } from \"vue\";\nimport type { OrugaOptions } from \"./types\";\n\nimport * as plugins from \"./components/plugins\";\n\nimport { ConfigProgrammatic, OrugaConfig } from \"./utils/config\";\nimport { registerPlugin, registerComponentProgrammatic } from \"./utils/plugins\";\n\n// export all types\nexport * from \"./types\";\nexport * from \"./components/types\";\n\n// export all helper functions\nexport * from \"./utils/helpers\";\n\n// export all vue components\nexport * from \"./components\";\n// export all components as vue plugin\nexport * from \"./components/plugins\";\n\n// export programmatic config\nexport { OrugaConfig, ConfigProgrammatic };\n\n// export programmatic composable\nexport { useOruga, type OrugaProgrammatic } from \"./utils/programmatic\";\n\n// main oruga vue plugin\nconst plugin: Plugin = {\n    install(app: App, options: OrugaOptions = {}) {\n        // initialise config with options\n        app.use(OrugaConfig, options);\n\n        // add all components\n        for (const componentKey in plugins) {\n            registerPlugin(app, plugins[componentKey]);\n        }\n\n        // add programmatic config component\n        registerComponentProgrammatic(app, \"config\", ConfigProgrammatic);\n    },\n};\n\n// export default oruga vue plugin\nexport { plugin as Oruga };\nexport default plugin;\n"],"names":["signPoly","value","sign","mod","n","pad","bound","val","min","max","isObject","isDate","isDefined","isTrueish","blankIfUndefined","defaultIfUndefined","defaultValue","toCssDimension","width","dimension","sortBy","array","key","fn","isAsc","mutate","a","b","newA","getValueByPath","newB","isEqual","valueA","valueB","keys1","keys2","val1","val2","areObjects","index","isElement","el","getPropertyValue","obj","field","formatter","property","label","merge","target","source","deep","mergeDeep","targetValue","sourceValue","path","o","i","setValueByPath","p","removeElement","escapeRegExpChars","removeDiacriticsFromString","isVNodeEmpty","vnode","Comment","Text","Fragment","isMobileAgent","oruga","ref","addProgrammatic","component","useOruga","VueInstance","setVueInstance","Vue","registerPlugin","app","plugin","registerComponent","registerComponentProgrammatic","isClient","isSSR","globalOptions","setOptions","options","getOptions","toRaw","getOption","getDefault","setOption","ConfigProgrammatic","OrugaConfig","mdiIcons","faIcons","faIconPrefix","getIcons","icons","customIconPacks","unrefElement","elRef","plain","toValue","resolveElement","targetQuery","getActiveClasses","classes","values","bind","v","defineClasses","args","classDefinitions","vm","getCurrentInstance","getCurrentScope","scope","effectScope","onScopeDispose","defintion","className","defaultClass","suffix","apply","getClassBind","computedClass","computeClass","applied","watch","_a","classBind","isRef","oldValue","props","getProps","componentKey","config","globalClass","localClass","suffixProcessor","globalOverride","localOverride","appliedClasses","globalTransformClasses","localTransformClasses","input","cls","useEventListener","element","event","handler","cleanup","register","optionsClone","stopWatch","onMounted","stop","useMatchMedia","mobileBreakpoint","isMobile","mediaQuery","configField","defaultWidth","onMatchMedia","$FieldKey","provideField","data","provide","injectField","parentField","inject","computed","statusMessage","statusVariant","statusVariantIconConfig","statusVariantIcon","validatableFormElementTypes","asValidatableFormElement","t","constraintValidationAttributes","useInputHandler","inputRef","emits","maybeElement","inputs","isFocused","setFocus","nextTick","doClick","onBlur","checkHtml5Validity","onFocus","isValid","setFieldValidity","variant","message","setInvalid","onInvalid","validatable","isFirstInvalid","formElements","fieldElement","invalidHandler","canScrollToField","forceValidationUpdate","watchEffect","validity","newItems","oldItems","newElement","newUseValidation","oldElement","oldUseValidation","onAttributeChange","triggerRef","validationAttributeObserver","newData","oldData","valid","useValidation","functionalValidation","oldEl","needWatcher","ancestor","useDebounce","func","wait","immediate","timeout","later","useSequentialId","start","sequence","nextSequence","useProviderParent","childItems","sortHandler","items","parent","ids","item","children","sortedIds","registerItem","identifier","unregisterItem","useProviderChild","_b","onUnmounted","useClickOutside","elements","listenerOptions","ignores","shouldIgnore","listener","getScrollingParent","isScrollingParent","nextParent","overflow","overflowY","scrollHeight","clientHeight","normalizeOptions","uuid","option","isGroupOption","toOptionsGroup","toOptionsList","list","group","filterOptionsItems","filter","idx","checkOptionsEmpty","isOptionViable","findOption","found","usePreventScrolling","clipScroll","scrollClipClasses","scrollKeepClasses","scrollClass","savedScrollTop","onBeforeUnmount","toggleScroll","active","useTeleportDefault","findFocusable","useTrapFocus","onKeyDown","applyHandler","focusable","firstFocusable","lastFocusable","__props","rootStyle","style","iconConfig","iconPrefix","customSizeByPack","computedIcon","getEquivalentIconOf","computedSize","computedVariant","newVariant","rootClasses","__emit","useTemplateRef","vmodel","_useModel","valueLength","resize","height","computedStyles","debouncedInput","debounce","onInput","placeholderVisible","hasIconRight","computedIconRight","passwordVisibleIcon","computedIconRightVariant","iconClick","rightIconClick","togglePasswordVisibility","isPasswordVisible","inputType","attrs","useAttrs","inputBind","inputClasses","iconLeftClasses","iconRightClasses","counterClasses","__expose","itemValue","useId","rootRef","providedData","selectItem","isClickable","isSelected","selected","focusItem","opposites","_teleport","contentRef","setContent","updatePositioning","addHandler","initialPosition","scrollingParent","resizeObserver","removeHandler","position","getAutoPosition","content","trigger","rect","top","left","bestPosition","viewRect","contentRect","triggerRect","triggerAnchors","anchors","contentAnchors","contentRectAtAnchor","pos","triggerAnchor","contentAnchor","defaultOpposite","crossPosition","crossOpposite","positions","maxOverlap","overlap","intersectionArea","right","bottom","maintainScrollVisibility","activeElement","scrollParent","offsetHeight","offsetTop","parentOffsetHeight","scrollTop","isAbove","isBelow","useInfiniteScroll","elementRef","onEnd","onStart","checkScroll","trashhold","menuRef","provideData","focusedItem","groupedOptions","normalizedOptions","isNotEmpty","isItemViable","isActive","labelId","autoPosition","isMobileNative","isModal","menuStyle","hoverable","onClickedOutside","onPageScroll","moveFocus","close","onTriggerClick","toggle","onTriggerContextMenu","open","onTriggerFocus","onTriggerHover","onTriggerHoverLeave","method","timer","delta","getFirstViableItem","dropdownMenu","onUpPressed","onDownPressed","onEnter","onHomePressed","onEndPressed","onEscape","startingIndex","newIndex","_c","triggerClasses","teleportClasses","overlayClasses","menuClasses","slots","useSlots","selectedValue","inputValue","menuId","filterItems","isEmpty","empty","dropdownValue","currentOption","setSelected","handleFocus","handleBlur","computedIconRightClickable","itemClasses","itemEmptyClasses","itemGroupClasses","itemHeaderClasses","itemFooterClasses","index$t","Autocomplete","computedTag","computedNativeType","wrapperClasses","labelClasses","iconClasses","index$s","Button","activeIndex","total","itemWidth","onDragStart","switchTo","indicatorItems","settings","onRefresh","windowWidth","hasReducedMotion","startTimer","onDragEnd","pauseTimer","breakpoint","readonly","hasArrows","isHovered","hasPrev","onPrev","hasNext","onNext","onChange","isAutoplayPaused","onMouseEnter","onMouseLeave","status","onToggleAutoplay","dragX","isDragging","translation","onDragOver","dragEndX","signCheck","results","itemsClasses","prevIconClasses","nextIconClasses","autoplayIconClasses","indicatorsClasses","indicatorClasses","indicatorItemClasses","indicatorItemActiveClasses","indicatorItemAppliedClasses","activeClasses","itemStyle","onClick","index$r","Carousel","CarouselItem","isChecked","index$q","Checkbox","isOpen","contentClasses","index$p","Collapse","selectRef","rightIcon","rightIconVariant","emit","leftIconClick","selectClasses","dropdownRef","nativeInputRef","initialNativeType","setValue","date","checkMinMaxDate","onActiveChange","triggers","onKeyPress","togglePicker","onInputClick","onNativeClick","onNativeFocus","onNativeBlur","onNativeChange","dropdownBind","getMonthNames","locale","format","dates","dtf","d","getWeekdayNames","firstDayOfWeek","j","matchWithGroups","pattern","str","matches","groupMatches","match","acc","curr","weekBuilder","startingDate","month","year","thisMonth","thisWeek","dayOfWeek","end","daysAgo","daysForward","firstWeekOffset","dow","doy","fwd","daysInYear","weeksInYear","weekOffset","weekOffsetNext","useDatepickerMixins","isDateSelectable","enabledDate","disabledDate","isTypeMonth","localeOptions","dtfMonth","sampleTime","dateCreator","dateFormatter","targetDates","dateParser","isArray","formatRegex","part","dateGroups","s","hasEvents","dayRefs","setDayRef","refKey","day","clickWeekNumber","week","getDayOfYear","getWeekNumber","mom","resWeek","resYear","eventsDateMatch","onKeydown","weekDay","preventDefault","selectDate","changeFocus","inc","nextDay","setRangeHoverEndDate","dateMatch","dateOne","dateTwo","multiple","dateWithin","cellClasses","tableCellClasses","cellEventsClass","eventClasses","tableRowClasses","tableEventsClasses","focusedDateModel","selectedBeginDate","selectedEndDate","hoveredEndDate","visibleDayNames","currentDayName","eventsInThisMonth","weeksInThisMonth","validateFocusedDay","startingDay","newWeek","eventsInThisWeek","stripped","timed","weekDate","hoveredDateRange","currentDate","monthDays","onSelectedDate","handleSelectMultipleDates","handleSelectRangeDate","multipleSelectedDates","selectedDate","onRangeHoverEndDate","onChangeFocus","tableClasses","tableHeadClasses","tableHeadCellClasses","tableBodyClasses","monthRefs","setMonthRef","eventsInThisYear","monthDates","months","focused","dateMultipleSelected","monthClasses","monthTableClasses","monthCellClasses","monthEventsClasses","pickerRef","focusedDateData","_initialDate","computedMonthNames","listOfMonths","minMonth","maxMonth","name","computedDayNames","listOfYears","latestYear","earliestYear","showPrev","dateToCheck","prev","showNext","next","isNative","formatNative","parse","parseNative","prevDate","nextDate","boxClasses","boxClassBind","headerClasses","prevButtonClasses","nextButtonClasses","listsClasses","footerClasses","pickerDropdownClasses","index$o","Datepicker","AM","PM","HOUR_FORMAT_24","HOUR_FORMAT_12","useTimepickerMixins","isHourFormat24","timeCreator","amString","dayPeriod","pmString","meridiens","hourLiteral","parts","literal","minuteLiteral","secondLiteral","timeFormatter","time","timeParser","timeGroups","am","dateString12","timeSplit","hours","minutes","seconds","hoursSelected","minutesSelected","secondsSelected","meridienSelected","updateValue","step","formatNumber","prependZero","numberOfHours","isHourDisabled","hour","disabled","minHours","noMinutesAvailable","minute","isMinuteDisabledForHour","maxHours","minMinutes","maxMinutes","isMinuteDisabled","isSecondDisabled","second","minSeconds","maxSeconds","isMeridienDisabled","meridienString","offset","updateDateSelected","onMeridienChange","onHoursChange","onMinutesChange","onSecondsChange","separatorClasses","selectSelectClasses","selectPlaceholderClasses","selectBind","useDateimepickerMixins","datetimeCreator","datetimeFormatter","datetimeParser","dayPeriods","datetimeGroups","datepickerRef","timepickerProps","datepickerProps","updateVModel","minDate","maxDate","minTime","maxTime","datepickerSize","timepickerSize","timepickerDisabled","onChangeNativePicker","datepickerWrapperClasses","timepickerWrapperClasses","index$n","Datetimepicker","index$m","Dropdown","DropdownItem","inputId","fieldVariant","fieldMessage","isFilled","hasInnerField","hasLabel","hasMessage","hasBody","hasAddons","getInnerContent","slot","addInnerField","setFilled","setVariant","setMessage","setInputId","inputAttrs","horizontalLabelClasses","horizontalBodyClasses","bodyClasses","innerBodyClasses","messageClasses","index$l","Field","index$k","Icon","index$j","Input","isFullPage","cancel","InstanceRegistry","__publicField","entry","callback","e","ProgrammaticComponent","defineComponent","expose","resolve","promise","p1","createVNode","registry","ComponentProgrammatic","container","onDestroy","createApp","index$i","LoadingProgrammatic","_options","componentProps","Loading","index$h","isExpanded","setExpand","triggerReset","menuItem","hasChildren","reset","childs","state","buttonClasses","submenuClasses","resetMenu","excludedItems","selectedItem","onCollapse","onExpend","_d","onFocusLeave","listClasses","index$g","Menu","MenuItem","vTrapFocus","showX","customStyle","isAnimating","afterEnter","beforeLeave","closeClasses","ModalProgrammatic","Modal","index$f","notificationRef","parentTop","parentBottom","onBeforeMount","noticeClasses","positionBottomClasses","positionTopClasses","topClasses","bottomClasses","noticeContainerClasses","c","showNotice","setAutoClose","correctParent","shouldQueue","isAlert","NotificationProgrammatic","NotificationNotice","index$e","Notification","currentPage","pageCount","firstItem","perPage","isFirst","hasFirst","hasFirstEllipsis","isLast","hasLast","hasLastEllipsis","pagesInRange","pages","getPage","num","ariaLabel","changePage","getAriaPageLabel","pageNumber","isCurrent","first","last","page","infoClasses","ellipsisClasses","listItemClasses","buttonCurrentClasses","buttonPrevClasses","buttonNextClasses","index$d","Pagination","index$c","Radio","index$b","Select","index$a","Skeleton","transitionName","vertical","hideOnMobile","clickedOutside","SidebarProgrammatic","Sidebar","index$9","tooltipId","cancelOptions","onContextMenu","onHover","onClose","arrowClasses","dragging","startX","startPosition","newPosition","tooltip","tooltipAlways","indicator","precision","precisions","decimal","computedTooltipVariant","currentPosition","wrapperStyle","formattedValue","onButtonDown","onDragging","onLeftKeyDown","setPosition","onRightKeyDown","onHomeKeyDown","onEndKeyDown","diff","percent","stepLength","hidden","tickStyle","tickLabelClasses","sliderRef","thumbStartRef","thumbEndRef","valueStart","valueEnd","isThumbReversed","isTrackClickDisabled","minValue","maxValue","isRange","setValues","newValue","smallValue","largeValue","tickValues","result","barSize","barStart","barStyle","getSliderSize","onSliderClick","sliderOffsetLeft","diffFirst","diffSecond","trackClasses","fillClasses","thumbWrapperClasses","thumbClasses","index$8","Slider","SliderTick","stepClasses","stepIconClasses","stepLabelClasses","isTransitioning","activate","deactivate","nextAnimation","prevAnimation","oldIndex","panelClasses","activeItem","column","performAction","activateItem","fowardIndex","itemClick","getFirstViableIndex","viableIndex","forward","direction","oldItem","newItem","tablistClasses","dividerClasses","markerClasses","navigationClasses","index$7","Steps","StepItem","index$6","Switch","OSlotComponent","_props","mobileSort","showPlaceholder","sortableColumns","isCurrentSort","sort","isHeaderUnselectable","thClasses","tdClasses","pageChanged","newPage","isMobileActive","slotsRef","isColumnSorted","tableColumns","columnItem","thAttrsData","tdAttrsData","tdAttrs","columnCount","showDetailRowIcon","ariaColIndexStart","hasSubheadings","isScrollable","tableCurrentPage","filterTableRows","tableRows","availableRows","pageStart","pageEnd","row","isRowFiltered","tableTotal","rowCount","ariaRowIndexStart","hasSearchableColumns","hasCustomFooterSlot","footer","tag","getColumnValue","isRowEqual","sourceRow","targetRow","el1","el2","tableSelectedRow","onArrowPressed","selectRow","filters","debouncedFilter","handleFiltersChange","onFiltersEvent","re","currentSortColumn","hasSortableColumns","initSort","sortField","sortDirection","sortByField","sortColumn","updateDirection","sortByColumn","rows","asc","tableCheckedRows","isAllChecked","validVisibleData","currentVisibleRow","isAllUncheckable","r","addCheckedRow","removeCheckedRow","checkAll","checkRow","visibleDetailedRows","toggleDetails","isDetailRowVisible","closeDetailRow","openDetailRow","isDraggingRow","isDraggingColumn","canDragRow","canDragColumn","handleDragStart","handleDragEnd","handleDrop","handleDragOver","handleDragLeave","handleColumnDragStart","handleColumnDragEnd","handleColumnDrop","handleColumnDragOver","handleColumnDragLeave","tableWrapperClasses","tableWrapperStyle","thBaseClasses","thCheckboxClasses","thDetailedClasses","thSubheadingClasses","thSortIconClasses","trSelectedClasses","trCheckedClasses","trEmptyClasses","trDetailedClasses","tdBaseClasses","tdCheckboxClasses","tdDetailedChevronClasses","mobileSortClasses","paginationWrapperClasses","paginationWrapperRootClasses","rowClasses","selectedClasses","checkedClasses","rowClass","index$5","Table","TableColumn","tabClasses","tabIconClasses","tabLabelClasses","index$4","Tabs","TabItem","autocompleteRef","isDropdownActive","selectedItems","inputLength","itemsLength","selectedOptions","hasInput","addItem","itemToAdd","removeItem","onSelect","onBackspace","containerClasses","autocompleteRootClasses","autocompleteInputClasses","autocompleteBind","index$3","Taginput","index$2","Timepicker","index$1","Tooltip","dragDropFocus","onFileChange","updateDragDropFocus","file","checkType","clearInput","focus","types","type","draggableClasses","Upload","plugins"],"mappings":"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"}